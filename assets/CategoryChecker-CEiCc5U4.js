import{r as c,j as n,b as u,P as x,u as p,h as se,i as te,C as ae,k as ne}from"./index-CXcT0C4J.js";import{n as re}from"./CatalogService-BEtntW3k.js";import{c as ce}from"./ProductFilter-DZwYJBCA.js";const le={type:x.string,tooltip:x.bool,as:x.elementType},w=c.forwardRef(({as:e="div",className:o,type:s="valid",tooltip:t=!1,...a},r)=>n.jsx(e,{...a,ref:r,className:u(o,`${s}-${t?"tooltip":"feedback"}`)}));w.displayName="Feedback";w.propTypes=le;const y=c.createContext({}),I=c.forwardRef(({id:e,bsPrefix:o,className:s,type:t="checkbox",isValid:a=!1,isInvalid:r=!1,as:l="input",...i},d)=>{const{controlId:m}=c.useContext(y);return o=p(o,"form-check-input"),n.jsx(l,{...i,ref:d,type:t,id:e||m,className:u(s,o,a&&"is-valid",r&&"is-invalid")})});I.displayName="FormCheckInput";const v=c.forwardRef(({bsPrefix:e,className:o,htmlFor:s,...t},a)=>{const{controlId:r}=c.useContext(y);return e=p(e,"form-check-label"),n.jsx("label",{...t,ref:a,htmlFor:s||r,className:u(o,e)})});v.displayName="FormCheckLabel";function ie(e,o){return c.Children.toArray(e).some(s=>c.isValidElement(s)&&s.type===o)}const M=c.forwardRef(({id:e,bsPrefix:o,bsSwitchPrefix:s,inline:t=!1,reverse:a=!1,disabled:r=!1,isValid:l=!1,isInvalid:i=!1,feedbackTooltip:d=!1,feedback:m,feedbackType:f,className:h,style:C,title:j="",type:R="checkbox",label:k,children:A,as:Z="input",...b},P)=>{o=p(o,"form-check"),s=p(s,"form-switch");const{controlId:S}=c.useContext(y),ee=c.useMemo(()=>({controlId:e||S}),[S,e]),O=!A&&k!=null&&k!==!1||ie(A,v),oe=n.jsx(I,{...b,type:R==="switch"?"checkbox":R,ref:P,isValid:l,isInvalid:i,disabled:r,as:Z});return n.jsx(y.Provider,{value:ee,children:n.jsx("div",{style:C,className:u(h,O&&o,t&&`${o}-inline`,a&&`${o}-reverse`,R==="switch"&&s),children:A||n.jsxs(n.Fragment,{children:[oe,O&&n.jsx(v,{title:j,children:k}),m&&n.jsx(w,{type:f,tooltip:d,children:m})]})})})});M.displayName="FormCheck";const $=Object.assign(M,{Input:I,Label:v}),V=c.forwardRef(({bsPrefix:e,type:o,size:s,htmlSize:t,id:a,className:r,isValid:l=!1,isInvalid:i=!1,plaintext:d,readOnly:m,as:f="input",...h},C)=>{const{controlId:j}=c.useContext(y);return e=p(e,"form-control"),n.jsx(f,{...h,type:o,size:t,ref:C,readOnly:m,id:a||j,className:u(r,d?`${e}-plaintext`:e,s&&`${e}-${s}`,o==="color"&&`${e}-color`,l&&"is-valid",i&&"is-invalid")})});V.displayName="FormControl";const de=Object.assign(V,{Feedback:w}),H=c.forwardRef(({className:e,bsPrefix:o,as:s="div",...t},a)=>(o=p(o,"form-floating"),n.jsx(s,{ref:a,className:u(e,o),...t})));H.displayName="FormFloating";const B=c.forwardRef(({controlId:e,as:o="div",...s},t)=>{const a=c.useMemo(()=>({controlId:e}),[e]);return n.jsx(y.Provider,{value:a,children:n.jsx(o,{...s,ref:t})})});B.displayName="FormGroup";function me({as:e,bsPrefix:o,className:s,...t}){o=p(o,"col");const a=se(),r=te(),l=[],i=[];return a.forEach(d=>{const m=t[d];delete t[d];let f,h,C;typeof m=="object"&&m!=null?{span:f,offset:h,order:C}=m:f=m;const j=d!==r?`-${d}`:"";f&&l.push(f===!0?`${o}${j}`:`${o}${j}-${f}`),C!=null&&i.push(`order${j}-${C}`),h!=null&&i.push(`offset${j}-${h}`)}),[{...t,className:u(s,...l,...i)},{as:e,bsPrefix:o,spans:l}]}const G=c.forwardRef((e,o)=>{const[{className:s,...t},{as:a="div",bsPrefix:r,spans:l}]=me(e);return n.jsx(a,{...t,ref:o,className:u(s,!l.length&&r)})});G.displayName="Col";const K=c.forwardRef(({as:e="label",bsPrefix:o,column:s=!1,visuallyHidden:t=!1,className:a,htmlFor:r,...l},i)=>{const{controlId:d}=c.useContext(y);o=p(o,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const f=u(a,o,t&&"visually-hidden",s&&m);return r=r||d,s?n.jsx(G,{ref:i,as:"label",className:f,htmlFor:r,...l}):n.jsx(e,{ref:i,className:f,htmlFor:r,...l})});K.displayName="FormLabel";const U=c.forwardRef(({bsPrefix:e,className:o,id:s,...t},a)=>{const{controlId:r}=c.useContext(y);return e=p(e,"form-range"),n.jsx("input",{...t,type:"range",ref:a,className:u(o,e),id:s||r})});U.displayName="FormRange";const _=c.forwardRef(({bsPrefix:e,size:o,htmlSize:s,className:t,isValid:a=!1,isInvalid:r=!1,id:l,...i},d)=>{const{controlId:m}=c.useContext(y);return e=p(e,"form-select"),n.jsx("select",{...i,size:s,ref:d,className:u(t,e,o&&`${e}-${o}`,a&&"is-valid",r&&"is-invalid"),id:l||m})});_.displayName="FormSelect";const q=c.forwardRef(({bsPrefix:e,className:o,as:s="small",muted:t,...a},r)=>(e=p(e,"form-text"),n.jsx(s,{...a,ref:r,className:u(o,e,t&&"text-muted")})));q.displayName="FormText";const z=c.forwardRef((e,o)=>n.jsx($,{...e,ref:o,type:"switch"}));z.displayName="Switch";const ue=Object.assign(z,{Input:$.Input,Label:$.Label}),D=c.forwardRef(({bsPrefix:e,className:o,children:s,controlId:t,label:a,...r},l)=>(e=p(e,"form-floating"),n.jsxs(B,{ref:l,className:u(o,e),controlId:t,...r,children:[s,n.jsx("label",{htmlFor:t,children:a})]})));D.displayName="FloatingLabel";const pe={_ref:x.any,validated:x.bool,as:x.elementType},E=c.forwardRef(({className:e,validated:o,as:s="form",...t},a)=>n.jsx(s,{...t,ref:a,className:u(e,o&&"was-validated")}));E.displayName="Form";E.propTypes=pe;const fe=Object.assign(E,{Group:B,Control:de,Floating:H,Check:$,Switch:ue,Label:K,Text:q,Range:U,Select:_,FloatingLabel:D});function J(e,o){return Array.isArray(e)?e.includes(o):e===o}const N=c.createContext({});N.displayName="AccordionContext";const L=c.forwardRef(({as:e="div",bsPrefix:o,className:s,children:t,eventKey:a,...r},l)=>{const{activeEventKey:i}=c.useContext(N);return o=p(o,"accordion-collapse"),n.jsx(ae,{ref:l,in:J(i,a),...r,className:u(s,o),children:n.jsx(e,{children:c.Children.only(t)})})});L.displayName="AccordionCollapse";const g=c.createContext({eventKey:""});g.displayName="AccordionItemContext";const Q=c.forwardRef(({as:e="div",bsPrefix:o,className:s,onEnter:t,onEntering:a,onEntered:r,onExit:l,onExiting:i,onExited:d,...m},f)=>{o=p(o,"accordion-body");const{eventKey:h}=c.useContext(g);return n.jsx(L,{eventKey:h,onEnter:t,onEntering:a,onEntered:r,onExit:l,onExiting:i,onExited:d,children:n.jsx(e,{ref:f,...m,className:u(s,o)})})});Q.displayName="AccordionBody";function he(e,o){const{activeEventKey:s,onSelect:t,alwaysOpen:a}=c.useContext(N);return r=>{let l=e===s?null:e;a&&(Array.isArray(s)?s.includes(e)?l=s.filter(i=>i!==e):l=[...s,e]:l=[e]),t==null||t(l,r),o==null||o(r)}}const T=c.forwardRef(({as:e="button",bsPrefix:o,className:s,onClick:t,...a},r)=>{o=p(o,"accordion-button");const{eventKey:l}=c.useContext(g),i=he(l,t),{activeEventKey:d}=c.useContext(N);return e==="button"&&(a.type="button"),n.jsx(e,{ref:r,onClick:i,...a,"aria-expanded":Array.isArray(d)?d.includes(l):l===d,className:u(s,o,!J(d,l)&&"collapsed")})});T.displayName="AccordionButton";const W=c.forwardRef(({as:e="h2","aria-controls":o,bsPrefix:s,className:t,children:a,onClick:r,...l},i)=>(s=p(s,"accordion-header"),n.jsx(e,{ref:i,...l,className:u(t,s),children:n.jsx(T,{onClick:r,"aria-controls":o,children:a})})));W.displayName="AccordionHeader";const X=c.forwardRef(({as:e="div",bsPrefix:o,className:s,eventKey:t,...a},r)=>{o=p(o,"accordion-item");const l=c.useMemo(()=>({eventKey:t}),[t]);return n.jsx(g.Provider,{value:l,children:n.jsx(e,{ref:r,...a,className:u(s,o)})})});X.displayName="AccordionItem";const Y=c.forwardRef((e,o)=>{const{as:s="div",activeKey:t,bsPrefix:a,className:r,onSelect:l,flush:i,alwaysOpen:d,...m}=ne(e,{activeKey:"onSelect"}),f=p(a,"accordion"),h=c.useMemo(()=>({activeEventKey:t,onSelect:l,alwaysOpen:d}),[t,l,d]);return n.jsx(N.Provider,{value:h,children:n.jsx(s,{ref:o,...m,className:u(r,f,i&&`${f}-flush`)})})});Y.displayName="Accordion";const F=Object.assign(Y,{Button:T,Collapse:L,Item:X,Header:W,Body:Q});function ye({category:e,catalog:o,showCounter:s,checked:t,disabled:a,onChange:r}){let l=c.useMemo(()=>re(),[]);return n.jsxs(n.Fragment,{children:[n.jsx(fe.Check,{type:"checkbox",id:`form-category-${e.id}`,disabled:a,label:s?`${e.name} (${o.getProducts({...ce(),categories:[e.id]}).length})`:e.name,checked:t(e),onChange:i=>r(e,i.target.checked)}),!a&&e.subcategories.length>0?n.jsx(F,{children:n.jsxs(F.Item,{eventKey:e.id,children:[n.jsx(F.Header,{as:"p",children:`Subcategories for ${e.name}`}),n.jsx(F.Body,{children:n.jsx("div",{role:"list","aria-label":e.getName(),children:[...e.subcategories].sort((i,d)=>l(i.name,d.name)).map(i=>n.jsx("div",{role:"listitem",children:n.jsx(ye,{onChange:r,showCounter:s,catalog:o,checked:t,category:i})}))})})]})}):""]})}export{ye as C,fe as F};
