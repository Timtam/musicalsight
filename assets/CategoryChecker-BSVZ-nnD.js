import{r as c,j as r,b as u,P as x,u as p,h as se,i as te,C as ae,k as ne}from"./index-4f1MFldE.js";import{n as re}from"./CatalogService-BRxhRYYg.js";import{c as ce}from"./ProductFilter-BZCJ1C2g.js";const le={type:x.string,tooltip:x.bool,as:x.elementType},w=c.forwardRef(({as:e="div",className:o,type:s="valid",tooltip:t=!1,...a},l)=>r.jsx(e,{...a,ref:l,className:u(o,`${s}-${t?"tooltip":"feedback"}`)}));w.displayName="Feedback";w.propTypes=le;const y=c.createContext({}),I=c.forwardRef(({id:e,bsPrefix:o,className:s,type:t="checkbox",isValid:a=!1,isInvalid:l=!1,as:n="input",...i},d)=>{const{controlId:m}=c.useContext(y);return o=p(o,"form-check-input"),r.jsx(n,{...i,ref:d,type:t,id:e||m,className:u(s,o,a&&"is-valid",l&&"is-invalid")})});I.displayName="FormCheckInput";const v=c.forwardRef(({bsPrefix:e,className:o,htmlFor:s,...t},a)=>{const{controlId:l}=c.useContext(y);return e=p(e,"form-check-label"),r.jsx("label",{...t,ref:a,htmlFor:s||l,className:u(o,e)})});v.displayName="FormCheckLabel";function ie(e,o){return c.Children.toArray(e).some(s=>c.isValidElement(s)&&s.type===o)}const M=c.forwardRef(({id:e,bsPrefix:o,bsSwitchPrefix:s,inline:t=!1,reverse:a=!1,disabled:l=!1,isValid:n=!1,isInvalid:i=!1,feedbackTooltip:d=!1,feedback:m,feedbackType:f,className:h,style:C,title:j="",type:R="checkbox",label:k,children:A,as:Y="input",...Z},P)=>{o=p(o,"form-check"),s=p(s,"form-switch");const{controlId:S}=c.useContext(y),ee=c.useMemo(()=>({controlId:e||S}),[S,e]),O=!A&&k!=null&&k!==!1||ie(A,v),oe=r.jsx(I,{...Z,type:R==="switch"?"checkbox":R,ref:P,isValid:n,isInvalid:i,disabled:l,as:Y});return r.jsx(y.Provider,{value:ee,children:r.jsx("div",{style:C,className:u(h,O&&o,t&&`${o}-inline`,a&&`${o}-reverse`,R==="switch"&&s),children:A||r.jsxs(r.Fragment,{children:[oe,O&&r.jsx(v,{title:j,children:k}),m&&r.jsx(w,{type:f,tooltip:d,children:m})]})})})});M.displayName="FormCheck";const $=Object.assign(M,{Input:I,Label:v}),V=c.forwardRef(({bsPrefix:e,type:o,size:s,htmlSize:t,id:a,className:l,isValid:n=!1,isInvalid:i=!1,plaintext:d,readOnly:m,as:f="input",...h},C)=>{const{controlId:j}=c.useContext(y);return e=p(e,"form-control"),r.jsx(f,{...h,type:o,size:t,ref:C,readOnly:m,id:a||j,className:u(l,d?`${e}-plaintext`:e,s&&`${e}-${s}`,o==="color"&&`${e}-color`,n&&"is-valid",i&&"is-invalid")})});V.displayName="FormControl";const de=Object.assign(V,{Feedback:w}),H=c.forwardRef(({className:e,bsPrefix:o,as:s="div",...t},a)=>(o=p(o,"form-floating"),r.jsx(s,{ref:a,className:u(e,o),...t})));H.displayName="FormFloating";const B=c.forwardRef(({controlId:e,as:o="div",...s},t)=>{const a=c.useMemo(()=>({controlId:e}),[e]);return r.jsx(y.Provider,{value:a,children:r.jsx(o,{...s,ref:t})})});B.displayName="FormGroup";function me({as:e,bsPrefix:o,className:s,...t}){o=p(o,"col");const a=se(),l=te(),n=[],i=[];return a.forEach(d=>{const m=t[d];delete t[d];let f,h,C;typeof m=="object"&&m!=null?{span:f,offset:h,order:C}=m:f=m;const j=d!==l?`-${d}`:"";f&&n.push(f===!0?`${o}${j}`:`${o}${j}-${f}`),C!=null&&i.push(`order${j}-${C}`),h!=null&&i.push(`offset${j}-${h}`)}),[{...t,className:u(s,...n,...i)},{as:e,bsPrefix:o,spans:n}]}const G=c.forwardRef((e,o)=>{const[{className:s,...t},{as:a="div",bsPrefix:l,spans:n}]=me(e);return r.jsx(a,{...t,ref:o,className:u(s,!n.length&&l)})});G.displayName="Col";const K=c.forwardRef(({as:e="label",bsPrefix:o,column:s=!1,visuallyHidden:t=!1,className:a,htmlFor:l,...n},i)=>{const{controlId:d}=c.useContext(y);o=p(o,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const f=u(a,o,t&&"visually-hidden",s&&m);return l=l||d,s?r.jsx(G,{ref:i,as:"label",className:f,htmlFor:l,...n}):r.jsx(e,{ref:i,className:f,htmlFor:l,...n})});K.displayName="FormLabel";const U=c.forwardRef(({bsPrefix:e,className:o,id:s,...t},a)=>{const{controlId:l}=c.useContext(y);return e=p(e,"form-range"),r.jsx("input",{...t,type:"range",ref:a,className:u(o,e),id:s||l})});U.displayName="FormRange";const _=c.forwardRef(({bsPrefix:e,size:o,htmlSize:s,className:t,isValid:a=!1,isInvalid:l=!1,id:n,...i},d)=>{const{controlId:m}=c.useContext(y);return e=p(e,"form-select"),r.jsx("select",{...i,size:s,ref:d,className:u(t,e,o&&`${e}-${o}`,a&&"is-valid",l&&"is-invalid"),id:n||m})});_.displayName="FormSelect";const b=c.forwardRef(({bsPrefix:e,className:o,as:s="small",muted:t,...a},l)=>(e=p(e,"form-text"),r.jsx(s,{...a,ref:l,className:u(o,e,t&&"text-muted")})));b.displayName="FormText";const q=c.forwardRef((e,o)=>r.jsx($,{...e,ref:o,type:"switch"}));q.displayName="Switch";const ue=Object.assign(q,{Input:$.Input,Label:$.Label}),z=c.forwardRef(({bsPrefix:e,className:o,children:s,controlId:t,label:a,...l},n)=>(e=p(e,"form-floating"),r.jsxs(B,{ref:n,className:u(o,e),controlId:t,...l,children:[s,r.jsx("label",{htmlFor:t,children:a})]})));z.displayName="FloatingLabel";const pe={_ref:x.any,validated:x.bool,as:x.elementType},E=c.forwardRef(({className:e,validated:o,as:s="form",...t},a)=>r.jsx(s,{...t,ref:a,className:u(e,o&&"was-validated")}));E.displayName="Form";E.propTypes=pe;const fe=Object.assign(E,{Group:B,Control:de,Floating:H,Check:$,Switch:ue,Label:K,Text:b,Range:U,Select:_,FloatingLabel:z});function D(e,o){return Array.isArray(e)?e.includes(o):e===o}const N=c.createContext({});N.displayName="AccordionContext";const L=c.forwardRef(({as:e="div",bsPrefix:o,className:s,children:t,eventKey:a,...l},n)=>{const{activeEventKey:i}=c.useContext(N);return o=p(o,"accordion-collapse"),r.jsx(ae,{ref:n,in:D(i,a),...l,className:u(s,o),children:r.jsx(e,{children:c.Children.only(t)})})});L.displayName="AccordionCollapse";const g=c.createContext({eventKey:""});g.displayName="AccordionItemContext";const J=c.forwardRef(({as:e="div",bsPrefix:o,className:s,onEnter:t,onEntering:a,onEntered:l,onExit:n,onExiting:i,onExited:d,...m},f)=>{o=p(o,"accordion-body");const{eventKey:h}=c.useContext(g);return r.jsx(L,{eventKey:h,onEnter:t,onEntering:a,onEntered:l,onExit:n,onExiting:i,onExited:d,children:r.jsx(e,{ref:f,...m,className:u(s,o)})})});J.displayName="AccordionBody";function he(e,o){const{activeEventKey:s,onSelect:t,alwaysOpen:a}=c.useContext(N);return l=>{let n=e===s?null:e;a&&(Array.isArray(s)?s.includes(e)?n=s.filter(i=>i!==e):n=[...s,e]:n=[e]),t==null||t(n,l),o==null||o(l)}}const T=c.forwardRef(({as:e="button",bsPrefix:o,className:s,onClick:t,...a},l)=>{o=p(o,"accordion-button");const{eventKey:n}=c.useContext(g),i=he(n,t),{activeEventKey:d}=c.useContext(N);return e==="button"&&(a.type="button"),r.jsx(e,{ref:l,onClick:i,...a,"aria-expanded":Array.isArray(d)?d.includes(n):n===d,className:u(s,o,!D(d,n)&&"collapsed")})});T.displayName="AccordionButton";const Q=c.forwardRef(({as:e="h2","aria-controls":o,bsPrefix:s,className:t,children:a,onClick:l,...n},i)=>(s=p(s,"accordion-header"),r.jsx(e,{ref:i,...n,className:u(t,s),children:r.jsx(T,{onClick:l,"aria-controls":o,children:a})})));Q.displayName="AccordionHeader";const W=c.forwardRef(({as:e="div",bsPrefix:o,className:s,eventKey:t,...a},l)=>{o=p(o,"accordion-item");const n=c.useMemo(()=>({eventKey:t}),[t]);return r.jsx(g.Provider,{value:n,children:r.jsx(e,{ref:l,...a,className:u(s,o)})})});W.displayName="AccordionItem";const X=c.forwardRef((e,o)=>{const{as:s="div",activeKey:t,bsPrefix:a,className:l,onSelect:n,flush:i,alwaysOpen:d,...m}=ne(e,{activeKey:"onSelect"}),f=p(a,"accordion"),h=c.useMemo(()=>({activeEventKey:t,onSelect:n,alwaysOpen:d}),[t,n,d]);return r.jsx(N.Provider,{value:h,children:r.jsx(s,{ref:o,...m,className:u(l,f,i&&`${f}-flush`)})})});X.displayName="Accordion";const F=Object.assign(X,{Button:T,Collapse:L,Item:W,Header:Q,Body:J});function ye({category:e,catalog:o,showCounter:s,checked:t,onChange:a}){let l=c.useMemo(()=>re(),[]);return r.jsxs(r.Fragment,{children:[r.jsx(fe.Check,{type:"checkbox",id:`form-category-${e.id}`,label:s?`${e.name} (${o.getProducts({...ce(),categories:[e.id]}).length})`:e.name,checked:t(e),onChange:n=>a(e,n.target.checked)}),e.subcategories.length>0?r.jsx(F,{children:r.jsxs(F.Item,{eventKey:e.id,children:[r.jsx(F.Header,{as:"p",children:`Subcategories for ${e.name}`}),r.jsx(F.Body,{children:r.jsx("div",{role:"list","aria-label":e.getName(),children:[...e.subcategories].sort((n,i)=>l(n.name,i.name)).map(n=>r.jsx("div",{role:"listitem",children:r.jsx(ye,{onChange:a,showCounter:s,catalog:o,checked:t,category:n})}))})})]})}):""]})}export{ye as C,fe as F};
