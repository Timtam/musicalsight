const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Catalog-BPtBKMAz.js","assets/CatalogService-YiLnyrYV.js","assets/filesize.esm-nWF-Y4DP.js","assets/ProductCard-DuA4NsJ1.js","assets/ProductFilter-7_x1sZv_.js","assets/CategoryChecker-Cm7BlvpU.js","assets/CatalogProduct-CrmYOSEW.js","assets/Loading-B_mQpvmY.js","assets/CatalogSubmit-CNdeB2kw.js","assets/CatalogVendor-BXtiSR9Y.js"])))=>i.map(i=>d[i]);
var oT=Object.defineProperty;var aT=(n,e,t)=>e in n?oT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Fr=(n,e,t)=>aT(n,typeof e!="symbol"?e+"":e,t);function gw(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const lT="modulepreload",uT=function(n){return"/musicalsight/"+n},r1={},wc=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(d=>{if(d=uT(d),d in r1)return;r1[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":lT,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,_)=>{g.addEventListener("load",y),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cT(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Dh={exports:{}},El={},Lh={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function dT(){if(s1)return tt;s1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(D,Y,te){this.props=D,this.context=Y,this.refs=E,this.updater=te||_}S.prototype.isReactComponent={},S.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=S.prototype;function O(D,Y,te){this.props=D,this.context=Y,this.refs=E,this.updater=te||_}var R=O.prototype=new C;R.constructor=O,w(R,S.prototype),R.isPureReactComponent=!0;var N=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(D,Y,te){var ye,ce={},me=null,je=null;if(Y!=null)for(ye in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(me=""+Y.key),Y)x.call(Y,ye)&&!T.hasOwnProperty(ye)&&(ce[ye]=Y[ye]);var de=arguments.length-2;if(de===1)ce.children=te;else if(1<de){for(var He=Array(de),pt=0;pt<de;pt++)He[pt]=arguments[pt+2];ce.children=He}if(D&&D.defaultProps)for(ye in de=D.defaultProps,de)ce[ye]===void 0&&(ce[ye]=de[ye]);return{$$typeof:n,type:D,key:me,ref:je,props:ce,_owner:k.current}}function $(D,Y){return{$$typeof:n,type:D.type,key:Y,ref:D.ref,props:D.props,_owner:D._owner}}function L(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function V(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return Y[te]})}var B=/\/+/g;function J(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):Y.toString(36)}function ne(D,Y,te,ye,ce){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var je=!1;if(D===null)je=!0;else switch(me){case"string":case"number":je=!0;break;case"object":switch(D.$$typeof){case n:case e:je=!0}}if(je)return je=D,ce=ce(je),D=ye===""?"."+J(je,0):ye,N(ce)?(te="",D!=null&&(te=D.replace(B,"$&/")+"/"),ne(ce,Y,te,"",function(pt){return pt})):ce!=null&&(L(ce)&&(ce=$(ce,te+(!ce.key||je&&je.key===ce.key?"":(""+ce.key).replace(B,"$&/")+"/")+D)),Y.push(ce)),1;if(je=0,ye=ye===""?".":ye+":",N(D))for(var de=0;de<D.length;de++){me=D[de];var He=ye+J(me,de);je+=ne(me,Y,te,He,ce)}else if(He=y(D),typeof He=="function")for(D=He.call(D),de=0;!(me=D.next()).done;)me=me.value,He=ye+J(me,de++),je+=ne(me,Y,te,He,ce);else if(me==="object")throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function he(D,Y,te){if(D==null)return D;var ye=[],ce=0;return ne(D,ye,"","",function(me){return Y.call(te,me,ce++)}),ye}function se(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var oe={current:null},q={transition:null},ee={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:q,ReactCurrentOwner:k};function Q(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:he,forEach:function(D,Y,te){he(D,function(){Y.apply(this,arguments)},te)},count:function(D){var Y=0;return he(D,function(){Y++}),Y},toArray:function(D){return he(D,function(Y){return Y})||[]},only:function(D){if(!L(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},tt.Component=S,tt.Fragment=t,tt.Profiler=s,tt.PureComponent=O,tt.StrictMode=r,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,tt.act=Q,tt.cloneElement=function(D,Y,te){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ye=w({},D.props),ce=D.key,me=D.ref,je=D._owner;if(Y!=null){if(Y.ref!==void 0&&(me=Y.ref,je=k.current),Y.key!==void 0&&(ce=""+Y.key),D.type&&D.type.defaultProps)var de=D.type.defaultProps;for(He in Y)x.call(Y,He)&&!T.hasOwnProperty(He)&&(ye[He]=Y[He]===void 0&&de!==void 0?de[He]:Y[He])}var He=arguments.length-2;if(He===1)ye.children=te;else if(1<He){de=Array(He);for(var pt=0;pt<He;pt++)de[pt]=arguments[pt+2];ye.children=de}return{$$typeof:n,type:D.type,key:ce,ref:me,props:ye,_owner:je}},tt.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},tt.createElement=A,tt.createFactory=function(D){var Y=A.bind(null,D);return Y.type=D,Y},tt.createRef=function(){return{current:null}},tt.forwardRef=function(D){return{$$typeof:c,render:D}},tt.isValidElement=L,tt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:se}},tt.memo=function(D,Y){return{$$typeof:h,type:D,compare:Y===void 0?null:Y}},tt.startTransition=function(D){var Y=q.transition;q.transition={};try{D()}finally{q.transition=Y}},tt.unstable_act=Q,tt.useCallback=function(D,Y){return oe.current.useCallback(D,Y)},tt.useContext=function(D){return oe.current.useContext(D)},tt.useDebugValue=function(){},tt.useDeferredValue=function(D){return oe.current.useDeferredValue(D)},tt.useEffect=function(D,Y){return oe.current.useEffect(D,Y)},tt.useId=function(){return oe.current.useId()},tt.useImperativeHandle=function(D,Y,te){return oe.current.useImperativeHandle(D,Y,te)},tt.useInsertionEffect=function(D,Y){return oe.current.useInsertionEffect(D,Y)},tt.useLayoutEffect=function(D,Y){return oe.current.useLayoutEffect(D,Y)},tt.useMemo=function(D,Y){return oe.current.useMemo(D,Y)},tt.useReducer=function(D,Y,te){return oe.current.useReducer(D,Y,te)},tt.useRef=function(D){return oe.current.useRef(D)},tt.useState=function(D){return oe.current.useState(D)},tt.useSyncExternalStore=function(D,Y,te){return oe.current.useSyncExternalStore(D,Y,te)},tt.useTransition=function(){return oe.current.useTransition()},tt.version="18.3.1",tt}var o1;function pd(){return o1||(o1=1,Lh.exports=dT()),Lh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function fT(){if(a1)return El;a1=1;var n=pd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,h){var p,g={},y=null,_=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(_=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:_,props:g,_owner:s.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var l1;function hT(){return l1||(l1=1,Dh.exports=fT()),Dh.exports}var P=hT(),M=pd();const At=mi(M),Jp=gw({__proto__:null,default:At},[M]);var Sc={},jh={exports:{}},zn={},Fh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function pT(){return u1||(u1=1,function(n){function e(q,ee){var Q=q.length;q.push(ee);e:for(;0<Q;){var D=Q-1>>>1,Y=q[D];if(0<s(Y,ee))q[D]=ee,q[Q]=Y,Q=D;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],Q=q.pop();if(Q!==ee){q[0]=Q;e:for(var D=0,Y=q.length,te=Y>>>1;D<te;){var ye=2*(D+1)-1,ce=q[ye],me=ye+1,je=q[me];if(0>s(ce,Q))me<Y&&0>s(je,ce)?(q[D]=je,q[me]=Q,D=me):(q[D]=ce,q[ye]=Q,D=ye);else if(me<Y&&0>s(je,Q))q[D]=je,q[me]=Q,D=me;else break e}}return ee}function s(q,ee){var Q=q.sortIndex-ee.sortIndex;return Q!==0?Q:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],p=1,g=null,y=3,_=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var ee=t(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=q)r(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=t(h)}}function N(q){if(E=!1,R(q),!w)if(t(d)!==null)w=!0,se(x);else{var ee=t(h);ee!==null&&oe(N,ee.startTime-q)}}function x(q,ee){w=!1,E&&(E=!1,C(A),A=-1),_=!0;var Q=y;try{for(R(ee),g=t(d);g!==null&&(!(g.expirationTime>ee)||q&&!V());){var D=g.callback;if(typeof D=="function"){g.callback=null,y=g.priorityLevel;var Y=D(g.expirationTime<=ee);ee=n.unstable_now(),typeof Y=="function"?g.callback=Y:g===t(d)&&r(d),R(ee)}else r(d);g=t(d)}if(g!==null)var te=!0;else{var ye=t(h);ye!==null&&oe(N,ye.startTime-ee),te=!1}return te}finally{g=null,y=Q,_=!1}}var k=!1,T=null,A=-1,$=5,L=-1;function V(){return!(n.unstable_now()-L<$)}function B(){if(T!==null){var q=n.unstable_now();L=q;var ee=!0;try{ee=T(!0,q)}finally{ee?J():(k=!1,T=null)}}else k=!1}var J;if(typeof O=="function")J=function(){O(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,he=ne.port2;ne.port1.onmessage=B,J=function(){he.postMessage(null)}}else J=function(){S(B,0)};function se(q){T=q,k||(k=!0,J())}function oe(q,ee){A=S(function(){q(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){w||_||(w=!0,se(x))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var Q=y;y=ee;try{return q()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return ee()}finally{y=Q}},n.unstable_scheduleCallback=function(q,ee,Q){var D=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?D+Q:D):Q=D,q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,q={id:p++,callback:ee,priorityLevel:q,startTime:Q,expirationTime:Y,sortIndex:-1},Q>D?(q.sortIndex=Q,e(h,q),t(d)===null&&q===t(h)&&(E?(C(A),A=-1):E=!0,oe(N,Q-D))):(q.sortIndex=Y,e(d,q),w||_||(w=!0,se(x))),q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(q){var ee=y;return function(){var Q=y;y=ee;try{return q.apply(this,arguments)}finally{y=Q}}}}(Uh)),Uh}var c1;function mT(){return c1||(c1=1,Fh.exports=pT()),Fh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function gT(){if(d1)return zn;d1=1;var n=pd(),e=mT();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(i){return d.call(g,i)?!0:d.call(p,i)?!1:h.test(i)?g[i]=!0:(p[i]=!0,!1)}function _(i,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,o,l,f){if(o===null||typeof o>"u"||_(i,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function E(i,o,l,f,m,v,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new E(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,O);S[o]=new E(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,O);S[o]=new E(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,O);S[o]=new E(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,o,l,f){var m=S.hasOwnProperty(o)?S[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,l,m,f)&&(l=null),f||m===null?y(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,f=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,f?i.setAttributeNS(f,o,l):i.setAttribute(o,l))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),q=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,D;function Y(i){if(D===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);D=o&&o[1]||""}return`
`+D+i}var te=!1;function ye(i,o){if(!i||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){f=X}i.call(o.prototype)}else{try{throw Error()}catch(X){f=X}i()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),v=f.stack.split(`
`),b=m.length-1,I=v.length-1;1<=b&&0<=I&&m[b]!==v[I];)I--;for(;1<=b&&0<=I;b--,I--)if(m[b]!==v[I]){if(b!==1||I!==1)do if(b--,I--,0>I||m[b]!==v[I]){var F=`
`+m[b].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=b&&0<=I);break}}}finally{te=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function ce(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case k:return"Portal";case $:return"Profiler";case A:return"StrictMode";case J:return"Suspense";case ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case he:return o=i.displayName||null,o!==null?o:me(i.type)||"Memo";case se:o=i._payload,i=i._init;try{return me(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function de(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pt(i){var o=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){f=""+b,v.call(this,b)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mt(i){i._valueTracker||(i._valueTracker=pt(i))}function lt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=He(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function Ot(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function un(i,o){var l=o.checked;return Q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function fe(i,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=de(o.value!=null?o.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function xe(i,o){o=o.checked,o!=null&&R(i,"checked",o,!1)}function st(i,o){xe(i,o);var l=de(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?qe(i,o.type,l):o.hasOwnProperty("defaultValue")&&qe(i,o.type,de(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ut(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function qe(i,o,l){(o!=="number"||Ot(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Xe=Array.isArray;function vt(i,o,l,f){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&f&&(i[l].defaultSelected=!0)}else{for(l=""+de(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Yt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Pn(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Xe(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:de(l)}}function Zt(i,o){var l=de(o.value),f=de(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function Nn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function hr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?hr(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var cn,Ln=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(cn=cn||document.createElement("div"),cn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=cn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ei(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(i){W.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),jn[o]=jn[i]})});function K(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||jn.hasOwnProperty(i)&&jn[i]?(""+o).trim():o+"px"}function re(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,m=K(l,o[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,m):i[l]=m}}var we=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fe(i,o){if(o){if(we[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Mt(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function We(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Se=null,Ee=null,be=null;function Ne(i){if(i=al(i)){if(typeof Se!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Du(o),Se(i.stateNode,i.type,o))}}function Ke(i){Ee?be?be.push(i):be=[i]:Ee=i}function gt(){if(Ee){var i=Ee,o=be;if(be=Ee=null,Ne(i),o)for(i=0;i<o.length;i++)Ne(o[i])}}function bt(i,o){return i(o)}function rn(){}var Ar=!1;function _o(i,o,l){if(Ar)return i(o,l);Ar=!0;try{return bt(i,o,l)}finally{Ar=!1,(Ee!==null||be!==null)&&(rn(),gt())}}function wi(i,o){var l=i.stateNode;if(l===null)return null;var f=Du(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var j=!1;if(c)try{var z={};Object.defineProperty(z,"passive",{get:function(){j=!0}}),window.addEventListener("test",z,z),window.removeEventListener("test",z,z)}catch{j=!1}function Z(i,o,l,f,m,v,b,I,F){var X=Array.prototype.slice.call(arguments,3);try{o.apply(l,X)}catch(ue){this.onError(ue)}}var ae=!1,Me=null,De=!1,Ve=null,Ae={onError:function(i){ae=!0,Me=i}};function ke(i,o,l,f,m,v,b,I,F){ae=!1,Me=null,Z.apply(Ae,arguments)}function Ce(i,o,l,f,m,v,b,I,F){if(ke.apply(this,arguments),ae){if(ae){var X=Me;ae=!1,Me=null}else throw Error(t(198));De||(De=!0,Ve=X)}}function Re(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Ze(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function nt(i){if(Re(i)!==i)throw Error(t(188))}function sn(i){var o=i.alternate;if(!o){if(o=Re(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,f=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){l=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return nt(m),i;if(v===f)return nt(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==f.return)l=m,f=v;else{for(var b=!1,I=m.child;I;){if(I===l){b=!0,l=m,f=v;break}if(I===f){b=!0,f=m,l=v;break}I=I.sibling}if(!b){for(I=v.child;I;){if(I===l){b=!0,l=v,f=m;break}if(I===f){b=!0,f=v,l=m;break}I=I.sibling}if(!b)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function yt(i){return i=sn(i),i!==null?at(i):null}function at(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=at(i);if(o!==null)return o;i=i.sibling}return null}var Rt=e.unstable_scheduleCallback,Si=e.unstable_cancelCallback,Is=e.unstable_shouldYield,kr=e.unstable_requestPaint,dt=e.unstable_now,Va=e.unstable_getCurrentPriorityLevel,Ei=e.unstable_ImmediatePriority,ti=e.unstable_UserBlockingPriority,Mi=e.unstable_NormalPriority,wo=e.unstable_LowPriority,ot=e.unstable_IdlePriority,Tt=null,gn=null;function Ds(i){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:ef,qi=Math.log,gu=Math.LN2;function ef(i){return i>>>=0,i===0?32:31-(qi(i)/gu|0)|0}var vu=64,yu=4194304;function za(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _u(i,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,b=l&268435455;if(b!==0){var I=b&~m;I!==0?f=za(I):(v&=b,v!==0&&(f=za(v)))}else b=l&~m,b!==0?f=za(b):v!==0&&(f=za(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)l=31-ft(o),m=1<<l,f|=i[l],o&=~m;return f}function TM(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xM(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var b=31-ft(v),I=1<<b,F=m[b];F===-1?(!(I&l)||I&f)&&(m[b]=TM(I,o)):F<=o&&(i.expiredLanes|=I),v&=~I}}function tf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ig(){var i=vu;return vu<<=1,!(vu&4194240)&&(vu=64),i}function nf(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Wa(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ft(o),i[o]=l}function CM(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-ft(l),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,l&=~v}}function rf(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-ft(l),m=1<<f;m&o|i[f]&o&&(i[f]|=o),l&=~m}}var _t=0;function Dg(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Lg,sf,jg,Fg,Ug,of=!1,wu=[],Gi=null,Yi=null,Ki=null,Ha=new Map,qa=new Map,Xi=[],PM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(i,o){switch(i){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ha.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(o.pointerId)}}function Ga(i,o,l,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=al(o),o!==null&&sf(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function NM(i,o,l,f,m){switch(o){case"focusin":return Gi=Ga(Gi,i,o,l,f,m),!0;case"dragenter":return Yi=Ga(Yi,i,o,l,f,m),!0;case"mouseover":return Ki=Ga(Ki,i,o,l,f,m),!0;case"pointerover":var v=m.pointerId;return Ha.set(v,Ga(Ha.get(v)||null,i,o,l,f,m)),!0;case"gotpointercapture":return v=m.pointerId,qa.set(v,Ga(qa.get(v)||null,i,o,l,f,m)),!0}return!1}function Bg(i){var o=Ls(i.target);if(o!==null){var l=Re(o);if(l!==null){if(o=l.tag,o===13){if(o=Ze(l),o!==null){i.blockedOn=o,Ug(i.priority,function(){jg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Su(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=lf(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);xt=f,l.target.dispatchEvent(f),xt=null}else return o=al(l),o!==null&&sf(o),i.blockedOn=l,!1;o.shift()}return!0}function Vg(i,o,l){Su(i)&&l.delete(o)}function AM(){of=!1,Gi!==null&&Su(Gi)&&(Gi=null),Yi!==null&&Su(Yi)&&(Yi=null),Ki!==null&&Su(Ki)&&(Ki=null),Ha.forEach(Vg),qa.forEach(Vg)}function Ya(i,o){i.blockedOn===o&&(i.blockedOn=null,of||(of=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,AM)))}function Ka(i){function o(m){return Ya(m,i)}if(0<wu.length){Ya(wu[0],i);for(var l=1;l<wu.length;l++){var f=wu[l];f.blockedOn===i&&(f.blockedOn=null)}}for(Gi!==null&&Ya(Gi,i),Yi!==null&&Ya(Yi,i),Ki!==null&&Ya(Ki,i),Ha.forEach(o),qa.forEach(o),l=0;l<Xi.length;l++)f=Xi[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<Xi.length&&(l=Xi[0],l.blockedOn===null);)Bg(l),l.blockedOn===null&&Xi.shift()}var So=N.ReactCurrentBatchConfig,Eu=!0;function kM(i,o,l,f){var m=_t,v=So.transition;So.transition=null;try{_t=1,af(i,o,l,f)}finally{_t=m,So.transition=v}}function OM(i,o,l,f){var m=_t,v=So.transition;So.transition=null;try{_t=4,af(i,o,l,f)}finally{_t=m,So.transition=v}}function af(i,o,l,f){if(Eu){var m=lf(i,o,l,f);if(m===null)Tf(i,o,f,Mu,l),$g(i,f);else if(NM(m,i,o,l,f))f.stopPropagation();else if($g(i,f),o&4&&-1<PM.indexOf(i)){for(;m!==null;){var v=al(m);if(v!==null&&Lg(v),v=lf(i,o,l,f),v===null&&Tf(i,o,f,Mu,l),v===m)break;m=v}m!==null&&f.stopPropagation()}else Tf(i,o,f,null,l)}}var Mu=null;function lf(i,o,l,f){if(Mu=null,i=We(f),i=Ls(i),i!==null)if(o=Re(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Ze(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Mu=i,null}function zg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Va()){case Ei:return 1;case ti:return 4;case Mi:case wo:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Qi=null,uf=null,bu=null;function Wg(){if(bu)return bu;var i,o=uf,l=o.length,f,m="value"in Qi?Qi.value:Qi.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var b=l-i;for(f=1;f<=b&&o[l-f]===m[v-f];f++);return bu=m.slice(i,1<f?1-f:void 0)}function Tu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function xu(){return!0}function Hg(){return!1}function er(i){function o(l,f,m,v,b){this._reactName=l,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?xu:Hg,this.isPropagationStopped=Hg,this}return Q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),o}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=er(Eo),Xa=Q({},Eo,{view:0,detail:0}),RM=er(Xa),df,ff,Qa,Cu=Q({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qa&&(Qa&&i.type==="mousemove"?(df=i.screenX-Qa.screenX,ff=i.screenY-Qa.screenY):ff=df=0,Qa=i),df)},movementY:function(i){return"movementY"in i?i.movementY:ff}}),qg=er(Cu),IM=Q({},Cu,{dataTransfer:0}),DM=er(IM),LM=Q({},Xa,{relatedTarget:0}),hf=er(LM),jM=Q({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),FM=er(jM),UM=Q({},Eo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$M=er(UM),BM=Q({},Eo,{data:0}),Gg=er(BM),VM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=WM[i])?!!o[i]:!1}function pf(){return HM}var qM=Q({},Xa,{key:function(i){if(i.key){var o=VM[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Tu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(i){return i.type==="keypress"?Tu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Tu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),GM=er(qM),YM=Q({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yg=er(YM),KM=Q({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),XM=er(KM),QM=Q({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZM=er(QM),JM=Q({},Cu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eb=er(JM),tb=[9,13,27,32],mf=c&&"CompositionEvent"in window,Za=null;c&&"documentMode"in document&&(Za=document.documentMode);var nb=c&&"TextEvent"in window&&!Za,Kg=c&&(!mf||Za&&8<Za&&11>=Za),Xg=" ",Qg=!1;function Zg(i,o){switch(i){case"keyup":return tb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function rb(i,o){switch(i){case"compositionend":return Jg(o);case"keypress":return o.which!==32?null:(Qg=!0,Xg);case"textInput":return i=o.data,i===Xg&&Qg?null:i;default:return null}}function ib(i,o){if(Mo)return i==="compositionend"||!mf&&Zg(i,o)?(i=Wg(),bu=uf=Qi=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Kg&&o.locale!=="ko"?null:o.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!sb[i.type]:o==="textarea"}function tv(i,o,l,f){Ke(f),o=Ou(o,"onChange"),0<o.length&&(l=new cf("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var Ja=null,el=null;function ob(i){_v(i,0)}function Pu(i){var o=Po(i);if(lt(o))return i}function ab(i,o){if(i==="change")return o}var nv=!1;if(c){var gf;if(c){var vf="oninput"in document;if(!vf){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),vf=typeof rv.oninput=="function"}gf=vf}else gf=!1;nv=gf&&(!document.documentMode||9<document.documentMode)}function iv(){Ja&&(Ja.detachEvent("onpropertychange",sv),el=Ja=null)}function sv(i){if(i.propertyName==="value"&&Pu(el)){var o=[];tv(o,el,i,We(i)),_o(ob,o)}}function lb(i,o,l){i==="focusin"?(iv(),Ja=o,el=l,Ja.attachEvent("onpropertychange",sv)):i==="focusout"&&iv()}function ub(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pu(el)}function cb(i,o){if(i==="click")return Pu(o)}function db(i,o){if(i==="input"||i==="change")return Pu(o)}function fb(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Or=typeof Object.is=="function"?Object.is:fb;function tl(i,o){if(Or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var m=l[f];if(!d.call(o,m)||!Or(i[m],o[m]))return!1}return!0}function ov(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function av(i,o){var l=ov(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ov(l)}}function lv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?lv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function uv(){for(var i=window,o=Ot();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Ot(i.document)}return o}function yf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function hb(i){var o=uv(),l=i.focusedElem,f=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&lv(l.ownerDocument.documentElement,l)){if(f!==null&&yf(l)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=av(l,v);var b=av(l,f);m&&b&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var pb=c&&"documentMode"in document&&11>=document.documentMode,bo=null,_f=null,nl=null,wf=!1;function cv(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wf||bo==null||bo!==Ot(f)||(f=bo,"selectionStart"in f&&yf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),nl&&tl(nl,f)||(nl=f,f=Ou(_f,"onSelect"),0<f.length&&(o=new cf("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=bo)))}function Nu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var To={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Sf={},dv={};c&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Au(i){if(Sf[i])return Sf[i];if(!To[i])return i;var o=To[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in dv)return Sf[i]=o[l];return i}var fv=Au("animationend"),hv=Au("animationiteration"),pv=Au("animationstart"),mv=Au("transitionend"),gv=new Map,vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(i,o){gv.set(i,o),a(o,[i])}for(var Ef=0;Ef<vv.length;Ef++){var Mf=vv[Ef],mb=Mf.toLowerCase(),gb=Mf[0].toUpperCase()+Mf.slice(1);Zi(mb,"on"+gb)}Zi(fv,"onAnimationEnd"),Zi(hv,"onAnimationIteration"),Zi(pv,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(mv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function yv(i,o,l){var f=i.type||"unknown-event";i.currentTarget=l,Ce(f,o,void 0,i),i.currentTarget=null}function _v(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var b=f.length-1;0<=b;b--){var I=f[b],F=I.instance,X=I.currentTarget;if(I=I.listener,F!==v&&m.isPropagationStopped())break e;yv(m,I,X),v=F}else for(b=0;b<f.length;b++){if(I=f[b],F=I.instance,X=I.currentTarget,I=I.listener,F!==v&&m.isPropagationStopped())break e;yv(m,I,X),v=F}}}if(De)throw i=Ve,De=!1,Ve=null,i}function It(i,o){var l=o[kf];l===void 0&&(l=o[kf]=new Set);var f=i+"__bubble";l.has(f)||(wv(o,i,2,!1),l.add(f))}function bf(i,o,l){var f=0;o&&(f|=4),wv(l,i,f,o)}var ku="_reactListening"+Math.random().toString(36).slice(2);function il(i){if(!i[ku]){i[ku]=!0,r.forEach(function(l){l!=="selectionchange"&&(vb.has(l)||bf(l,!1,i),bf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ku]||(o[ku]=!0,bf("selectionchange",!1,o))}}function wv(i,o,l,f){switch(zg(o)){case 1:var m=kM;break;case 4:m=OM;break;default:m=af}l=m.bind(null,o,l,i),m=void 0,!j||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Tf(i,o,l,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var I=f.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(b===4)for(b=f.return;b!==null;){var F=b.tag;if((F===3||F===4)&&(F=b.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;b=b.return}for(;I!==null;){if(b=Ls(I),b===null)return;if(F=b.tag,F===5||F===6){f=v=b;continue e}I=I.parentNode}}f=f.return}_o(function(){var X=v,ue=We(l),pe=[];e:{var le=gv.get(i);if(le!==void 0){var Te=cf,Oe=i;switch(i){case"keypress":if(Tu(l)===0)break e;case"keydown":case"keyup":Te=GM;break;case"focusin":Oe="focus",Te=hf;break;case"focusout":Oe="blur",Te=hf;break;case"beforeblur":case"afterblur":Te=hf;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=DM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=XM;break;case fv:case hv:case pv:Te=FM;break;case mv:Te=ZM;break;case"scroll":Te=RM;break;case"wheel":Te=eb;break;case"copy":case"cut":case"paste":Te=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Yg}var Ie=(o&4)!==0,Kt=!Ie&&i==="scroll",H=Ie?le!==null?le+"Capture":null:le;Ie=[];for(var U=X,G;U!==null;){G=U;var ge=G.stateNode;if(G.tag===5&&ge!==null&&(G=ge,H!==null&&(ge=wi(U,H),ge!=null&&Ie.push(sl(U,ge,G)))),Kt)break;U=U.return}0<Ie.length&&(le=new Te(le,Oe,null,l,ue),pe.push({event:le,listeners:Ie}))}}if(!(o&7)){e:{if(le=i==="mouseover"||i==="pointerover",Te=i==="mouseout"||i==="pointerout",le&&l!==xt&&(Oe=l.relatedTarget||l.fromElement)&&(Ls(Oe)||Oe[bi]))break e;if((Te||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,Te?(Oe=l.relatedTarget||l.toElement,Te=X,Oe=Oe?Ls(Oe):null,Oe!==null&&(Kt=Re(Oe),Oe!==Kt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Te=null,Oe=X),Te!==Oe)){if(Ie=qg,ge="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=Yg,ge="onPointerLeave",H="onPointerEnter",U="pointer"),Kt=Te==null?le:Po(Te),G=Oe==null?le:Po(Oe),le=new Ie(ge,U+"leave",Te,l,ue),le.target=Kt,le.relatedTarget=G,ge=null,Ls(ue)===X&&(Ie=new Ie(H,U+"enter",Oe,l,ue),Ie.target=G,Ie.relatedTarget=Kt,ge=Ie),Kt=ge,Te&&Oe)t:{for(Ie=Te,H=Oe,U=0,G=Ie;G;G=xo(G))U++;for(G=0,ge=H;ge;ge=xo(ge))G++;for(;0<U-G;)Ie=xo(Ie),U--;for(;0<G-U;)H=xo(H),G--;for(;U--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=xo(Ie),H=xo(H)}Ie=null}else Ie=null;Te!==null&&Sv(pe,le,Te,Ie,!1),Oe!==null&&Kt!==null&&Sv(pe,Kt,Oe,Ie,!0)}}e:{if(le=X?Po(X):window,Te=le.nodeName&&le.nodeName.toLowerCase(),Te==="select"||Te==="input"&&le.type==="file")var Le=ab;else if(ev(le))if(nv)Le=db;else{Le=ub;var $e=lb}else(Te=le.nodeName)&&Te.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Le=cb);if(Le&&(Le=Le(i,X))){tv(pe,Le,l,ue);break e}$e&&$e(i,le,X),i==="focusout"&&($e=le._wrapperState)&&$e.controlled&&le.type==="number"&&qe(le,"number",le.value)}switch($e=X?Po(X):window,i){case"focusin":(ev($e)||$e.contentEditable==="true")&&(bo=$e,_f=X,nl=null);break;case"focusout":nl=_f=bo=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,cv(pe,l,ue);break;case"selectionchange":if(pb)break;case"keydown":case"keyup":cv(pe,l,ue)}var Be;if(mf)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Mo?Zg(i,l)&&(ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Kg&&l.locale!=="ko"&&(Mo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Mo&&(Be=Wg()):(Qi=ue,uf="value"in Qi?Qi.value:Qi.textContent,Mo=!0)),$e=Ou(X,ze),0<$e.length&&(ze=new Gg(ze,i,null,l,ue),pe.push({event:ze,listeners:$e}),Be?ze.data=Be:(Be=Jg(l),Be!==null&&(ze.data=Be)))),(Be=nb?rb(i,l):ib(i,l))&&(X=Ou(X,"onBeforeInput"),0<X.length&&(ue=new Gg("onBeforeInput","beforeinput",null,l,ue),pe.push({event:ue,listeners:X}),ue.data=Be))}_v(pe,o)})}function sl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Ou(i,o){for(var l=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=wi(i,l),v!=null&&f.unshift(sl(i,v,m)),v=wi(i,o),v!=null&&f.push(sl(i,v,m))),i=i.return}return f}function xo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sv(i,o,l,f,m){for(var v=o._reactName,b=[];l!==null&&l!==f;){var I=l,F=I.alternate,X=I.stateNode;if(F!==null&&F===f)break;I.tag===5&&X!==null&&(I=X,m?(F=wi(l,v),F!=null&&b.unshift(sl(l,F,I))):m||(F=wi(l,v),F!=null&&b.push(sl(l,F,I)))),l=l.return}b.length!==0&&i.push({event:o,listeners:b})}var yb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function Ev(i){return(typeof i=="string"?i:""+i).replace(yb,`
`).replace(_b,"")}function Ru(i,o,l){if(o=Ev(o),Ev(i)!==o&&l)throw Error(t(425))}function Iu(){}var xf=null,Cf=null;function Pf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,Sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(i){return Mv.resolve(null).then(i).catch(Eb)}:Nf;function Eb(i){setTimeout(function(){throw i})}function Af(i,o){var l=o,f=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(f===0){i.removeChild(m),Ka(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=m}while(l);Ka(o)}function Ji(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function bv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Co=Math.random().toString(36).slice(2),ni="__reactFiber$"+Co,ol="__reactProps$"+Co,bi="__reactContainer$"+Co,kf="__reactEvents$"+Co,Mb="__reactListeners$"+Co,bb="__reactHandles$"+Co;function Ls(i){var o=i[ni];if(o)return o;for(var l=i.parentNode;l;){if(o=l[bi]||l[ni]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=bv(i);i!==null;){if(l=i[ni])return l;i=bv(i)}return o}i=l,l=i.parentNode}return null}function al(i){return i=i[ni]||i[bi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Po(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Du(i){return i[ol]||null}var Of=[],No=-1;function es(i){return{current:i}}function Dt(i){0>No||(i.current=Of[No],Of[No]=null,No--)}function Ct(i,o){No++,Of[No]=i.current,i.current=o}var ts={},En=es(ts),Fn=es(!1),js=ts;function Ao(i,o){var l=i.type.contextTypes;if(!l)return ts;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Un(i){return i=i.childContextTypes,i!=null}function Lu(){Dt(Fn),Dt(En)}function Tv(i,o,l){if(En.current!==ts)throw Error(t(168));Ct(En,o),Ct(Fn,l)}function xv(i,o,l){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,je(i)||"Unknown",m));return Q({},l,f)}function ju(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ts,js=En.current,Ct(En,i),Ct(Fn,Fn.current),!0}function Cv(i,o,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=xv(i,o,js),f.__reactInternalMemoizedMergedChildContext=i,Dt(Fn),Dt(En),Ct(En,i)):Dt(Fn),Ct(Fn,l)}var Ti=null,Fu=!1,Rf=!1;function Pv(i){Ti===null?Ti=[i]:Ti.push(i)}function Tb(i){Fu=!0,Pv(i)}function ns(){if(!Rf&&Ti!==null){Rf=!0;var i=0,o=_t;try{var l=Ti;for(_t=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}Ti=null,Fu=!1}catch(m){throw Ti!==null&&(Ti=Ti.slice(i+1)),Rt(Ei,ns),m}finally{_t=o,Rf=!1}}return null}var ko=[],Oo=0,Uu=null,$u=0,pr=[],mr=0,Fs=null,xi=1,Ci="";function Us(i,o){ko[Oo++]=$u,ko[Oo++]=Uu,Uu=i,$u=o}function Nv(i,o,l){pr[mr++]=xi,pr[mr++]=Ci,pr[mr++]=Fs,Fs=i;var f=xi;i=Ci;var m=32-ft(f)-1;f&=~(1<<m),l+=1;var v=32-ft(o)+m;if(30<v){var b=m-m%5;v=(f&(1<<b)-1).toString(32),f>>=b,m-=b,xi=1<<32-ft(o)+m|l<<m|f,Ci=v+i}else xi=1<<v|l<<m|f,Ci=i}function If(i){i.return!==null&&(Us(i,1),Nv(i,1,0))}function Df(i){for(;i===Uu;)Uu=ko[--Oo],ko[Oo]=null,$u=ko[--Oo],ko[Oo]=null;for(;i===Fs;)Fs=pr[--mr],pr[mr]=null,Ci=pr[--mr],pr[mr]=null,xi=pr[--mr],pr[mr]=null}var tr=null,nr=null,Ft=!1,Rr=null;function Av(i,o){var l=_r(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function kv(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,tr=i,nr=Ji(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,tr=i,nr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Fs!==null?{id:xi,overflow:Ci}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=_r(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,tr=i,nr=null,!0):!1;default:return!1}}function Lf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jf(i){if(Ft){var o=nr;if(o){var l=o;if(!kv(i,o)){if(Lf(i))throw Error(t(418));o=Ji(l.nextSibling);var f=tr;o&&kv(i,o)?Av(f,l):(i.flags=i.flags&-4097|2,Ft=!1,tr=i)}}else{if(Lf(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ft=!1,tr=i}}}function Ov(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;tr=i}function Bu(i){if(i!==tr)return!1;if(!Ft)return Ov(i),Ft=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Pf(i.type,i.memoizedProps)),o&&(o=nr)){if(Lf(i))throw Rv(),Error(t(418));for(;o;)Av(i,o),o=Ji(o.nextSibling)}if(Ov(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){nr=Ji(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}nr=null}}else nr=tr?Ji(i.stateNode.nextSibling):null;return!0}function Rv(){for(var i=nr;i;)i=Ji(i.nextSibling)}function Ro(){nr=tr=null,Ft=!1}function Ff(i){Rr===null?Rr=[i]:Rr.push(i)}var xb=N.ReactCurrentBatchConfig;function ll(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(b){var I=m.refs;b===null?delete I[v]:I[v]=b},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Vu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Iv(i){var o=i._init;return o(i._payload)}function Dv(i){function o(H,U){if(i){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function l(H,U){if(!i)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function f(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=cs(H,U),H.index=0,H.sibling=null,H}function v(H,U,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=2,U):G):(H.flags|=2,U)):(H.flags|=1048576,U)}function b(H){return i&&H.alternate===null&&(H.flags|=2),H}function I(H,U,G,ge){return U===null||U.tag!==6?(U=Nh(G,H.mode,ge),U.return=H,U):(U=m(U,G),U.return=H,U)}function F(H,U,G,ge){var Le=G.type;return Le===T?ue(H,U,G.props.children,ge,G.key):U!==null&&(U.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===se&&Iv(Le)===U.type)?(ge=m(U,G.props),ge.ref=ll(H,U,G),ge.return=H,ge):(ge=fc(G.type,G.key,G.props,null,H.mode,ge),ge.ref=ll(H,U,G),ge.return=H,ge)}function X(H,U,G,ge){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Ah(G,H.mode,ge),U.return=H,U):(U=m(U,G.children||[]),U.return=H,U)}function ue(H,U,G,ge,Le){return U===null||U.tag!==7?(U=Gs(G,H.mode,ge,Le),U.return=H,U):(U=m(U,G),U.return=H,U)}function pe(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Nh(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return G=fc(U.type,U.key,U.props,null,H.mode,G),G.ref=ll(H,null,U),G.return=H,G;case k:return U=Ah(U,H.mode,G),U.return=H,U;case se:var ge=U._init;return pe(H,ge(U._payload),G)}if(Xe(U)||ee(U))return U=Gs(U,H.mode,G,null),U.return=H,U;Vu(H,U)}return null}function le(H,U,G,ge){var Le=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Le!==null?null:I(H,U,""+G,ge);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===Le?F(H,U,G,ge):null;case k:return G.key===Le?X(H,U,G,ge):null;case se:return Le=G._init,le(H,U,Le(G._payload),ge)}if(Xe(G)||ee(G))return Le!==null?null:ue(H,U,G,ge,null);Vu(H,G)}return null}function Te(H,U,G,ge,Le){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return H=H.get(G)||null,I(U,H,""+ge,Le);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return H=H.get(ge.key===null?G:ge.key)||null,F(U,H,ge,Le);case k:return H=H.get(ge.key===null?G:ge.key)||null,X(U,H,ge,Le);case se:var $e=ge._init;return Te(H,U,G,$e(ge._payload),Le)}if(Xe(ge)||ee(ge))return H=H.get(G)||null,ue(U,H,ge,Le,null);Vu(U,ge)}return null}function Oe(H,U,G,ge){for(var Le=null,$e=null,Be=U,ze=U=0,hn=null;Be!==null&&ze<G.length;ze++){Be.index>ze?(hn=Be,Be=null):hn=Be.sibling;var ht=le(H,Be,G[ze],ge);if(ht===null){Be===null&&(Be=hn);break}i&&Be&&ht.alternate===null&&o(H,Be),U=v(ht,U,ze),$e===null?Le=ht:$e.sibling=ht,$e=ht,Be=hn}if(ze===G.length)return l(H,Be),Ft&&Us(H,ze),Le;if(Be===null){for(;ze<G.length;ze++)Be=pe(H,G[ze],ge),Be!==null&&(U=v(Be,U,ze),$e===null?Le=Be:$e.sibling=Be,$e=Be);return Ft&&Us(H,ze),Le}for(Be=f(H,Be);ze<G.length;ze++)hn=Te(Be,H,ze,G[ze],ge),hn!==null&&(i&&hn.alternate!==null&&Be.delete(hn.key===null?ze:hn.key),U=v(hn,U,ze),$e===null?Le=hn:$e.sibling=hn,$e=hn);return i&&Be.forEach(function(ds){return o(H,ds)}),Ft&&Us(H,ze),Le}function Ie(H,U,G,ge){var Le=ee(G);if(typeof Le!="function")throw Error(t(150));if(G=Le.call(G),G==null)throw Error(t(151));for(var $e=Le=null,Be=U,ze=U=0,hn=null,ht=G.next();Be!==null&&!ht.done;ze++,ht=G.next()){Be.index>ze?(hn=Be,Be=null):hn=Be.sibling;var ds=le(H,Be,ht.value,ge);if(ds===null){Be===null&&(Be=hn);break}i&&Be&&ds.alternate===null&&o(H,Be),U=v(ds,U,ze),$e===null?Le=ds:$e.sibling=ds,$e=ds,Be=hn}if(ht.done)return l(H,Be),Ft&&Us(H,ze),Le;if(Be===null){for(;!ht.done;ze++,ht=G.next())ht=pe(H,ht.value,ge),ht!==null&&(U=v(ht,U,ze),$e===null?Le=ht:$e.sibling=ht,$e=ht);return Ft&&Us(H,ze),Le}for(Be=f(H,Be);!ht.done;ze++,ht=G.next())ht=Te(Be,H,ze,ht.value,ge),ht!==null&&(i&&ht.alternate!==null&&Be.delete(ht.key===null?ze:ht.key),U=v(ht,U,ze),$e===null?Le=ht:$e.sibling=ht,$e=ht);return i&&Be.forEach(function(sT){return o(H,sT)}),Ft&&Us(H,ze),Le}function Kt(H,U,G,ge){if(typeof G=="object"&&G!==null&&G.type===T&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var Le=G.key,$e=U;$e!==null;){if($e.key===Le){if(Le=G.type,Le===T){if($e.tag===7){l(H,$e.sibling),U=m($e,G.props.children),U.return=H,H=U;break e}}else if($e.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===se&&Iv(Le)===$e.type){l(H,$e.sibling),U=m($e,G.props),U.ref=ll(H,$e,G),U.return=H,H=U;break e}l(H,$e);break}else o(H,$e);$e=$e.sibling}G.type===T?(U=Gs(G.props.children,H.mode,ge,G.key),U.return=H,H=U):(ge=fc(G.type,G.key,G.props,null,H.mode,ge),ge.ref=ll(H,U,G),ge.return=H,H=ge)}return b(H);case k:e:{for($e=G.key;U!==null;){if(U.key===$e)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(H,U.sibling),U=m(U,G.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else o(H,U);U=U.sibling}U=Ah(G,H.mode,ge),U.return=H,H=U}return b(H);case se:return $e=G._init,Kt(H,U,$e(G._payload),ge)}if(Xe(G))return Oe(H,U,G,ge);if(ee(G))return Ie(H,U,G,ge);Vu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(l(H,U.sibling),U=m(U,G),U.return=H,H=U):(l(H,U),U=Nh(G,H.mode,ge),U.return=H,H=U),b(H)):l(H,U)}return Kt}var Io=Dv(!0),Lv=Dv(!1),zu=es(null),Wu=null,Do=null,Uf=null;function $f(){Uf=Do=Wu=null}function Bf(i){var o=zu.current;Dt(zu),i._currentValue=o}function Vf(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function Lo(i,o){Wu=i,Uf=Do=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&($n=!0),i.firstContext=null)}function gr(i){var o=i._currentValue;if(Uf!==i)if(i={context:i,memoizedValue:o,next:null},Do===null){if(Wu===null)throw Error(t(308));Do=i,Wu.dependencies={lanes:0,firstContext:i}}else Do=Do.next=i;return o}var $s=null;function zf(i){$s===null?$s=[i]:$s.push(i)}function jv(i,o,l,f){var m=o.interleaved;return m===null?(l.next=l,zf(o)):(l.next=m.next,m.next=l),o.interleaved=l,Pi(i,f)}function Pi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var rs=!1;function Wf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ni(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function is(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,ct&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Pi(i,l)}return m=f.interleaved,m===null?(o.next=o,zf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Pi(i,l)}function Hu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,rf(i,l)}}function Uv(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=b:v=v.next=b,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function qu(i,o,l,f){var m=i.updateQueue;rs=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var F=I,X=F.next;F.next=null,b===null?v=X:b.next=X,b=F;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==b&&(I===null?ue.firstBaseUpdate=X:I.next=X,ue.lastBaseUpdate=F))}if(v!==null){var pe=m.baseState;b=0,ue=X=F=null,I=v;do{var le=I.lane,Te=I.eventTime;if((f&le)===le){ue!==null&&(ue=ue.next={eventTime:Te,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Oe=i,Ie=I;switch(le=o,Te=l,Ie.tag){case 1:if(Oe=Ie.payload,typeof Oe=="function"){pe=Oe.call(Te,pe,le);break e}pe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ie.payload,le=typeof Oe=="function"?Oe.call(Te,pe,le):Oe,le==null)break e;pe=Q({},pe,le);break e;case 2:rs=!0}}I.callback!==null&&I.lane!==0&&(i.flags|=64,le=m.effects,le===null?m.effects=[I]:le.push(I))}else Te={eventTime:Te,lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(X=ue=Te,F=pe):ue=ue.next=Te,b|=le;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;le=I,I=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);if(ue===null&&(F=pe),m.baseState=F,m.firstBaseUpdate=X,m.lastBaseUpdate=ue,o=m.shared.interleaved,o!==null){m=o;do b|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);zs|=b,i.lanes=b,i.memoizedState=pe}}function $v(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=l,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var ul={},ri=es(ul),cl=es(ul),dl=es(ul);function Bs(i){if(i===ul)throw Error(t(174));return i}function Hf(i,o){switch(Ct(dl,o),Ct(cl,i),Ct(ri,ul),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Sn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Sn(o,i)}Dt(ri),Ct(ri,o)}function jo(){Dt(ri),Dt(cl),Dt(dl)}function Bv(i){Bs(dl.current);var o=Bs(ri.current),l=Sn(o,i.type);o!==l&&(Ct(cl,i),Ct(ri,l))}function qf(i){cl.current===i&&(Dt(ri),Dt(cl))}var Vt=es(0);function Gu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gf=[];function Yf(){for(var i=0;i<Gf.length;i++)Gf[i]._workInProgressVersionPrimary=null;Gf.length=0}var Yu=N.ReactCurrentDispatcher,Kf=N.ReactCurrentBatchConfig,Vs=0,zt=null,on=null,dn=null,Ku=!1,fl=!1,hl=0,Cb=0;function Mn(){throw Error(t(321))}function Xf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Or(i[l],o[l]))return!1;return!0}function Qf(i,o,l,f,m,v){if(Vs=v,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Yu.current=i===null||i.memoizedState===null?kb:Ob,i=l(f,m),fl){v=0;do{if(fl=!1,hl=0,25<=v)throw Error(t(301));v+=1,dn=on=null,o.updateQueue=null,Yu.current=Rb,i=l(f,m)}while(fl)}if(Yu.current=Zu,o=on!==null&&on.next!==null,Vs=0,dn=on=zt=null,Ku=!1,o)throw Error(t(300));return i}function Zf(){var i=hl!==0;return hl=0,i}function ii(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?zt.memoizedState=dn=i:dn=dn.next=i,dn}function vr(){if(on===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=on.next;var o=dn===null?zt.memoizedState:dn.next;if(o!==null)dn=o,on=i;else{if(i===null)throw Error(t(310));on=i,i={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},dn===null?zt.memoizedState=dn=i:dn=dn.next=i}return dn}function pl(i,o){return typeof o=="function"?o(i):o}function Jf(i){var o=vr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=on,m=f.baseQueue,v=l.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}f.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,f=f.baseState;var I=b=null,F=null,X=v;do{var ue=X.lane;if((Vs&ue)===ue)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:i(f,X.action);else{var pe={lane:ue,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(I=F=pe,b=f):F=F.next=pe,zt.lanes|=ue,zs|=ue}X=X.next}while(X!==null&&X!==v);F===null?b=f:F.next=I,Or(f,o.memoizedState)||($n=!0),o.memoizedState=f,o.baseState=b,o.baseQueue=F,l.lastRenderedState=f}if(i=l.interleaved,i!==null){m=i;do v=m.lane,zt.lanes|=v,zs|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function eh(i){var o=vr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do v=i(v,b.action),b=b.next;while(b!==m);Or(v,o.memoizedState)||($n=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,f]}function Vv(){}function zv(i,o){var l=zt,f=vr(),m=o(),v=!Or(f.memoizedState,m);if(v&&(f.memoizedState=m,$n=!0),f=f.queue,th(qv.bind(null,l,f,i),[i]),f.getSnapshot!==o||v||dn!==null&&dn.memoizedState.tag&1){if(l.flags|=2048,ml(9,Hv.bind(null,l,f,m,o),void 0,null),fn===null)throw Error(t(349));Vs&30||Wv(l,o,m)}return m}function Wv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=zt.updateQueue,o===null?(o={lastEffect:null,stores:null},zt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Hv(i,o,l,f){o.value=l,o.getSnapshot=f,Gv(o)&&Yv(i)}function qv(i,o,l){return l(function(){Gv(o)&&Yv(i)})}function Gv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Or(i,l)}catch{return!0}}function Yv(i){var o=Pi(i,1);o!==null&&jr(o,i,1,-1)}function Kv(i){var o=ii();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:i},o.queue=i,i=i.dispatch=Ab.bind(null,zt,i),[o.memoizedState,i]}function ml(i,o,l,f){return i={tag:i,create:o,destroy:l,deps:f,next:null},o=zt.updateQueue,o===null?(o={lastEffect:null,stores:null},zt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i)),i}function Xv(){return vr().memoizedState}function Xu(i,o,l,f){var m=ii();zt.flags|=i,m.memoizedState=ml(1|o,l,void 0,f===void 0?null:f)}function Qu(i,o,l,f){var m=vr();f=f===void 0?null:f;var v=void 0;if(on!==null){var b=on.memoizedState;if(v=b.destroy,f!==null&&Xf(f,b.deps)){m.memoizedState=ml(o,l,v,f);return}}zt.flags|=i,m.memoizedState=ml(1|o,l,v,f)}function Qv(i,o){return Xu(8390656,8,i,o)}function th(i,o){return Qu(2048,8,i,o)}function Zv(i,o){return Qu(4,2,i,o)}function Jv(i,o){return Qu(4,4,i,o)}function ey(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ty(i,o,l){return l=l!=null?l.concat([i]):null,Qu(4,4,ey.bind(null,o,i),l)}function nh(){}function ny(i,o){var l=vr();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Xf(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function ry(i,o){var l=vr();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Xf(o,f[1])?f[0]:(i=i(),l.memoizedState=[i,o],i)}function iy(i,o,l){return Vs&21?(Or(l,o)||(l=Ig(),zt.lanes|=l,zs|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,$n=!0),i.memoizedState=l)}function Pb(i,o){var l=_t;_t=l!==0&&4>l?l:4,i(!0);var f=Kf.transition;Kf.transition={};try{i(!1),o()}finally{_t=l,Kf.transition=f}}function sy(){return vr().memoizedState}function Nb(i,o,l){var f=ls(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},oy(i))ay(o,l);else if(l=jv(i,o,l,f),l!==null){var m=kn();jr(l,i,f,m),ly(l,o,f)}}function Ab(i,o,l){var f=ls(i),m={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(oy(i))ay(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var b=o.lastRenderedState,I=v(b,l);if(m.hasEagerState=!0,m.eagerState=I,Or(I,b)){var F=o.interleaved;F===null?(m.next=m,zf(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}l=jv(i,o,m,f),l!==null&&(m=kn(),jr(l,i,f,m),ly(l,o,f))}}function oy(i){var o=i.alternate;return i===zt||o!==null&&o===zt}function ay(i,o){fl=Ku=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function ly(i,o,l){if(l&4194240){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,rf(i,l)}}var Zu={readContext:gr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},kb={readContext:gr,useCallback:function(i,o){return ii().memoizedState=[i,o===void 0?null:o],i},useContext:gr,useEffect:Qv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Xu(4194308,4,ey.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Xu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Xu(4,2,i,o)},useMemo:function(i,o){var l=ii();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var f=ii();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Nb.bind(null,zt,i),[f.memoizedState,i]},useRef:function(i){var o=ii();return i={current:i},o.memoizedState=i},useState:Kv,useDebugValue:nh,useDeferredValue:function(i){return ii().memoizedState=i},useTransition:function(){var i=Kv(!1),o=i[0];return i=Pb.bind(null,i[1]),ii().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var f=zt,m=ii();if(Ft){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),fn===null)throw Error(t(349));Vs&30||Wv(f,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,Qv(qv.bind(null,f,v,i),[i]),f.flags|=2048,ml(9,Hv.bind(null,f,v,l,o),void 0,null),l},useId:function(){var i=ii(),o=fn.identifierPrefix;if(Ft){var l=Ci,f=xi;l=(f&~(1<<32-ft(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=hl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Cb++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Ob={readContext:gr,useCallback:ny,useContext:gr,useEffect:th,useImperativeHandle:ty,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:ry,useReducer:Jf,useRef:Xv,useState:function(){return Jf(pl)},useDebugValue:nh,useDeferredValue:function(i){var o=vr();return iy(o,on.memoizedState,i)},useTransition:function(){var i=Jf(pl)[0],o=vr().memoizedState;return[i,o]},useMutableSource:Vv,useSyncExternalStore:zv,useId:sy,unstable_isNewReconciler:!1},Rb={readContext:gr,useCallback:ny,useContext:gr,useEffect:th,useImperativeHandle:ty,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:ry,useReducer:eh,useRef:Xv,useState:function(){return eh(pl)},useDebugValue:nh,useDeferredValue:function(i){var o=vr();return on===null?o.memoizedState=i:iy(o,on.memoizedState,i)},useTransition:function(){var i=eh(pl)[0],o=vr().memoizedState;return[i,o]},useMutableSource:Vv,useSyncExternalStore:zv,useId:sy,unstable_isNewReconciler:!1};function Ir(i,o){if(i&&i.defaultProps){o=Q({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function rh(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:Q({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ju={isMounted:function(i){return(i=i._reactInternals)?Re(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var f=kn(),m=ls(i),v=Ni(f,m);v.payload=o,l!=null&&(v.callback=l),o=is(i,v,m),o!==null&&(jr(o,i,m,f),Hu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=kn(),m=ls(i),v=Ni(f,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=is(i,v,m),o!==null&&(jr(o,i,m,f),Hu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=kn(),f=ls(i),m=Ni(l,f);m.tag=2,o!=null&&(m.callback=o),o=is(i,m,f),o!==null&&(jr(o,i,f,l),Hu(o,i,f))}};function uy(i,o,l,f,m,v,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,b):o.prototype&&o.prototype.isPureReactComponent?!tl(l,f)||!tl(m,v):!0}function cy(i,o,l){var f=!1,m=ts,v=o.contextType;return typeof v=="object"&&v!==null?v=gr(v):(m=Un(o)?js:En.current,f=o.contextTypes,v=(f=f!=null)?Ao(i,m):ts),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ju,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function dy(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&Ju.enqueueReplaceState(o,o.state,null)}function ih(i,o,l,f){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Wf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=gr(v):(v=Un(o)?js:En.current,m.context=Ao(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(rh(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Ju.enqueueReplaceState(m,m.state,null),qu(i,l,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Fo(i,o){try{var l="",f=o;do l+=ce(f),f=f.return;while(f);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function sh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function oh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Ib=typeof WeakMap=="function"?WeakMap:Map;function fy(i,o,l){l=Ni(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){oc||(oc=!0,Sh=f),oh(i,o)},l}function hy(i,o,l){l=Ni(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;l.payload=function(){return f(m)},l.callback=function(){oh(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){oh(i,o),typeof f!="function"&&(os===null?os=new Set([this]):os.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),l}function py(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new Ib;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(l)||(m.add(l),i=Yb.bind(null,i,o,l),o.then(i,i))}function my(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function gy(i,o,l,f,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ni(-1,1),o.tag=2,is(l,o,1))),l.lanes|=1),i)}var Db=N.ReactCurrentOwner,$n=!1;function An(i,o,l,f){o.child=i===null?Lv(o,null,l,f):Io(o,i.child,l,f)}function vy(i,o,l,f,m){l=l.render;var v=o.ref;return Lo(o,m),f=Qf(i,o,l,f,v,m),l=Zf(),i!==null&&!$n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ai(i,o,m)):(Ft&&l&&If(o),o.flags|=1,An(i,o,f,m),o.child)}function yy(i,o,l,f,m){if(i===null){var v=l.type;return typeof v=="function"&&!Ph(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,_y(i,o,v,f,m)):(i=fc(l.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var b=v.memoizedProps;if(l=l.compare,l=l!==null?l:tl,l(b,f)&&i.ref===o.ref)return Ai(i,o,m)}return o.flags|=1,i=cs(v,f),i.ref=o.ref,i.return=o,o.child=i}function _y(i,o,l,f,m){if(i!==null){var v=i.memoizedProps;if(tl(v,f)&&i.ref===o.ref)if($n=!1,o.pendingProps=f=v,(i.lanes&m)!==0)i.flags&131072&&($n=!0);else return o.lanes=i.lanes,Ai(i,o,m)}return ah(i,o,l,f,m)}function wy(i,o,l){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct($o,rr),rr|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ct($o,rr),rr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:l,Ct($o,rr),rr|=f}else v!==null?(f=v.baseLanes|l,o.memoizedState=null):f=l,Ct($o,rr),rr|=f;return An(i,o,m,l),o.child}function Sy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function ah(i,o,l,f,m){var v=Un(l)?js:En.current;return v=Ao(o,v),Lo(o,m),l=Qf(i,o,l,f,v,m),f=Zf(),i!==null&&!$n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ai(i,o,m)):(Ft&&f&&If(o),o.flags|=1,An(i,o,l,m),o.child)}function Ey(i,o,l,f,m){if(Un(l)){var v=!0;ju(o)}else v=!1;if(Lo(o,m),o.stateNode===null)tc(i,o),cy(o,l,f),ih(o,l,f,m),f=!0;else if(i===null){var b=o.stateNode,I=o.memoizedProps;b.props=I;var F=b.context,X=l.contextType;typeof X=="object"&&X!==null?X=gr(X):(X=Un(l)?js:En.current,X=Ao(o,X));var ue=l.getDerivedStateFromProps,pe=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function";pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==f||F!==X)&&dy(o,b,f,X),rs=!1;var le=o.memoizedState;b.state=le,qu(o,f,b,m),F=o.memoizedState,I!==f||le!==F||Fn.current||rs?(typeof ue=="function"&&(rh(o,l,ue,f),F=o.memoizedState),(I=rs||uy(o,l,I,f,le,F,X))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),b.props=f,b.state=F,b.context=X,f=I):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Fv(i,o),I=o.memoizedProps,X=o.type===o.elementType?I:Ir(o.type,I),b.props=X,pe=o.pendingProps,le=b.context,F=l.contextType,typeof F=="object"&&F!==null?F=gr(F):(F=Un(l)?js:En.current,F=Ao(o,F));var Te=l.getDerivedStateFromProps;(ue=typeof Te=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==pe||le!==F)&&dy(o,b,f,F),rs=!1,le=o.memoizedState,b.state=le,qu(o,f,b,m);var Oe=o.memoizedState;I!==pe||le!==Oe||Fn.current||rs?(typeof Te=="function"&&(rh(o,l,Te,f),Oe=o.memoizedState),(X=rs||uy(o,l,X,f,le,Oe,F)||!1)?(ue||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,Oe,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,Oe,F)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Oe),b.props=f,b.state=Oe,b.context=F,f=X):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),f=!1)}return lh(i,o,l,f,v,m)}function lh(i,o,l,f,m,v){Sy(i,o);var b=(o.flags&128)!==0;if(!f&&!b)return m&&Cv(o,l,!1),Ai(i,o,v);f=o.stateNode,Db.current=o;var I=b&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&b?(o.child=Io(o,i.child,null,v),o.child=Io(o,null,I,v)):An(i,o,I,v),o.memoizedState=f.state,m&&Cv(o,l,!0),o.child}function My(i){var o=i.stateNode;o.pendingContext?Tv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Tv(i,o.context,!1),Hf(i,o.containerInfo)}function by(i,o,l,f,m){return Ro(),Ff(m),o.flags|=256,An(i,o,l,f),o.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function ch(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ty(i,o,l){var f=o.pendingProps,m=Vt.current,v=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=i!==null&&i.memoizedState===null?!1:(m&2)!==0),I?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ct(Vt,m&1),i===null)return jf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=f.children,i=f.fallback,v?(f=o.mode,v=o.child,b={mode:"hidden",children:b},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=b):v=hc(b,f,0,null),i=Gs(i,f,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=ch(l),o.memoizedState=uh,i):dh(o,b));if(m=i.memoizedState,m!==null&&(I=m.dehydrated,I!==null))return Lb(i,o,b,f,I,m,l);if(v){v=f.fallback,b=o.mode,m=i.child,I=m.sibling;var F={mode:"hidden",children:f.children};return!(b&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=cs(m,F),f.subtreeFlags=m.subtreeFlags&14680064),I!==null?v=cs(I,v):(v=Gs(v,b,l,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,b=i.child.memoizedState,b=b===null?ch(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=i.childLanes&~l,o.memoizedState=uh,f}return v=i.child,i=v.sibling,f=cs(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=l),f.return=o,f.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=f,o.memoizedState=null,f}function dh(i,o){return o=hc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ec(i,o,l,f){return f!==null&&Ff(f),Io(o,i.child,null,l),i=dh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Lb(i,o,l,f,m,v,b){if(l)return o.flags&256?(o.flags&=-257,f=sh(Error(t(422))),ec(i,o,b,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=hc({mode:"visible",children:f.children},m,0,null),v=Gs(v,m,b,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&Io(o,i.child,null,b),o.child.memoizedState=ch(b),o.memoizedState=uh,v);if(!(o.mode&1))return ec(i,o,b,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var I=f.dgst;return f=I,v=Error(t(419)),f=sh(v,f,void 0),ec(i,o,b,f)}if(I=(b&i.childLanes)!==0,$n||I){if(f=fn,f!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|b)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Pi(i,m),jr(f,i,m,-1))}return Ch(),f=sh(Error(t(421))),ec(i,o,b,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=Kb.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,nr=Ji(m.nextSibling),tr=o,Ft=!0,Rr=null,i!==null&&(pr[mr++]=xi,pr[mr++]=Ci,pr[mr++]=Fs,xi=i.id,Ci=i.overflow,Fs=o),o=dh(o,f.children),o.flags|=4096,o)}function xy(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Vf(i.return,o,l)}function fh(i,o,l,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=m)}function Cy(i,o,l){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(An(i,o,f.children,l),f=Vt.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xy(i,l,o);else if(i.tag===19)xy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ct(Vt,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Gu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),fh(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Gu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}fh(o,!0,l,null,v);break;case"together":fh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function tc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ai(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),zs|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=cs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=cs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function jb(i,o,l){switch(o.tag){case 3:My(o),Ro();break;case 5:Bv(o);break;case 1:Un(o.type)&&ju(o);break;case 4:Hf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Ct(zu,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ct(Vt,Vt.current&1),o.flags|=128,null):l&o.child.childLanes?Ty(i,o,l):(Ct(Vt,Vt.current&1),i=Ai(i,o,l),i!==null?i.sibling:null);Ct(Vt,Vt.current&1);break;case 19:if(f=(l&o.childLanes)!==0,i.flags&128){if(f)return Cy(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ct(Vt,Vt.current),f)break;return null;case 22:case 23:return o.lanes=0,wy(i,o,l)}return Ai(i,o,l)}var Py,hh,Ny,Ay;Py=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},hh=function(){},Ny=function(i,o,l,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Bs(ri.current);var v=null;switch(l){case"input":m=un(i,m),f=un(i,f),v=[];break;case"select":m=Q({},m,{value:void 0}),f=Q({},f,{value:void 0}),v=[];break;case"textarea":m=Yt(i,m),f=Yt(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Iu)}Fe(l,f);var b;l=null;for(X in m)if(!f.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var I=m[X];for(b in I)I.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in f){var F=f[X];if(I=m!=null?m[X]:void 0,f.hasOwnProperty(X)&&F!==I&&(F!=null||I!=null))if(X==="style")if(I){for(b in I)!I.hasOwnProperty(b)||F&&F.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in F)F.hasOwnProperty(b)&&I[b]!==F[b]&&(l||(l={}),l[b]=F[b])}else l||(v||(v=[]),v.push(X,l)),l=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,I=I?I.__html:void 0,F!=null&&I!==F&&(v=v||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&It("scroll",i),v||I===F||(v=[])):(v=v||[]).push(X,F))}l&&(v=v||[]).push("style",l);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},Ay=function(i,o,l,f){l!==f&&(o.flags|=4)};function gl(i,o){if(!Ft)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function bn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function Fb(i,o,l){var f=o.pendingProps;switch(Df(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return Un(o.type)&&Lu(),bn(o),null;case 3:return f=o.stateNode,jo(),Dt(Fn),Dt(En),Yf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Bu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Rr!==null&&(bh(Rr),Rr=null))),hh(i,o),bn(o),null;case 5:qf(o);var m=Bs(dl.current);if(l=o.type,i!==null&&o.stateNode!=null)Ny(i,o,l,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return bn(o),null}if(i=Bs(ri.current),Bu(o)){f=o.stateNode,l=o.type;var v=o.memoizedProps;switch(f[ni]=o,f[ol]=v,i=(o.mode&1)!==0,l){case"dialog":It("cancel",f),It("close",f);break;case"iframe":case"object":case"embed":It("load",f);break;case"video":case"audio":for(m=0;m<rl.length;m++)It(rl[m],f);break;case"source":It("error",f);break;case"img":case"image":case"link":It("error",f),It("load",f);break;case"details":It("toggle",f);break;case"input":fe(f,v),It("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},It("invalid",f);break;case"textarea":Pn(f,v),It("invalid",f)}Fe(l,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var I=v[b];b==="children"?typeof I=="string"?f.textContent!==I&&(v.suppressHydrationWarning!==!0&&Ru(f.textContent,I,i),m=["children",I]):typeof I=="number"&&f.textContent!==""+I&&(v.suppressHydrationWarning!==!0&&Ru(f.textContent,I,i),m=["children",""+I]):s.hasOwnProperty(b)&&I!=null&&b==="onScroll"&&It("scroll",f)}switch(l){case"input":mt(f),ut(f,v,!0);break;case"textarea":mt(f),Nn(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Iu)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=hr(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=b.createElement(l,{is:f.is}):(i=b.createElement(l),l==="select"&&(b=i,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):i=b.createElementNS(i,l),i[ni]=o,i[ol]=f,Py(i,o,!1,!1),o.stateNode=i;e:{switch(b=Mt(l,f),l){case"dialog":It("cancel",i),It("close",i),m=f;break;case"iframe":case"object":case"embed":It("load",i),m=f;break;case"video":case"audio":for(m=0;m<rl.length;m++)It(rl[m],i);m=f;break;case"source":It("error",i),m=f;break;case"img":case"image":case"link":It("error",i),It("load",i),m=f;break;case"details":It("toggle",i),m=f;break;case"input":fe(i,f),m=un(i,f),It("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=Q({},f,{value:void 0}),It("invalid",i);break;case"textarea":Pn(i,f),m=Yt(i,f),It("invalid",i);break;default:m=f}Fe(l,m),I=m;for(v in I)if(I.hasOwnProperty(v)){var F=I[v];v==="style"?re(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ln(i,F)):v==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&ei(i,F):typeof F=="number"&&ei(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&It("scroll",i):F!=null&&R(i,v,F,b))}switch(l){case"input":mt(i),ut(i,f,!1);break;case"textarea":mt(i),Nn(i);break;case"option":f.value!=null&&i.setAttribute("value",""+de(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?vt(i,!!f.multiple,v,!1):f.defaultValue!=null&&vt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Iu)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return bn(o),null;case 6:if(i&&o.stateNode!=null)Ay(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(l=Bs(dl.current),Bs(ri.current),Bu(o)){if(f=o.stateNode,l=o.memoizedProps,f[ni]=o,(v=f.nodeValue!==l)&&(i=tr,i!==null))switch(i.tag){case 3:Ru(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ru(f.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[ni]=o,o.stateNode=f}return bn(o),null;case 13:if(Dt(Vt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&nr!==null&&o.mode&1&&!(o.flags&128))Rv(),Ro(),o.flags|=98560,v=!1;else if(v=Bu(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[ni]=o}else Ro(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;bn(o),v=!1}else Rr!==null&&(bh(Rr),Rr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||Vt.current&1?an===0&&(an=3):Ch())),o.updateQueue!==null&&(o.flags|=4),bn(o),null);case 4:return jo(),hh(i,o),i===null&&il(o.stateNode.containerInfo),bn(o),null;case 10:return Bf(o.type._context),bn(o),null;case 17:return Un(o.type)&&Lu(),bn(o),null;case 19:if(Dt(Vt),v=o.memoizedState,v===null)return bn(o),null;if(f=(o.flags&128)!==0,b=v.rendering,b===null)if(f)gl(v,!1);else{if(an!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(b=Gu(i),b!==null){for(o.flags|=128,gl(v,!1),f=b.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)v=l,i=f,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,i=b.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ct(Vt,Vt.current&1|2),o.child}i=i.sibling}v.tail!==null&&dt()>Bo&&(o.flags|=128,f=!0,gl(v,!1),o.lanes=4194304)}else{if(!f)if(i=Gu(b),i!==null){if(o.flags|=128,f=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),gl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ft)return bn(o),null}else 2*dt()-v.renderingStartTime>Bo&&l!==1073741824&&(o.flags|=128,f=!0,gl(v,!1),o.lanes=4194304);v.isBackwards?(b.sibling=o.child,o.child=b):(l=v.last,l!==null?l.sibling=b:o.child=b,v.last=b)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=dt(),o.sibling=null,l=Vt.current,Ct(Vt,f?l&1|2:l&1),o):(bn(o),null);case 22:case 23:return xh(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?rr&1073741824&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Ub(i,o){switch(Df(o),o.tag){case 1:return Un(o.type)&&Lu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return jo(),Dt(Fn),Dt(En),Yf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return qf(o),null;case 13:if(Dt(Vt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Dt(Vt),null;case 4:return jo(),null;case 10:return Bf(o.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var nc=!1,Tn=!1,$b=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Uo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Ht(i,o,f)}else l.current=null}function ph(i,o,l){try{l()}catch(f){Ht(i,o,f)}}var ky=!1;function Bb(i,o){if(xf=Eu,i=uv(),yf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var b=0,I=-1,F=-1,X=0,ue=0,pe=i,le=null;t:for(;;){for(var Te;pe!==l||m!==0&&pe.nodeType!==3||(I=b+m),pe!==v||f!==0&&pe.nodeType!==3||(F=b+f),pe.nodeType===3&&(b+=pe.nodeValue.length),(Te=pe.firstChild)!==null;)le=pe,pe=Te;for(;;){if(pe===i)break t;if(le===l&&++X===m&&(I=b),le===v&&++ue===f&&(F=b),(Te=pe.nextSibling)!==null)break;pe=le,le=pe.parentNode}pe=Te}l=I===-1||F===-1?null:{start:I,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cf={focusedElem:i,selectionRange:l},Eu=!1,Pe=o;Pe!==null;)if(o=Pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Pe=i;else for(;Pe!==null;){o=Pe;try{var Oe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Ie=Oe.memoizedProps,Kt=Oe.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?Ie:Ir(o.type,Ie),Kt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Ht(o,o.return,ge)}if(i=o.sibling,i!==null){i.return=o.return,Pe=i;break}Pe=o.return}return Oe=ky,ky=!1,Oe}function vl(i,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&ph(o,l,v)}m=m.next}while(m!==f)}}function rc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function mh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Oy(i){var o=i.alternate;o!==null&&(i.alternate=null,Oy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ni],delete o[ol],delete o[kf],delete o[Mb],delete o[bb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ry(i){return i.tag===5||i.tag===3||i.tag===4}function Iy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ry(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gh(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Iu));else if(f!==4&&(i=i.child,i!==null))for(gh(i,o,l),i=i.sibling;i!==null;)gh(i,o,l),i=i.sibling}function vh(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(vh(i,o,l),i=i.sibling;i!==null;)vh(i,o,l),i=i.sibling}var vn=null,Dr=!1;function ss(i,o,l){for(l=l.child;l!==null;)Dy(i,o,l),l=l.sibling}function Dy(i,o,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Tt,l)}catch{}switch(l.tag){case 5:Tn||Uo(l,o);case 6:var f=vn,m=Dr;vn=null,ss(i,o,l),vn=f,Dr=m,vn!==null&&(Dr?(i=vn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):vn.removeChild(l.stateNode));break;case 18:vn!==null&&(Dr?(i=vn,l=l.stateNode,i.nodeType===8?Af(i.parentNode,l):i.nodeType===1&&Af(i,l),Ka(i)):Af(vn,l.stateNode));break;case 4:f=vn,m=Dr,vn=l.stateNode.containerInfo,Dr=!0,ss(i,o,l),vn=f,Dr=m;break;case 0:case 11:case 14:case 15:if(!Tn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&(v&2||v&4)&&ph(l,o,b),m=m.next}while(m!==f)}ss(i,o,l);break;case 1:if(!Tn&&(Uo(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(I){Ht(l,o,I)}ss(i,o,l);break;case 21:ss(i,o,l);break;case 22:l.mode&1?(Tn=(f=Tn)||l.memoizedState!==null,ss(i,o,l),Tn=f):ss(i,o,l);break;default:ss(i,o,l)}}function Ly(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new $b),o.forEach(function(f){var m=Xb.bind(null,i,f);l.has(f)||(l.add(f),f.then(m,m))})}}function Lr(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];try{var v=i,b=o,I=b;e:for(;I!==null;){switch(I.tag){case 5:vn=I.stateNode,Dr=!1;break e;case 3:vn=I.stateNode.containerInfo,Dr=!0;break e;case 4:vn=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(vn===null)throw Error(t(160));Dy(v,b,m),vn=null,Dr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(X){Ht(m,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)jy(o,i),o=o.sibling}function jy(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Lr(o,i),si(i),f&4){try{vl(3,i,i.return),rc(3,i)}catch(Ie){Ht(i,i.return,Ie)}try{vl(5,i,i.return)}catch(Ie){Ht(i,i.return,Ie)}}break;case 1:Lr(o,i),si(i),f&512&&l!==null&&Uo(l,l.return);break;case 5:if(Lr(o,i),si(i),f&512&&l!==null&&Uo(l,l.return),i.flags&32){var m=i.stateNode;try{ei(m,"")}catch(Ie){Ht(i,i.return,Ie)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,b=l!==null?l.memoizedProps:v,I=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{I==="input"&&v.type==="radio"&&v.name!=null&&xe(m,v),Mt(I,b);var X=Mt(I,v);for(b=0;b<F.length;b+=2){var ue=F[b],pe=F[b+1];ue==="style"?re(m,pe):ue==="dangerouslySetInnerHTML"?Ln(m,pe):ue==="children"?ei(m,pe):R(m,ue,pe,X)}switch(I){case"input":st(m,v);break;case"textarea":Zt(m,v);break;case"select":var le=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Te=v.value;Te!=null?vt(m,!!v.multiple,Te,!1):le!==!!v.multiple&&(v.defaultValue!=null?vt(m,!!v.multiple,v.defaultValue,!0):vt(m,!!v.multiple,v.multiple?[]:"",!1))}m[ol]=v}catch(Ie){Ht(i,i.return,Ie)}}break;case 6:if(Lr(o,i),si(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(Ie){Ht(i,i.return,Ie)}}break;case 3:if(Lr(o,i),si(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Ka(o.containerInfo)}catch(Ie){Ht(i,i.return,Ie)}break;case 4:Lr(o,i),si(i);break;case 13:Lr(o,i),si(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(wh=dt())),f&4&&Ly(i);break;case 22:if(ue=l!==null&&l.memoizedState!==null,i.mode&1?(Tn=(X=Tn)||ue,Lr(o,i),Tn=X):Lr(o,i),si(i),f&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!ue&&i.mode&1)for(Pe=i,ue=i.child;ue!==null;){for(pe=Pe=ue;Pe!==null;){switch(le=Pe,Te=le.child,le.tag){case 0:case 11:case 14:case 15:vl(4,le,le.return);break;case 1:Uo(le,le.return);var Oe=le.stateNode;if(typeof Oe.componentWillUnmount=="function"){f=le,l=le.return;try{o=f,Oe.props=o.memoizedProps,Oe.state=o.memoizedState,Oe.componentWillUnmount()}catch(Ie){Ht(f,l,Ie)}}break;case 5:Uo(le,le.return);break;case 22:if(le.memoizedState!==null){$y(pe);continue}}Te!==null?(Te.return=le,Pe=Te):$y(pe)}ue=ue.sibling}e:for(ue=null,pe=i;;){if(pe.tag===5){if(ue===null){ue=pe;try{m=pe.stateNode,X?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(I=pe.stateNode,F=pe.memoizedProps.style,b=F!=null&&F.hasOwnProperty("display")?F.display:null,I.style.display=K("display",b))}catch(Ie){Ht(i,i.return,Ie)}}}else if(pe.tag===6){if(ue===null)try{pe.stateNode.nodeValue=X?"":pe.memoizedProps}catch(Ie){Ht(i,i.return,Ie)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;ue===pe&&(ue=null),pe=pe.return}ue===pe&&(ue=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Lr(o,i),si(i),f&4&&Ly(i);break;case 21:break;default:Lr(o,i),si(i)}}function si(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Ry(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ei(m,""),f.flags&=-33);var v=Iy(i);vh(i,v,m);break;case 3:case 4:var b=f.stateNode.containerInfo,I=Iy(i);gh(i,I,b);break;default:throw Error(t(161))}}catch(F){Ht(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Vb(i,o,l){Pe=i,Fy(i)}function Fy(i,o,l){for(var f=(i.mode&1)!==0;Pe!==null;){var m=Pe,v=m.child;if(m.tag===22&&f){var b=m.memoizedState!==null||nc;if(!b){var I=m.alternate,F=I!==null&&I.memoizedState!==null||Tn;I=nc;var X=Tn;if(nc=b,(Tn=F)&&!X)for(Pe=m;Pe!==null;)b=Pe,F=b.child,b.tag===22&&b.memoizedState!==null?By(m):F!==null?(F.return=b,Pe=F):By(m);for(;v!==null;)Pe=v,Fy(v),v=v.sibling;Pe=m,nc=I,Tn=X}Uy(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,Pe=v):Uy(i)}}function Uy(i){for(;Pe!==null;){var o=Pe;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Tn||rc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Tn)if(l===null)f.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Ir(o.type,l.memoizedProps);f.componentDidUpdate(m,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&$v(o,v,f);break;case 3:var b=o.updateQueue;if(b!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}$v(o,b,l)}break;case 5:var I=o.stateNode;if(l===null&&o.flags&4){l=I;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ue=X.memoizedState;if(ue!==null){var pe=ue.dehydrated;pe!==null&&Ka(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tn||o.flags&512&&mh(o)}catch(le){Ht(o,o.return,le)}}if(o===i){Pe=null;break}if(l=o.sibling,l!==null){l.return=o.return,Pe=l;break}Pe=o.return}}function $y(i){for(;Pe!==null;){var o=Pe;if(o===i){Pe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Pe=l;break}Pe=o.return}}function By(i){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{rc(4,o)}catch(F){Ht(o,l,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(F){Ht(o,m,F)}}var v=o.return;try{mh(o)}catch(F){Ht(o,v,F)}break;case 5:var b=o.return;try{mh(o)}catch(F){Ht(o,b,F)}}}catch(F){Ht(o,o.return,F)}if(o===i){Pe=null;break}var I=o.sibling;if(I!==null){I.return=o.return,Pe=I;break}Pe=o.return}}var zb=Math.ceil,ic=N.ReactCurrentDispatcher,yh=N.ReactCurrentOwner,yr=N.ReactCurrentBatchConfig,ct=0,fn=null,Jt=null,yn=0,rr=0,$o=es(0),an=0,yl=null,zs=0,sc=0,_h=0,_l=null,Bn=null,wh=0,Bo=1/0,ki=null,oc=!1,Sh=null,os=null,ac=!1,as=null,lc=0,wl=0,Eh=null,uc=-1,cc=0;function kn(){return ct&6?dt():uc!==-1?uc:uc=dt()}function ls(i){return i.mode&1?ct&2&&yn!==0?yn&-yn:xb.transition!==null?(cc===0&&(cc=Ig()),cc):(i=_t,i!==0||(i=window.event,i=i===void 0?16:zg(i.type)),i):1}function jr(i,o,l,f){if(50<wl)throw wl=0,Eh=null,Error(t(185));Wa(i,l,f),(!(ct&2)||i!==fn)&&(i===fn&&(!(ct&2)&&(sc|=l),an===4&&us(i,yn)),Vn(i,f),l===1&&ct===0&&!(o.mode&1)&&(Bo=dt()+500,Fu&&ns()))}function Vn(i,o){var l=i.callbackNode;xM(i,o);var f=_u(i,i===fn?yn:0);if(f===0)l!==null&&Si(l),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(l!=null&&Si(l),o===1)i.tag===0?Tb(zy.bind(null,i)):Pv(zy.bind(null,i)),Sb(function(){!(ct&6)&&ns()}),l=null;else{switch(Dg(f)){case 1:l=Ei;break;case 4:l=ti;break;case 16:l=Mi;break;case 536870912:l=ot;break;default:l=Mi}l=Qy(l,Vy.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Vy(i,o){if(uc=-1,cc=0,ct&6)throw Error(t(327));var l=i.callbackNode;if(Vo()&&i.callbackNode!==l)return null;var f=_u(i,i===fn?yn:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=dc(i,f);else{o=f;var m=ct;ct|=2;var v=Hy();(fn!==i||yn!==o)&&(ki=null,Bo=dt()+500,Hs(i,o));do try{qb();break}catch(I){Wy(i,I)}while(!0);$f(),ic.current=v,ct=m,Jt!==null?o=0:(fn=null,yn=0,o=an)}if(o!==0){if(o===2&&(m=tf(i),m!==0&&(f=m,o=Mh(i,m))),o===1)throw l=yl,Hs(i,0),us(i,f),Vn(i,dt()),l;if(o===6)us(i,f);else{if(m=i.current.alternate,!(f&30)&&!Wb(m)&&(o=dc(i,f),o===2&&(v=tf(i),v!==0&&(f=v,o=Mh(i,v))),o===1))throw l=yl,Hs(i,0),us(i,f),Vn(i,dt()),l;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:qs(i,Bn,ki);break;case 3:if(us(i,f),(f&130023424)===f&&(o=wh+500-dt(),10<o)){if(_u(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){kn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Nf(qs.bind(null,i,Bn,ki),o);break}qs(i,Bn,ki);break;case 4:if(us(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var b=31-ft(f);v=1<<b,b=o[b],b>m&&(m=b),f&=~v}if(f=m,f=dt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*zb(f/1960))-f,10<f){i.timeoutHandle=Nf(qs.bind(null,i,Bn,ki),f);break}qs(i,Bn,ki);break;case 5:qs(i,Bn,ki);break;default:throw Error(t(329))}}}return Vn(i,dt()),i.callbackNode===l?Vy.bind(null,i):null}function Mh(i,o){var l=_l;return i.current.memoizedState.isDehydrated&&(Hs(i,o).flags|=256),i=dc(i,o),i!==2&&(o=Bn,Bn=l,o!==null&&bh(o)),i}function bh(i){Bn===null?Bn=i:Bn.push.apply(Bn,i)}function Wb(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var m=l[f],v=m.getSnapshot;m=m.value;try{if(!Or(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(i,o){for(o&=~_h,o&=~sc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-ft(o),f=1<<l;i[l]=-1,o&=~f}}function zy(i){if(ct&6)throw Error(t(327));Vo();var o=_u(i,0);if(!(o&1))return Vn(i,dt()),null;var l=dc(i,o);if(i.tag!==0&&l===2){var f=tf(i);f!==0&&(o=f,l=Mh(i,f))}if(l===1)throw l=yl,Hs(i,0),us(i,o),Vn(i,dt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,qs(i,Bn,ki),Vn(i,dt()),null}function Th(i,o){var l=ct;ct|=1;try{return i(o)}finally{ct=l,ct===0&&(Bo=dt()+500,Fu&&ns())}}function Ws(i){as!==null&&as.tag===0&&!(ct&6)&&Vo();var o=ct;ct|=1;var l=yr.transition,f=_t;try{if(yr.transition=null,_t=1,i)return i()}finally{_t=f,yr.transition=l,ct=o,!(ct&6)&&ns()}}function xh(){rr=$o.current,Dt($o)}function Hs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,wb(l)),Jt!==null)for(l=Jt.return;l!==null;){var f=l;switch(Df(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Lu();break;case 3:jo(),Dt(Fn),Dt(En),Yf();break;case 5:qf(f);break;case 4:jo();break;case 13:Dt(Vt);break;case 19:Dt(Vt);break;case 10:Bf(f.type._context);break;case 22:case 23:xh()}l=l.return}if(fn=i,Jt=i=cs(i.current,null),yn=rr=o,an=0,yl=null,_h=sc=zs=0,Bn=_l=null,$s!==null){for(o=0;o<$s.length;o++)if(l=$s[o],f=l.interleaved,f!==null){l.interleaved=null;var m=f.next,v=l.pending;if(v!==null){var b=v.next;v.next=m,f.next=b}l.pending=f}$s=null}return i}function Wy(i,o){do{var l=Jt;try{if($f(),Yu.current=Zu,Ku){for(var f=zt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Ku=!1}if(Vs=0,dn=on=zt=null,fl=!1,hl=0,yh.current=null,l===null||l.return===null){an=1,yl=o,Jt=null;break}e:{var v=i,b=l.return,I=l,F=o;if(o=yn,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,ue=I,pe=ue.tag;if(!(ue.mode&1)&&(pe===0||pe===11||pe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Te=my(b);if(Te!==null){Te.flags&=-257,gy(Te,b,I,v,o),Te.mode&1&&py(v,X,o),o=Te,F=X;var Oe=o.updateQueue;if(Oe===null){var Ie=new Set;Ie.add(F),o.updateQueue=Ie}else Oe.add(F);break e}else{if(!(o&1)){py(v,X,o),Ch();break e}F=Error(t(426))}}else if(Ft&&I.mode&1){var Kt=my(b);if(Kt!==null){!(Kt.flags&65536)&&(Kt.flags|=256),gy(Kt,b,I,v,o),Ff(Fo(F,I));break e}}v=F=Fo(F,I),an!==4&&(an=2),_l===null?_l=[v]:_l.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=fy(v,F,o);Uv(v,H);break e;case 1:I=F;var U=v.type,G=v.stateNode;if(!(v.flags&128)&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(os===null||!os.has(G)))){v.flags|=65536,o&=-o,v.lanes|=o;var ge=hy(v,I,o);Uv(v,ge);break e}}v=v.return}while(v!==null)}Gy(l)}catch(Le){o=Le,Jt===l&&l!==null&&(Jt=l=l.return);continue}break}while(!0)}function Hy(){var i=ic.current;return ic.current=Zu,i===null?Zu:i}function Ch(){(an===0||an===3||an===2)&&(an=4),fn===null||!(zs&268435455)&&!(sc&268435455)||us(fn,yn)}function dc(i,o){var l=ct;ct|=2;var f=Hy();(fn!==i||yn!==o)&&(ki=null,Hs(i,o));do try{Hb();break}catch(m){Wy(i,m)}while(!0);if($f(),ct=l,ic.current=f,Jt!==null)throw Error(t(261));return fn=null,yn=0,an}function Hb(){for(;Jt!==null;)qy(Jt)}function qb(){for(;Jt!==null&&!Is();)qy(Jt)}function qy(i){var o=Xy(i.alternate,i,rr);i.memoizedProps=i.pendingProps,o===null?Gy(i):Jt=o,yh.current=null}function Gy(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=Ub(l,o),l!==null){l.flags&=32767,Jt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{an=6,Jt=null;return}}else if(l=Fb(l,o,rr),l!==null){Jt=l;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=i}while(o!==null);an===0&&(an=5)}function qs(i,o,l){var f=_t,m=yr.transition;try{yr.transition=null,_t=1,Gb(i,o,l,f)}finally{yr.transition=m,_t=f}return null}function Gb(i,o,l,f){do Vo();while(as!==null);if(ct&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(CM(i,v),i===fn&&(Jt=fn=null,yn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ac||(ac=!0,Qy(Mi,function(){return Vo(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=yr.transition,yr.transition=null;var b=_t;_t=1;var I=ct;ct|=4,yh.current=null,Bb(i,l),jy(l,i),hb(Cf),Eu=!!xf,Cf=xf=null,i.current=l,Vb(l),kr(),ct=I,_t=b,yr.transition=v}else i.current=l;if(ac&&(ac=!1,as=i,lc=m),v=i.pendingLanes,v===0&&(os=null),Ds(l.stateNode),Vn(i,dt()),o!==null)for(f=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],f(m.value,{componentStack:m.stack,digest:m.digest});if(oc)throw oc=!1,i=Sh,Sh=null,i;return lc&1&&i.tag!==0&&Vo(),v=i.pendingLanes,v&1?i===Eh?wl++:(wl=0,Eh=i):wl=0,ns(),null}function Vo(){if(as!==null){var i=Dg(lc),o=yr.transition,l=_t;try{if(yr.transition=null,_t=16>i?16:i,as===null)var f=!1;else{if(i=as,as=null,lc=0,ct&6)throw Error(t(331));var m=ct;for(ct|=4,Pe=i.current;Pe!==null;){var v=Pe,b=v.child;if(Pe.flags&16){var I=v.deletions;if(I!==null){for(var F=0;F<I.length;F++){var X=I[F];for(Pe=X;Pe!==null;){var ue=Pe;switch(ue.tag){case 0:case 11:case 15:vl(8,ue,v)}var pe=ue.child;if(pe!==null)pe.return=ue,Pe=pe;else for(;Pe!==null;){ue=Pe;var le=ue.sibling,Te=ue.return;if(Oy(ue),ue===X){Pe=null;break}if(le!==null){le.return=Te,Pe=le;break}Pe=Te}}}var Oe=v.alternate;if(Oe!==null){var Ie=Oe.child;if(Ie!==null){Oe.child=null;do{var Kt=Ie.sibling;Ie.sibling=null,Ie=Kt}while(Ie!==null)}}Pe=v}}if(v.subtreeFlags&2064&&b!==null)b.return=v,Pe=b;else e:for(;Pe!==null;){if(v=Pe,v.flags&2048)switch(v.tag){case 0:case 11:case 15:vl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,Pe=H;break e}Pe=v.return}}var U=i.current;for(Pe=U;Pe!==null;){b=Pe;var G=b.child;if(b.subtreeFlags&2064&&G!==null)G.return=b,Pe=G;else e:for(b=U;Pe!==null;){if(I=Pe,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:rc(9,I)}}catch(Le){Ht(I,I.return,Le)}if(I===b){Pe=null;break e}var ge=I.sibling;if(ge!==null){ge.return=I.return,Pe=ge;break e}Pe=I.return}}if(ct=m,ns(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Tt,i)}catch{}f=!0}return f}finally{_t=l,yr.transition=o}}return!1}function Yy(i,o,l){o=Fo(l,o),o=fy(i,o,1),i=is(i,o,1),o=kn(),i!==null&&(Wa(i,1,o),Vn(i,o))}function Ht(i,o,l){if(i.tag===3)Yy(i,i,l);else for(;o!==null;){if(o.tag===3){Yy(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(os===null||!os.has(f))){i=Fo(l,i),i=hy(o,i,1),o=is(o,i,1),i=kn(),o!==null&&(Wa(o,1,i),Vn(o,i));break}}o=o.return}}function Yb(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),o=kn(),i.pingedLanes|=i.suspendedLanes&l,fn===i&&(yn&l)===l&&(an===4||an===3&&(yn&130023424)===yn&&500>dt()-wh?Hs(i,0):_h|=l),Vn(i,o)}function Ky(i,o){o===0&&(i.mode&1?(o=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):o=1);var l=kn();i=Pi(i,o),i!==null&&(Wa(i,o,l),Vn(i,l))}function Kb(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Ky(i,l)}function Xb(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),Ky(i,l)}var Xy;Xy=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Fn.current)$n=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return $n=!1,jb(i,o,l);$n=!!(i.flags&131072)}else $n=!1,Ft&&o.flags&1048576&&Nv(o,$u,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;tc(i,o),i=o.pendingProps;var m=Ao(o,En.current);Lo(o,l),m=Qf(null,o,f,i,m,l);var v=Zf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Un(f)?(v=!0,ju(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wf(o),m.updater=Ju,o.stateNode=m,m._reactInternals=o,ih(o,f,i,l),o=lh(null,o,f,!0,v,l)):(o.tag=0,Ft&&v&&If(o),An(null,o,m,l),o=o.child),o;case 16:f=o.elementType;e:{switch(tc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=Zb(f),i=Ir(f,i),m){case 0:o=ah(null,o,f,i,l);break e;case 1:o=Ey(null,o,f,i,l);break e;case 11:o=vy(null,o,f,i,l);break e;case 14:o=yy(null,o,f,Ir(f.type,i),l);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ir(f,m),ah(i,o,f,m,l);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ir(f,m),Ey(i,o,f,m,l);case 3:e:{if(My(o),i===null)throw Error(t(387));f=o.pendingProps,v=o.memoizedState,m=v.element,Fv(i,o),qu(o,f,null,l);var b=o.memoizedState;if(f=b.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Fo(Error(t(423)),o),o=by(i,o,f,l,m);break e}else if(f!==m){m=Fo(Error(t(424)),o),o=by(i,o,f,l,m);break e}else for(nr=Ji(o.stateNode.containerInfo.firstChild),tr=o,Ft=!0,Rr=null,l=Lv(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ro(),f===m){o=Ai(i,o,l);break e}An(i,o,f,l)}o=o.child}return o;case 5:return Bv(o),i===null&&jf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,b=m.children,Pf(f,m)?b=null:v!==null&&Pf(f,v)&&(o.flags|=32),Sy(i,o),An(i,o,b,l),o.child;case 6:return i===null&&jf(o),null;case 13:return Ty(i,o,l);case 4:return Hf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Io(o,null,f,l):An(i,o,f,l),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ir(f,m),vy(i,o,f,m,l);case 7:return An(i,o,o.pendingProps,l),o.child;case 8:return An(i,o,o.pendingProps.children,l),o.child;case 12:return An(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,b=m.value,Ct(zu,f._currentValue),f._currentValue=b,v!==null)if(Or(v.value,b)){if(v.children===m.children&&!Fn.current){o=Ai(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var I=v.dependencies;if(I!==null){b=v.child;for(var F=I.firstContext;F!==null;){if(F.context===f){if(v.tag===1){F=Ni(-1,l&-l),F.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var ue=X.pending;ue===null?F.next=F:(F.next=ue.next,ue.next=F),X.pending=F}}v.lanes|=l,F=v.alternate,F!==null&&(F.lanes|=l),Vf(v.return,l,o),I.lanes|=l;break}F=F.next}}else if(v.tag===10)b=v.type===o.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(t(341));b.lanes|=l,I=b.alternate,I!==null&&(I.lanes|=l),Vf(b,l,o),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===o){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}An(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Lo(o,l),m=gr(m),f=f(m),o.flags|=1,An(i,o,f,l),o.child;case 14:return f=o.type,m=Ir(f,o.pendingProps),m=Ir(f.type,m),yy(i,o,f,m,l);case 15:return _y(i,o,o.type,o.pendingProps,l);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ir(f,m),tc(i,o),o.tag=1,Un(f)?(i=!0,ju(o)):i=!1,Lo(o,l),cy(o,f,m),ih(o,f,m,l),lh(null,o,f,!0,i,l);case 19:return Cy(i,o,l);case 22:return wy(i,o,l)}throw Error(t(156,o.tag))};function Qy(i,o){return Rt(i,o)}function Qb(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(i,o,l,f){return new Qb(i,o,l,f)}function Ph(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zb(i){if(typeof i=="function")return Ph(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===he)return 14}return 2}function cs(i,o){var l=i.alternate;return l===null?(l=_r(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function fc(i,o,l,f,m,v){var b=2;if(f=i,typeof i=="function")Ph(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case T:return Gs(l.children,m,v,o);case A:b=8,m|=8;break;case $:return i=_r(12,l,o,m|2),i.elementType=$,i.lanes=v,i;case J:return i=_r(13,l,o,m),i.elementType=J,i.lanes=v,i;case ne:return i=_r(19,l,o,m),i.elementType=ne,i.lanes=v,i;case oe:return hc(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:b=10;break e;case V:b=9;break e;case B:b=11;break e;case he:b=14;break e;case se:b=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=_r(b,l,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Gs(i,o,l,f){return i=_r(7,i,f,o),i.lanes=l,i}function hc(i,o,l,f){return i=_r(22,i,f,o),i.elementType=oe,i.lanes=l,i.stateNode={isHidden:!1},i}function Nh(i,o,l){return i=_r(6,i,null,o),i.lanes=l,i}function Ah(i,o,l){return o=_r(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Jb(i,o,l,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function kh(i,o,l,f,m,v,b,I,F){return i=new Jb(i,o,l,I,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=_r(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(v),i}function eT(i,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:f==null?null:""+f,children:i,containerInfo:o,implementation:l}}function Zy(i){if(!i)return ts;i=i._reactInternals;e:{if(Re(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Un(l))return xv(i,l,o)}return o}function Jy(i,o,l,f,m,v,b,I,F){return i=kh(l,f,!0,i,m,v,b,I,F),i.context=Zy(null),l=i.current,f=kn(),m=ls(l),v=Ni(f,m),v.callback=o??null,is(l,v,m),i.current.lanes=m,Wa(i,m,f),Vn(i,f),i}function pc(i,o,l,f){var m=o.current,v=kn(),b=ls(m);return l=Zy(l),o.context===null?o.context=l:o.pendingContext=l,o=Ni(v,b),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=is(m,o,b),i!==null&&(jr(i,m,b,v),Hu(i,m,b)),b}function mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function e1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Oh(i,o){e1(i,o),(i=i.alternate)&&e1(i,o)}function tT(){return null}var t1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rh(i){this._internalRoot=i}gc.prototype.render=Rh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));pc(i,o,null,null)},gc.prototype.unmount=Rh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ws(function(){pc(null,i,null,null)}),o[bi]=null}};function gc(i){this._internalRoot=i}gc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fg();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Xi.length&&o!==0&&o<Xi[l].priority;l++);Xi.splice(l,0,i),l===0&&Bg(i)}};function Ih(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function n1(){}function nT(i,o,l,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var X=mc(b);v.call(X)}}var b=Jy(o,f,i,0,null,!1,!1,"",n1);return i._reactRootContainer=b,i[bi]=b.current,il(i.nodeType===8?i.parentNode:i),Ws(),b}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var I=f;f=function(){var X=mc(F);I.call(X)}}var F=kh(i,0,!1,null,null,!1,!1,"",n1);return i._reactRootContainer=F,i[bi]=F.current,il(i.nodeType===8?i.parentNode:i),Ws(function(){pc(o,F,l,f)}),F}function yc(i,o,l,f,m){var v=l._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var I=m;m=function(){var F=mc(b);I.call(F)}}pc(o,b,i,m)}else b=nT(l,o,i,m,f);return mc(b)}Lg=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=za(o.pendingLanes);l!==0&&(rf(o,l|1),Vn(o,dt()),!(ct&6)&&(Bo=dt()+500,ns()))}break;case 13:Ws(function(){var f=Pi(i,1);if(f!==null){var m=kn();jr(f,i,1,m)}}),Oh(i,1)}},sf=function(i){if(i.tag===13){var o=Pi(i,134217728);if(o!==null){var l=kn();jr(o,i,134217728,l)}Oh(i,134217728)}},jg=function(i){if(i.tag===13){var o=ls(i),l=Pi(i,o);if(l!==null){var f=kn();jr(l,i,o,f)}Oh(i,o)}},Fg=function(){return _t},Ug=function(i,o){var l=_t;try{return _t=i,o()}finally{_t=l}},Se=function(i,o,l){switch(o){case"input":if(st(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var m=Du(f);if(!m)throw Error(t(90));lt(f),st(f,m)}}}break;case"textarea":Zt(i,l);break;case"select":o=l.value,o!=null&&vt(i,!!l.multiple,o,!1)}},bt=Th,rn=Ws;var rT={usingClientEntryPoint:!1,Events:[al,Po,Du,Ke,gt,Th]},Sl={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iT={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yt(i),i===null?null:i.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||tT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Tt=_c.inject(iT),gn=_c}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT,zn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ih(o))throw Error(t(200));return eT(i,o,null,l)},zn.createRoot=function(i,o){if(!Ih(i))throw Error(t(299));var l=!1,f="",m=t1;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=kh(i,1,!1,null,null,l,!1,f,m),i[bi]=o.current,il(i.nodeType===8?i.parentNode:i),new Rh(o)},zn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=yt(o),i=i===null?null:i.stateNode,i},zn.flushSync=function(i){return Ws(i)},zn.hydrate=function(i,o,l){if(!vc(o))throw Error(t(200));return yc(null,i,o,!0,l)},zn.hydrateRoot=function(i,o,l){if(!Ih(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,m=!1,v="",b=t1;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),o=Jy(o,null,i,1,l??null,m,!1,v,b),i[bi]=o.current,il(i),f)for(i=0;i<f.length;i++)l=f[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new gc(o)},zn.render=function(i,o,l){if(!vc(o))throw Error(t(200));return yc(null,i,o,!1,l)},zn.unmountComponentAtNode=function(i){if(!vc(i))throw Error(t(40));return i._reactRootContainer?(Ws(function(){yc(null,null,i,!1,function(){i._reactRootContainer=null,i[bi]=null})}),!0):!1},zn.unstable_batchedUpdates=Th,zn.unstable_renderSubtreeIntoContainer=function(i,o,l,f){if(!vc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return yc(i,o,l,!1,f)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var f1;function vw(){if(f1)return jh.exports;f1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jh.exports=gT(),jh.exports}var h1;function vT(){if(h1)return Sc;h1=1;var n=vw();return Sc.createRoot=n.createRoot,Sc.hydrateRoot=n.hydrateRoot,Sc}var yT=vT();const _T=mi(yT);var $h,p1;function wT(){if(p1)return $h;p1=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var c,d,h;if(Array.isArray(a)){if(c=a.length,c!=u.length)return!1;for(d=c;d--!==0;)if(!s(a[d],u[d]))return!1;return!0}var p;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(p=a.entries();!(d=p.next()).done;)if(!u.has(d.value[0]))return!1;for(p=a.entries();!(d=p.next()).done;)if(!s(d.value[1],u.get(d.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(p=a.entries();!(d=p.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(c=a.length,c!=u.length)return!1;for(d=c;d--!==0;)if(a[d]!==u[d])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(h=Object.keys(a),c=h.length,c!==Object.keys(u).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,h[d]))return!1;if(n&&a instanceof Element)return!1;for(d=c;d--!==0;)if(!((h[d]==="_owner"||h[d]==="__v"||h[d]==="__o")&&a.$$typeof)&&!s(a[h[d]],u[h[d]]))return!1;return!0}return a!==a&&u!==u}return $h=function(u,c){try{return s(u,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},$h}var ST=wT();const ET=mi(ST);var Bh,m1;function MT(){if(m1)return Bh;m1=1;var n=function(e,t,r,s,a,u,c,d){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,s,a,u,c,d],g=0;h=new Error(t.replace(/%s/g,function(){return p[g++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Bh=n,Bh}var bT=MT();const g1=mi(bT);var Vh,v1;function TT(){return v1||(v1=1,Vh=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),c=Object.keys(t);if(u.length!==c.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(t),h=0;h<u.length;h++){var p=u[h];if(!d(p))return!1;var g=e[p],y=t[p];if(a=r?r.call(s,g,y,p):void 0,a===!1||a===void 0&&g!==y)return!1}return!0}),Vh}var xT=TT();const CT=mi(xT);var yw=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(yw||{}),zh={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},y1=Object.values(yw),em={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},PT=Object.entries(em).reduce((n,[e,t])=>(n[t]=e,n),{}),zr="data-rh",ea={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ta=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},NT=n=>{let e=ta(n,"title");const t=ta(n,ea.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=ta(n,ea.DEFAULT_TITLE);return e||r||void 0},AT=n=>ta(n,ea.ON_CHANGE_CLIENT_STATE)||(()=>{}),Wh=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),kT=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const c=s[a].toLowerCase();if(n.indexOf(c)!==-1&&r[c])return t.concat(r)}}return t},[]),OT=n=>console&&typeof console.warn=="function"&&console.warn(n),Ml=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&OT(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(d=>{let h;const p=Object.keys(d);for(let y=0;y<p.length;y+=1){const _=p[y],w=_.toLowerCase();e.indexOf(w)!==-1&&!(h==="rel"&&d[h].toLowerCase()==="canonical")&&!(w==="rel"&&d[w].toLowerCase()==="stylesheet")&&(h=w),e.indexOf(_)!==-1&&(_==="innerHTML"||_==="cssText"||_==="itemprop")&&(h=_)}if(!h||!d[h])return!1;const g=d[h].toLowerCase();return r[h]||(r[h]={}),u[h]||(u[h]={}),r[h][g]?!1:(u[h][g]=!0,!0)}).reverse().forEach(d=>s.push(d));const c=Object.keys(u);for(let d=0;d<c.length;d+=1){const h=c[d],p={...r[h],...u[h]};r[h]=p}return s},[]).reverse()},RT=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},IT=n=>({baseTag:kT(["href"],n),bodyAttributes:Wh("bodyAttributes",n),defer:ta(n,ea.DEFER),encode:ta(n,ea.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Wh("htmlAttributes",n),linkTags:Ml("link",["rel","href"],n),metaTags:Ml("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ml("noscript",["innerHTML"],n),onChangeClientState:AT(n),scriptTags:Ml("script",["src","innerHTML"],n),styleTags:Ml("style",["cssText"],n),title:NT(n),titleAttributes:Wh("titleAttributes",n),prioritizeSeoTags:RT(n,ea.PRIORITIZE_SEO_TAGS)}),_w=n=>Array.isArray(n)?n.join(""):n,DT=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Hh=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(DT(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},_1=(n,e)=>({...n,[e]:void 0}),LT=["noscript","script","style"],yp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ww=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),jT=(n,e,t,r)=>{const s=ww(t),a=_w(e);return s?`<${n} ${zr}="true" ${s}>${yp(a,r)}</${n}>`:`<${n} ${zr}="true">${yp(a,r)}</${n}>`},FT=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,p)=>{const g=typeof a[p]>"u"?p:`${p}="${yp(a[p],t)}"`;return h?`${h} ${g}`:g},""),c=a.innerHTML||a.cssText||"",d=LT.indexOf(n)===-1;return`${r}<${n} ${zr}="true" ${u}${d?"/>":`>${c}</${n}>`}`},""),Sw=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=em[r];return t[s||r]=n[r],t},e),UT=(n,e,t)=>{const r={key:e,[zr]:!0},s=Sw(t,r);return[At.createElement("title",s,e)]},Ic=(n,e)=>e.map((t,r)=>{const s={key:r,[zr]:!0};return Object.keys(t).forEach(a=>{const c=em[a]||a;if(c==="innerHTML"||c==="cssText"){const d=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:d}}else s[c]=t[a]}),At.createElement(n,s)}),Sr=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>UT(n,e.title,e.titleAttributes),toString:()=>jT(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Sw(e),toString:()=>ww(e)};default:return{toComponent:()=>Ic(n,e),toString:()=>FT(n,e,t)}}},$T=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=Hh(n,zh.meta),a=Hh(e,zh.link),u=Hh(t,zh.script);return{priorityMethods:{toComponent:()=>[...Ic("meta",s.priority),...Ic("link",a.priority),...Ic("script",u.priority)],toString:()=>`${Sr("meta",s.priority,r)} ${Sr("link",a.priority,r)} ${Sr("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},BT=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:c="",titleAttributes:d,prioritizeSeoTags:h}=n;let{linkTags:p,metaTags:g,scriptTags:y}=n,_={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:_,linkTags:p,metaTags:g,scriptTags:y}=$T(n)),{priority:_,base:Sr("base",e,r),bodyAttributes:Sr("bodyAttributes",t,r),htmlAttributes:Sr("htmlAttributes",s,r),link:Sr("link",p,r),meta:Sr("meta",g,r),noscript:Sr("noscript",a,r),script:Sr("script",y,r),style:Sr("style",u,r),title:Sr("title",{title:c,titleAttributes:d},r)}},_p=BT,Ec=[],Ew=!!(typeof window<"u"&&window.document&&window.document.createElement),wp=class{constructor(n,e){Fr(this,"instances",[]);Fr(this,"canUseDOM",Ew);Fr(this,"context");Fr(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Ec:this.instances,add:n=>{(this.canUseDOM?Ec:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Ec:this.instances).indexOf(n);(this.canUseDOM?Ec:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=_p({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},VT={},Mw=At.createContext(VT),eo,bw=(eo=class extends M.Component{constructor(t){super(t);Fr(this,"helmetData");this.helmetData=new wp(this.props.context||{},eo.canUseDOM)}render(){return At.createElement(Mw.Provider,{value:this.helmetData.value},this.props.children)}},Fr(eo,"canUseDOM",Ew),eo),zo=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${zr}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(c=>{const d=document.createElement(n);for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h))if(h==="innerHTML")d.innerHTML=c.innerHTML;else if(h==="cssText")d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{const p=h,g=typeof c[p]>"u"?"":c[p];d.setAttribute(h,g)}d.setAttribute(zr,"true"),s.some((h,p)=>(u=p,d.isEqualNode(h)))?s.splice(u,1):a.push(d)}),s.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),a.forEach(c=>t.appendChild(c)),{oldTags:s,newTags:a}},Sp=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(zr),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const c of u){const d=e[c]||"";t.getAttribute(c)!==d&&t.setAttribute(c,d),s.indexOf(c)===-1&&s.push(c);const h=a.indexOf(c);h!==-1&&a.splice(h,1)}for(let c=a.length-1;c>=0;c-=1)t.removeAttribute(a[c]);s.length===a.length?t.removeAttribute(zr):t.getAttribute(zr)!==u.join(",")&&t.setAttribute(zr,u.join(","))},zT=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=_w(n)),Sp("title",e)},w1=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:c,onChangeClientState:d,scriptTags:h,styleTags:p,title:g,titleAttributes:y}=n;Sp("body",r),Sp("html",s),zT(g,y);const _={baseTag:zo("base",t),linkTags:zo("link",a),metaTags:zo("meta",u),noscriptTags:zo("noscript",c),scriptTags:zo("script",h),styleTags:zo("style",p)},w={},E={};Object.keys(_).forEach(S=>{const{newTags:C,oldTags:O}=_[S];C.length&&(w[S]=C),O.length&&(E[S]=_[S].oldTags)}),e&&e(),d(n,w,E)},bl=null,WT=n=>{bl&&cancelAnimationFrame(bl),n.defer?bl=requestAnimationFrame(()=>{w1(n,()=>{bl=null})}):(w1(n),bl=null)},HT=WT,S1=class extends M.Component{constructor(){super(...arguments);Fr(this,"rendered",!1)}shouldComponentUpdate(e){return!CT(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const s=IT(e.get().map(a=>{const u={...a.props};return delete u.context,u}));bw.canUseDOM?HT(s):_p&&(r=_p(s)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},vp,qT=(vp=class extends M.Component{shouldComponentUpdate(n){return!ET(_1(this.props,"helmetData"),_1(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return g1(y1.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${y1.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),g1(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return At.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((d,h)=>(d[PT[h]||h]=a[h],d),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,s),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof wp)){const s=r;r=new wp(s.context,!0),delete t.helmetData}return r?At.createElement(S1,{...t,context:r.value}):At.createElement(Mw.Consumer,null,s=>At.createElement(S1,{...t,context:s}))}},Fr(vp,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),vp),Tw=vw();const Ks=mi(Tw),GT=gw({__proto__:null,default:Ks},[Tw]);/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nt(){return Nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nt.apply(this,arguments)}var Pt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Pt||(Pt={}));const E1="popstate";function xw(n){n===void 0&&(n={});let{initialEntries:e=["/"],initialIndex:t,v5Compat:r=!1}=n,s;s=e.map((_,w)=>p(_,typeof _=="string"?null:_.state,w===0?"default":void 0));let a=d(t??s.length-1),u=Pt.Pop,c=null;function d(_){return Math.min(Math.max(_,0),s.length-1)}function h(){return s[a]}function p(_,w,E){w===void 0&&(w=null);let S=so(s?h().pathname:"/",_,w,E);return Ui(S.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(_)),S}function g(_){return typeof _=="string"?_:qr(_)}return{get index(){return a},get action(){return u},get location(){return h()},createHref:g,createURL(_){return new URL(g(_),"http://localhost")},encodeLocation(_){let w=typeof _=="string"?Nr(_):_;return{pathname:w.pathname||"",search:w.search||"",hash:w.hash||""}},push(_,w){u=Pt.Push;let E=p(_,w);a+=1,s.splice(a,s.length,E),r&&c&&c({action:u,location:E,delta:1})},replace(_,w){u=Pt.Replace;let E=p(_,w);s[a]=E,r&&c&&c({action:u,location:E,delta:0})},go(_){u=Pt.Pop;let w=d(a+_),E=s[w];a=w,c&&c({action:u,location:E,delta:_})},listen(_){return c=_,()=>{c=null}}}}function Cw(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:u,hash:c}=r.location;return so("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:qr(s)}return Nw(e,t,null,n)}function Pw(n){n===void 0&&(n={});function e(s,a){let{pathname:u="/",search:c="",hash:d=""}=Nr(s.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),so("",{pathname:u,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let u=s.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let d=s.location.href,h=d.indexOf("#");c=h===-1?d:d.slice(0,h)}return c+"#"+(typeof a=="string"?a:qr(a))}function r(s,a){Ui(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Nw(e,t,r,n)}function Ue(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ui(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substr(2,8)}function M1(n,e){return{usr:n.state,key:n.key,idx:e}}function so(n,e,t,r){return t===void 0&&(t=null),Nt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Nr(e):e,{state:t,key:e&&e.key||r||YT()})}function qr(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Nw(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,c=Pt.Pop,d=null,h=p();h==null&&(h=0,u.replaceState(Nt({},u.state,{idx:h}),""));function p(){return(u.state||{idx:null}).idx}function g(){c=Pt.Pop;let S=p(),C=S==null?null:S-h;h=S,d&&d({action:c,location:E.location,delta:C})}function y(S,C){c=Pt.Push;let O=so(E.location,S,C);t&&t(O,S),h=p()+1;let R=M1(O,h),N=E.createHref(O);try{u.pushState(R,"",N)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(N)}a&&d&&d({action:c,location:E.location,delta:1})}function _(S,C){c=Pt.Replace;let O=so(E.location,S,C);t&&t(O,S),h=p();let R=M1(O,h),N=E.createHref(O);u.replaceState(R,"",N),a&&d&&d({action:c,location:E.location,delta:0})}function w(S){let C=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof S=="string"?S:qr(S);return O=O.replace(/ $/,"%20"),Ue(C,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,C)}let E={get action(){return c},get location(){return n(s,u)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(E1,g),d=S,()=>{s.removeEventListener(E1,g),d=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let C=w(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:_,go(S){return u.go(S)}};return E}var wt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wt||(wt={}));const KT=new Set(["lazy","caseSensitive","path","id","index","children"]);function XT(n){return n.index===!0}function Hc(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((s,a)=>{let u=[...t,String(a)],c=typeof s.id=="string"?s.id:u.join("-");if(Ue(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ue(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),XT(s)){let d=Nt({},s,e(s),{id:c});return r[c]=d,d}else{let d=Nt({},s,e(s),{id:c,children:void 0});return r[c]=d,s.children&&(d.children=Hc(s.children,e,u,r)),d}})}function gs(n,e,t){return t===void 0&&(t="/"),Dc(n,e,t,!1)}function Dc(n,e,t,r){let s=typeof e=="string"?Nr(e):e,a=Qn(s.pathname||"/",t);if(a==null)return null;let u=kw(n);QT(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=Rw(a);c=ox(u[d],h,r)}return c}function Aw(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function kw(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,u,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Ue(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=ui([r,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kw(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:ix(h,a.index),routesMeta:p})};return n.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,u);else for(let d of Ow(a.path))s(a,u,d)}),e}function Ow(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Ow(r.join("/")),c=[];return c.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...u),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function QT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const ZT=/^:[\w-]+$/,JT=3,ex=2,tx=1,nx=10,rx=-2,b1=n=>n==="*";function ix(n,e){let t=n.split("/"),r=t.length;return t.some(b1)&&(r+=rx),e&&(r+=ex),t.filter(s=>!b1(s)).reduce((s,a)=>s+(ZT.test(a)?JT:a===""?tx:nx),r)}function sx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function ox(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},a="/",u=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=oa({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=oa({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),u.push({params:s,pathname:ui([a,g.pathname]),pathnameBase:cx(ui([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=ui([a,g.pathnameBase]))}return u}function ax(n,e){e===void 0&&(e={});let t=n;t.endsWith("*")&&t!=="*"&&!t.endsWith("/*")&&(Ui(!1,'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".')),t=t.replace(/\*$/,"/*"));const r=t.startsWith("/")?"/":"",s=u=>u==null?"":typeof u=="string"?u:String(u),a=t.split(/\/+/).map((u,c,d)=>{if(c===d.length-1&&u==="*")return s(e["*"]);const p=u.match(/^:([\w-]+)(\??)$/);if(p){const[,g,y]=p;let _=e[g];return Ue(y==="?"||_!=null,'Missing ":'+g+'" param'),s(_)}return u.replace(/\?$/g,"")}).filter(u=>!!u);return r+a.join("/")}function oa(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=lx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:_}=p;if(y==="*"){let E=c[g]||"";u=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const w=c[g];return _&&!w?h[y]=void 0:h[y]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:n}}function lx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Rw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Qn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Iw(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Nr(n):n;return{pathname:t?t.startsWith("/")?t:ux(t,e):e,search:dx(r),hash:fx(s)}}function ux(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function qh(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function md(n,e){let t=Dw(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function gd(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Nr(n):(s=Nt({},n),Ue(!s.pathname||!s.pathname.includes("?"),qh("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),qh("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),qh("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,c;if(u==null)c=t;else{let g=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=Iw(s,c),h=u&&u!=="/"&&u.endsWith("/"),p=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const ui=n=>n.join("/").replace(/\/\/+/g,"/"),cx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hx=function(e,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t,s=new Headers(r.headers);return s.has("Content-Type")||s.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),Nt({},r,{headers:s}))};class qc extends Error{}class px{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Ue(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,u)=>r=u),this.controller=new AbortController;let s=()=>r(new qc("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",s),this.controller.signal.addEventListener("abort",s),this.data=Object.entries(e).reduce((a,u)=>{let[c,d]=u;return Object.assign(a,{[c]:this.trackPromise(c,d)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([t,this.abortPromise]).then(s=>this.onSettle(r,e,void 0,s),s=>this.onSettle(r,e,s));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,s){if(this.controller.signal.aborted&&r instanceof qc)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),r===void 0&&s===void 0){let a=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>a}),this.emit(!1,t),Promise.reject(a)}return s===void 0?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,t),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>s}),this.emit(!1,t),s)}emit(e,t){this.subscribers.forEach(r=>r(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(s=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&s(a)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Ue(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,s]=t;return Object.assign(e,{[r]:gx(s)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function mx(n){return n instanceof Promise&&n._tracked===!0}function gx(n){if(!mx(n))return n;if(n._error)throw n._error;return n._data}const vx=function(e,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t;return new px(e,r)},tm=function(e,t){t===void 0&&(t=302);let r=t;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let s=new Headers(r.headers);return s.set("Location",e),new Response(null,Nt({},r,{headers:s}))},yx=(n,e)=>{let t=tm(n,e);return t.headers.set("X-Remix-Reload-Document","true"),t},_x=(n,e)=>{let t=tm(n,e);return t.headers.set("X-Remix-Replace","true"),t};class Fl{constructor(e,t,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function aa(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Lw=["post","put","patch","delete"],wx=new Set(Lw),Sx=["get",...Lw],Ex=new Set(Sx),Mx=new Set([301,302,303,307,308]),bx=new Set([307,308]),Gh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Fw="remix-router-transitions";function rm(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;Ue(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let j=n.detectErrorBoundary;s=z=>({hasErrorBoundary:j(z)})}else s=Tx;let a={},u=Hc(n.routes,s,void 0,a),c,d=n.basename||"/",h=n.dataStrategy||Nx,p=n.patchRoutesOnNavigation,g=Nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),y=null,_=new Set,w=null,E=null,S=null,C=n.hydrationData!=null,O=gs(u,n.history.location,d),R=!1,N=null;if(O==null&&!p){let j=Wn(404,{pathname:n.history.location.pathname}),{matches:z,route:Z}=D1(u);O=z,N={[Z.id]:j}}O&&!n.hydrationData&&rn(O,u,n.history.location.pathname).active&&(O=null);let x;if(O)if(O.some(j=>j.route.lazy))x=!1;else if(!O.some(j=>j.route.loader))x=!0;else if(g.v7_partialHydration){let j=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let Z=O.findIndex(ae=>z[ae.route.id]!==void 0);x=O.slice(0,Z+1).every(ae=>!Mp(ae.route,j,z))}else x=O.every(Z=>!Mp(Z.route,j,z))}else x=n.hydrationData!=null;else if(x=!1,O=[],g.v7_partialHydration){let j=rn(null,u,n.history.location.pathname);j.active&&j.matches&&(R=!0,O=j.matches)}let k,T={historyAction:n.history.action,location:n.history.location,matches:O,initialized:x,navigation:Gh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||N,fetchers:new Map,blockers:new Map},A=Pt.Pop,$=!1,L,V=!1,B=new Map,J=null,ne=!1,he=!1,se=[],oe=new Set,q=new Map,ee=0,Q=-1,D=new Map,Y=new Set,te=new Map,ye=new Map,ce=new Set,me=new Map,je=new Map,de;function He(){if(y=n.history.listen(j=>{let{action:z,location:Z,delta:ae}=j;if(de){de(),de=void 0;return}Ui(je.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Me=Se({currentLocation:T.location,nextLocation:Z,historyAction:z});if(Me&&ae!=null){let De=new Promise(Ve=>{de=Ve});n.history.go(ae*-1),We(Me,{state:"blocked",location:Z,proceed(){We(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),De.then(()=>n.history.go(ae))},reset(){let Ve=new Map(T.blockers);Ve.set(Me,Yo),lt({blockers:Ve})}});return}return xe(z,Z)}),t){zx(e,B);let j=()=>Wx(e,B);e.addEventListener("pagehide",j),J=()=>e.removeEventListener("pagehide",j)}return T.initialized||xe(Pt.Pop,T.location,{initialHydration:!0}),k}function pt(){y&&y(),J&&J(),_.clear(),L&&L.abort(),T.fetchers.forEach((j,z)=>jn(z)),T.blockers.forEach((j,z)=>xt(z))}function mt(j){return _.add(j),()=>_.delete(j)}function lt(j,z){z===void 0&&(z={}),T=Nt({},T,j);let Z=[],ae=[];g.v7_fetcherPersist&&T.fetchers.forEach((Me,De)=>{Me.state==="idle"&&(ce.has(De)?ae.push(De):Z.push(De))}),ce.forEach(Me=>{!T.fetchers.has(Me)&&!q.has(Me)&&ae.push(Me)}),[..._].forEach(Me=>Me(T,{deletedFetchers:ae,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),g.v7_fetcherPersist?(Z.forEach(Me=>T.fetchers.delete(Me)),ae.forEach(Me=>jn(Me))):ae.forEach(Me=>ce.delete(Me))}function Ot(j,z,Z){var ae,Me;let{flushSync:De}=Z===void 0?{}:Z,Ve=T.actionData!=null&&T.navigation.formMethod!=null&&Ur(T.navigation.formMethod)&&T.navigation.state==="loading"&&((ae=j.state)==null?void 0:ae._isRedirect)!==!0,Ae;z.actionData?Object.keys(z.actionData).length>0?Ae=z.actionData:Ae=null:Ve?Ae=T.actionData:Ae=null;let ke=z.loaderData?R1(T.loaderData,z.loaderData,z.matches||[],z.errors):T.loaderData,Ce=T.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((nt,sn)=>Ce.set(sn,Yo)));let Re=$===!0||T.navigation.formMethod!=null&&Ur(T.navigation.formMethod)&&((Me=j.state)==null?void 0:Me._isRedirect)!==!0;c&&(u=c,c=void 0),ne||A===Pt.Pop||(A===Pt.Push?n.history.push(j,j.state):A===Pt.Replace&&n.history.replace(j,j.state));let Ze;if(A===Pt.Pop){let nt=B.get(T.location.pathname);nt&&nt.has(j.pathname)?Ze={currentLocation:T.location,nextLocation:j}:B.has(j.pathname)&&(Ze={currentLocation:j,nextLocation:T.location})}else if(V){let nt=B.get(T.location.pathname);nt?nt.add(j.pathname):(nt=new Set([j.pathname]),B.set(T.location.pathname,nt)),Ze={currentLocation:T.location,nextLocation:j}}lt(Nt({},z,{actionData:Ae,loaderData:ke,historyAction:A,location:j,initialized:!0,navigation:Gh,revalidation:"idle",restoreScrollPosition:bt(j,z.matches||T.matches),preventScrollReset:Re,blockers:Ce}),{viewTransitionOpts:Ze,flushSync:De===!0}),A=Pt.Pop,$=!1,V=!1,ne=!1,he=!1,se=[]}async function un(j,z){if(typeof j=="number"){n.history.go(j);return}let Z=Ep(T.location,T.matches,d,g.v7_prependBasename,j,g.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ae,submission:Me,error:De}=T1(g.v7_normalizeFormMethod,!1,Z,z),Ve=T.location,Ae=so(T.location,ae,z&&z.state);Ae=Nt({},Ae,n.history.encodeLocation(Ae));let ke=z&&z.replace!=null?z.replace:void 0,Ce=Pt.Push;ke===!0?Ce=Pt.Replace:ke===!1||Me!=null&&Ur(Me.formMethod)&&Me.formAction===T.location.pathname+T.location.search&&(Ce=Pt.Replace);let Re=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Ze=(z&&z.flushSync)===!0,nt=Se({currentLocation:Ve,nextLocation:Ae,historyAction:Ce});if(nt){We(nt,{state:"blocked",location:Ae,proceed(){We(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),un(j,z)},reset(){let sn=new Map(T.blockers);sn.set(nt,Yo),lt({blockers:sn})}});return}return await xe(Ce,Ae,{submission:Me,pendingError:De,preventScrollReset:Re,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:Ze})}function fe(){if(Sn(),lt({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){xe(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}xe(A||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:V===!0})}}async function xe(j,z,Z){L&&L.abort(),L=null,A=j,ne=(Z&&Z.startUninterruptedRevalidation)===!0,gt(T.location,T.matches),$=(Z&&Z.preventScrollReset)===!0,V=(Z&&Z.enableViewTransition)===!0;let ae=c||u,Me=Z&&Z.overrideNavigation,De=Z!=null&&Z.initialHydration&&T.matches&&T.matches.length>0&&!R?T.matches:gs(ae,z,d),Ve=(Z&&Z.flushSync)===!0,Ae=rn(De,ae,z.pathname);if(Ae.active&&Ae.matches&&(De=Ae.matches),!De){let{error:yt,notFoundMatches:at,route:Rt}=Ee(z.pathname);Ot(z,{matches:at,loaderData:{},errors:{[Rt.id]:yt}},{flushSync:Ve});return}if(T.initialized&&!he&&Dx(T.location,z)&&!(Z&&Z.submission&&Ur(Z.submission.formMethod))){Ot(z,{matches:De},{flushSync:Ve});return}L=new AbortController;let ke=Wo(n.history,z,L.signal,Z&&Z.submission),Ce;if(Z&&Z.pendingError)Ce=[Ys(De).route.id,{type:wt.error,error:Z.pendingError}];else if(Z&&Z.submission&&Ur(Z.submission.formMethod)){let yt=await st(ke,z,Z.submission,De,Ae.active,{replace:Z.replace,flushSync:Ve});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[at,Rt]=yt.pendingActionResult;if(or(Rt)&&aa(Rt.error)&&Rt.error.status===404){L=null,Ot(z,{matches:yt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}De=yt.matches||De,Ce=yt.pendingActionResult,Me=Yh(z,Z.submission),Ve=!1,Ae.active=!1,ke=Wo(n.history,ke.url,ke.signal)}let{shortCircuited:Re,matches:Ze,loaderData:nt,errors:sn}=await ut(ke,z,De,Ae.active,Me,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ve,Ce);Re||(L=null,Ot(z,Nt({matches:Ze||De},I1(Ce),{loaderData:nt,errors:sn})))}async function st(j,z,Z,ae,Me,De){De===void 0&&(De={}),Sn();let Ve=Bx(z,Z);if(lt({navigation:Ve},{flushSync:De.flushSync===!0}),Me){let Ce=await Ar(ae,z.pathname,j.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Re=Ys(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Re,{type:wt.error,error:Ce.error}]}}else if(Ce.matches)ae=Ce.matches;else{let{notFoundMatches:Re,error:Ze,route:nt}=Ee(z.pathname);return{matches:Re,pendingActionResult:[nt.id,{type:wt.error,error:Ze}]}}}let Ae,ke=Al(ae,z);if(!ke.route.action&&!ke.route.lazy)Ae={type:wt.error,error:Wn(405,{method:j.method,pathname:z.pathname,routeId:ke.route.id})};else if(Ae=(await Nn("action",T,j,[ke],ae,null))[ke.route.id],j.signal.aborted)return{shortCircuited:!0};if(Xs(Ae)){let Ce;return De&&De.replace!=null?Ce=De.replace:Ce=A1(Ae.response.headers.get("Location"),new URL(j.url),d)===T.location.pathname+T.location.search,await Zt(j,Ae,!0,{submission:Z,replace:Ce}),{shortCircuited:!0}}if(vs(Ae))throw Wn(400,{type:"defer-action"});if(or(Ae)){let Ce=Ys(ae,ke.route.id);return(De&&De.replace)!==!0&&(A=Pt.Push),{matches:ae,pendingActionResult:[Ce.route.id,Ae]}}return{matches:ae,pendingActionResult:[ke.route.id,Ae]}}async function ut(j,z,Z,ae,Me,De,Ve,Ae,ke,Ce,Re){let Ze=Me||Yh(z,De),nt=De||Ve||j1(Ze),sn=!ne&&(!g.v7_partialHydration||!ke);if(ae){if(sn){let Tt=qe(Re);lt(Nt({navigation:Ze},Tt!==void 0?{actionData:Tt}:{}),{flushSync:Ce})}let ot=await Ar(Z,z.pathname,j.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let Tt=Ys(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[Tt]:ot.error}}}else if(ot.matches)Z=ot.matches;else{let{error:Tt,notFoundMatches:gn,route:Ds}=Ee(z.pathname);return{matches:gn,loaderData:{},errors:{[Ds.id]:Tt}}}}let yt=c||u,[at,Rt]=C1(n.history,T,Z,nt,z,g.v7_partialHydration&&ke===!0,g.v7_skipActionErrorRevalidation,he,se,oe,ce,te,Y,yt,d,Re);if(be(ot=>!(Z&&Z.some(Tt=>Tt.route.id===ot))||at&&at.some(Tt=>Tt.route.id===ot)),Q=++ee,at.length===0&&Rt.length===0){let ot=we();return Ot(z,Nt({matches:Z,loaderData:{},errors:Re&&or(Re[1])?{[Re[0]]:Re[1].error}:null},I1(Re),ot?{fetchers:new Map(T.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(sn){let ot={};if(!ae){ot.navigation=Ze;let Tt=qe(Re);Tt!==void 0&&(ot.actionData=Tt)}Rt.length>0&&(ot.fetchers=Xe(Rt)),lt(ot,{flushSync:Ce})}Rt.forEach(ot=>{K(ot.key),ot.controller&&q.set(ot.key,ot.controller)});let Si=()=>Rt.forEach(ot=>K(ot.key));L&&L.signal.addEventListener("abort",Si);let{loaderResults:Is,fetcherResults:kr}=await hr(T,Z,at,Rt,j);if(j.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Si),Rt.forEach(ot=>q.delete(ot.key));let dt=Mc(Is);if(dt)return await Zt(j,dt.result,!0,{replace:Ae}),{shortCircuited:!0};if(dt=Mc(kr),dt)return Y.add(dt.key),await Zt(j,dt.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Va,errors:Ei}=O1(T,Z,Is,Re,Rt,kr,me);me.forEach((ot,Tt)=>{ot.subscribe(gn=>{(gn||ot.done)&&me.delete(Tt)})}),g.v7_partialHydration&&ke&&T.errors&&(Ei=Nt({},T.errors,Ei));let ti=we(),Mi=Fe(Q),wo=ti||Mi||Rt.length>0;return Nt({matches:Z,loaderData:Va,errors:Ei},wo?{fetchers:new Map(T.fetchers)}:{})}function qe(j){if(j&&!or(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Xe(j){return j.forEach(z=>{let Z=T.fetchers.get(z.key),ae=Tl(void 0,Z?Z.data:void 0);T.fetchers.set(z.key,ae)}),new Map(T.fetchers)}function vt(j,z,Z,ae){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K(j);let Me=(ae&&ae.flushSync)===!0,De=c||u,Ve=Ep(T.location,T.matches,d,g.v7_prependBasename,Z,g.v7_relativeSplatPath,z,ae==null?void 0:ae.relative),Ae=gs(De,Ve,d),ke=rn(Ae,De,Ve);if(ke.active&&ke.matches&&(Ae=ke.matches),!Ae){Ln(j,z,Wn(404,{pathname:Ve}),{flushSync:Me});return}let{path:Ce,submission:Re,error:Ze}=T1(g.v7_normalizeFormMethod,!0,Ve,ae);if(Ze){Ln(j,z,Ze,{flushSync:Me});return}let nt=Al(Ae,Ce),sn=(ae&&ae.preventScrollReset)===!0;if(Re&&Ur(Re.formMethod)){Yt(j,z,Ce,nt,Ae,ke.active,Me,sn,Re);return}te.set(j,{routeId:z,path:Ce}),Pn(j,z,Ce,nt,Ae,ke.active,Me,sn,Re)}async function Yt(j,z,Z,ae,Me,De,Ve,Ae,ke){Sn(),te.delete(j);function Ce(ft){if(!ft.route.action&&!ft.route.lazy){let qi=Wn(405,{method:ke.formMethod,pathname:Z,routeId:z});return Ln(j,z,qi,{flushSync:Ve}),!0}return!1}if(!De&&Ce(ae))return;let Re=T.fetchers.get(j);cn(j,Vx(ke,Re),{flushSync:Ve});let Ze=new AbortController,nt=Wo(n.history,Z,Ze.signal,ke);if(De){let ft=await Ar(Me,new URL(nt.url).pathname,nt.signal);if(ft.type==="aborted")return;if(ft.type==="error"){Ln(j,z,ft.error,{flushSync:Ve});return}else if(ft.matches){if(Me=ft.matches,ae=Al(Me,Z),Ce(ae))return}else{Ln(j,z,Wn(404,{pathname:Z}),{flushSync:Ve});return}}q.set(j,Ze);let sn=ee,at=(await Nn("action",T,nt,[ae],Me,j))[ae.route.id];if(nt.signal.aborted){q.get(j)===Ze&&q.delete(j);return}if(g.v7_fetcherPersist&&ce.has(j)){if(Xs(at)||or(at)){cn(j,hs(void 0));return}}else{if(Xs(at))if(q.delete(j),Q>sn){cn(j,hs(void 0));return}else return Y.add(j),cn(j,Tl(ke)),Zt(nt,at,!1,{fetcherSubmission:ke,preventScrollReset:Ae});if(or(at)){Ln(j,z,at.error);return}}if(vs(at))throw Wn(400,{type:"defer-action"});let Rt=T.navigation.location||T.location,Si=Wo(n.history,Rt,Ze.signal),Is=c||u,kr=T.navigation.state!=="idle"?gs(Is,T.navigation.location,d):T.matches;Ue(kr,"Didn't find any matches after fetcher action");let dt=++ee;D.set(j,dt);let Va=Tl(ke,at.data);T.fetchers.set(j,Va);let[Ei,ti]=C1(n.history,T,kr,ke,Rt,!1,g.v7_skipActionErrorRevalidation,he,se,oe,ce,te,Y,Is,d,[ae.route.id,at]);ti.filter(ft=>ft.key!==j).forEach(ft=>{let qi=ft.key,gu=T.fetchers.get(qi),ef=Tl(void 0,gu?gu.data:void 0);T.fetchers.set(qi,ef),K(qi),ft.controller&&q.set(qi,ft.controller)}),lt({fetchers:new Map(T.fetchers)});let Mi=()=>ti.forEach(ft=>K(ft.key));Ze.signal.addEventListener("abort",Mi);let{loaderResults:wo,fetcherResults:ot}=await hr(T,kr,Ei,ti,Si);if(Ze.signal.aborted)return;Ze.signal.removeEventListener("abort",Mi),D.delete(j),q.delete(j),ti.forEach(ft=>q.delete(ft.key));let Tt=Mc(wo);if(Tt)return Zt(Si,Tt.result,!1,{preventScrollReset:Ae});if(Tt=Mc(ot),Tt)return Y.add(Tt.key),Zt(Si,Tt.result,!1,{preventScrollReset:Ae});let{loaderData:gn,errors:Ds}=O1(T,kr,wo,void 0,ti,ot,me);if(T.fetchers.has(j)){let ft=hs(at.data);T.fetchers.set(j,ft)}Fe(dt),T.navigation.state==="loading"&&dt>Q?(Ue(A,"Expected pending action"),L&&L.abort(),Ot(T.navigation.location,{matches:kr,loaderData:gn,errors:Ds,fetchers:new Map(T.fetchers)})):(lt({errors:Ds,loaderData:R1(T.loaderData,gn,kr,Ds),fetchers:new Map(T.fetchers)}),he=!1)}async function Pn(j,z,Z,ae,Me,De,Ve,Ae,ke){let Ce=T.fetchers.get(j);cn(j,Tl(ke,Ce?Ce.data:void 0),{flushSync:Ve});let Re=new AbortController,Ze=Wo(n.history,Z,Re.signal);if(De){let at=await Ar(Me,new URL(Ze.url).pathname,Ze.signal);if(at.type==="aborted")return;if(at.type==="error"){Ln(j,z,at.error,{flushSync:Ve});return}else if(at.matches)Me=at.matches,ae=Al(Me,Z);else{Ln(j,z,Wn(404,{pathname:Z}),{flushSync:Ve});return}}q.set(j,Re);let nt=ee,yt=(await Nn("loader",T,Ze,[ae],Me,j))[ae.route.id];if(vs(yt)&&(yt=await im(yt,Ze.signal,!0)||yt),q.get(j)===Re&&q.delete(j),!Ze.signal.aborted){if(ce.has(j)){cn(j,hs(void 0));return}if(Xs(yt))if(Q>nt){cn(j,hs(void 0));return}else{Y.add(j),await Zt(Ze,yt,!1,{preventScrollReset:Ae});return}if(or(yt)){Ln(j,z,yt.error);return}Ue(!vs(yt),"Unhandled fetcher deferred data"),cn(j,hs(yt.data))}}async function Zt(j,z,Z,ae){let{submission:Me,fetcherSubmission:De,preventScrollReset:Ve,replace:Ae}=ae===void 0?{}:ae;z.response.headers.has("X-Remix-Revalidate")&&(he=!0);let ke=z.response.headers.get("Location");Ue(ke,"Expected a Location header on the redirect Response"),ke=A1(ke,new URL(j.url),d);let Ce=so(T.location,ke,{_isRedirect:!0});if(t){let at=!1;if(z.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(nm.test(ke)){const Rt=n.history.createURL(ke);at=Rt.origin!==e.location.origin||Qn(Rt.pathname,d)==null}if(at){Ae?e.location.replace(ke):e.location.assign(ke);return}}L=null;let Re=Ae===!0||z.response.headers.has("X-Remix-Replace")?Pt.Replace:Pt.Push,{formMethod:Ze,formAction:nt,formEncType:sn}=T.navigation;!Me&&!De&&Ze&&nt&&sn&&(Me=j1(T.navigation));let yt=Me||De;if(bx.has(z.response.status)&&yt&&Ur(yt.formMethod))await xe(Re,Ce,{submission:Nt({},yt,{formAction:ke}),preventScrollReset:Ve||$,enableViewTransition:Z?V:void 0});else{let at=Yh(Ce,Me);await xe(Re,Ce,{overrideNavigation:at,fetcherSubmission:De,preventScrollReset:Ve||$,enableViewTransition:Z?V:void 0})}}async function Nn(j,z,Z,ae,Me,De){let Ve,Ae={};try{Ve=await Ax(h,j,z,Z,ae,Me,De,a,s)}catch(ke){return ae.forEach(Ce=>{Ae[Ce.route.id]={type:wt.error,error:ke}}),Ae}for(let[ke,Ce]of Object.entries(Ve))if(Lx(Ce)){let Re=Ce.result;Ae[ke]={type:wt.redirect,response:Rx(Re,Z,ke,Me,d,g.v7_relativeSplatPath)}}else Ae[ke]=await Ox(Ce);return Ae}async function hr(j,z,Z,ae,Me){let De=j.matches,Ve=Nn("loader",j,Me,Z,z,null),Ae=Promise.all(ae.map(async Re=>{if(Re.matches&&Re.match&&Re.controller){let nt=(await Nn("loader",j,Wo(n.history,Re.path,Re.controller.signal),[Re.match],Re.matches,Re.key))[Re.match.route.id];return{[Re.key]:nt}}else return Promise.resolve({[Re.key]:{type:wt.error,error:Wn(404,{pathname:Re.path})}})})),ke=await Ve,Ce=(await Ae).reduce((Re,Ze)=>Object.assign(Re,Ze),{});return await Promise.all([Ux(z,ke,Me.signal,De,j.loaderData),$x(z,Ce,ae)]),{loaderResults:ke,fetcherResults:Ce}}function Sn(){he=!0,se.push(...be()),te.forEach((j,z)=>{q.has(z)&&oe.add(z),K(z)})}function cn(j,z,Z){Z===void 0&&(Z={}),T.fetchers.set(j,z),lt({fetchers:new Map(T.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Ln(j,z,Z,ae){ae===void 0&&(ae={});let Me=Ys(T.matches,z);jn(j),lt({errors:{[Me.route.id]:Z},fetchers:new Map(T.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function ei(j){return ye.set(j,(ye.get(j)||0)+1),ce.has(j)&&ce.delete(j),T.fetchers.get(j)||jw}function jn(j){let z=T.fetchers.get(j);q.has(j)&&!(z&&z.state==="loading"&&D.has(j))&&K(j),te.delete(j),D.delete(j),Y.delete(j),g.v7_fetcherPersist&&ce.delete(j),oe.delete(j),T.fetchers.delete(j)}function W(j){let z=(ye.get(j)||0)-1;z<=0?(ye.delete(j),ce.add(j),g.v7_fetcherPersist||jn(j)):ye.set(j,z),lt({fetchers:new Map(T.fetchers)})}function K(j){let z=q.get(j);z&&(z.abort(),q.delete(j))}function re(j){for(let z of j){let Z=ei(z),ae=hs(Z.data);T.fetchers.set(z,ae)}}function we(){let j=[],z=!1;for(let Z of Y){let ae=T.fetchers.get(Z);Ue(ae,"Expected fetcher: "+Z),ae.state==="loading"&&(Y.delete(Z),j.push(Z),z=!0)}return re(j),z}function Fe(j){let z=[];for(let[Z,ae]of D)if(ae<j){let Me=T.fetchers.get(Z);Ue(Me,"Expected fetcher: "+Z),Me.state==="loading"&&(K(Z),D.delete(Z),z.push(Z))}return re(z),z.length>0}function Mt(j,z){let Z=T.blockers.get(j)||Yo;return je.get(j)!==z&&je.set(j,z),Z}function xt(j){T.blockers.delete(j),je.delete(j)}function We(j,z){let Z=T.blockers.get(j)||Yo;Ue(Z.state==="unblocked"&&z.state==="blocked"||Z.state==="blocked"&&z.state==="blocked"||Z.state==="blocked"&&z.state==="proceeding"||Z.state==="blocked"&&z.state==="unblocked"||Z.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+z.state);let ae=new Map(T.blockers);ae.set(j,z),lt({blockers:ae})}function Se(j){let{currentLocation:z,nextLocation:Z,historyAction:ae}=j;if(je.size===0)return;je.size>1&&Ui(!1,"A router only supports one blocker at a time");let Me=Array.from(je.entries()),[De,Ve]=Me[Me.length-1],Ae=T.blockers.get(De);if(!(Ae&&Ae.state==="proceeding")&&Ve({currentLocation:z,nextLocation:Z,historyAction:ae}))return De}function Ee(j){let z=Wn(404,{pathname:j}),Z=c||u,{matches:ae,route:Me}=D1(Z);return be(),{notFoundMatches:ae,route:Me,error:z}}function be(j){let z=[];return me.forEach((Z,ae)=>{(!j||j(ae))&&(Z.cancel(),z.push(ae),me.delete(ae))}),z}function Ne(j,z,Z){if(w=j,S=z,E=Z||null,!C&&T.navigation===Gh){C=!0;let ae=bt(T.location,T.matches);ae!=null&&lt({restoreScrollPosition:ae})}return()=>{w=null,S=null,E=null}}function Ke(j,z){return E&&E(j,z.map(ae=>Aw(ae,T.loaderData)))||j.key}function gt(j,z){if(w&&S){let Z=Ke(j,z);w[Z]=S()}}function bt(j,z){if(w){let Z=Ke(j,z),ae=w[Z];if(typeof ae=="number")return ae}return null}function rn(j,z,Z){if(p)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Dc(z,Z,d,!0)}}else return{active:!0,matches:Dc(z,Z,d,!0)||[]};return{active:!1,matches:null}}async function Ar(j,z,Z){if(!p)return{type:"success",matches:j};let ae=j;for(;;){let Me=c==null,De=c||u,Ve=a;try{await p({signal:Z,path:z,matches:ae,patch:(Ce,Re)=>{Z.aborted||N1(Ce,Re,De,Ve,s)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ae}}finally{Me&&!Z.aborted&&(u=[...u])}if(Z.aborted)return{type:"aborted"};let Ae=gs(De,z,d);if(Ae)return{type:"success",matches:Ae};let ke=Dc(De,z,d,!0);if(!ke||ae.length===ke.length&&ae.every((Ce,Re)=>Ce.route.id===ke[Re].route.id))return{type:"success",matches:null};ae=ke}}function _o(j){a={},c=Hc(j,s,void 0,a)}function wi(j,z){let Z=c==null;N1(j,z,c||u,a,s),Z&&(u=[...u],lt({}))}return k={get basename(){return d},get future(){return g},get state(){return T},get routes(){return u},get window(){return e},initialize:He,subscribe:mt,enableScrollRestoration:Ne,navigate:un,fetch:vt,revalidate:fe,createHref:j=>n.history.createHref(j),encodeLocation:j=>n.history.encodeLocation(j),getFetcher:ei,deleteFetcher:W,dispose:pt,getBlocker:Mt,deleteBlocker:xt,patchRoutes:wi,_internalFetchControllers:q,_internalActiveDeferreds:me,_internalSetRoutes:_o},k}function xx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ep(n,e,t,r,s,a,u,c){let d,h;if(u){d=[];for(let g of e)if(d.push(g),g.route.id===u){h=g;break}}else d=e,h=e[e.length-1];let p=gd(s||".",md(d,a),Qn(n.pathname,t)||n.pathname,c==="path");if(s==null&&(p.search=n.search,p.hash=n.hash),(s==null||s===""||s===".")&&h){let g=sm(p.search);if(h.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let y=new URLSearchParams(p.search),_=y.getAll("index");y.delete("index"),_.filter(E=>E).forEach(E=>y.append("index",E));let w=y.toString();p.search=w?"?"+w:""}}return r&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ui([t,p.pathname])),qr(p)}function T1(n,e,t,r){if(!r||!xx(r))return{path:t};if(r.formMethod&&!Fx(r.formMethod))return{path:t,error:Wn(405,{method:r.formMethod})};let s=()=>({path:t,error:Wn(400,{type:"invalid-body"})}),a=r.formMethod||"get",u=n?a.toUpperCase():a.toLowerCase(),c=Bw(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ur(u))return s();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,w)=>{let[E,S]=w;return""+_+E+"="+S+`
`},""):String(r.body);return{path:t,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!Ur(u))return s();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return s()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let d,h;if(r.formData)d=bp(r.formData),h=r.formData;else if(r.body instanceof FormData)d=bp(r.body),h=r.body;else if(r.body instanceof URLSearchParams)d=r.body,h=k1(d);else if(r.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(r.body),h=k1(d)}catch{return s()}let p={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Ur(p.formMethod))return{path:t,submission:p};let g=Nr(t);return e&&g.search&&sm(g.search)&&d.append("index",""),g.search="?"+d,{path:qr(g),submission:p}}function x1(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function C1(n,e,t,r,s,a,u,c,d,h,p,g,y,_,w,E){let S=E?or(E[1])?E[1].error:E[1].data:void 0,C=n.createURL(e.location),O=n.createURL(s),R=t;a&&e.errors?R=x1(t,Object.keys(e.errors)[0],!0):E&&or(E[1])&&(R=x1(t,E[0]));let N=E?E[1].statusCode:void 0,x=u&&N&&N>=400,k=R.filter((A,$)=>{let{route:L}=A;if(L.lazy)return!0;if(L.loader==null)return!1;if(a)return Mp(L,e.loaderData,e.errors);if(Cx(e.loaderData,e.matches[$],A)||d.some(J=>J===A.route.id))return!0;let V=e.matches[$],B=A;return P1(A,Nt({currentUrl:C,currentParams:V.params,nextUrl:O,nextParams:B.params},r,{actionResult:S,actionStatus:N,defaultShouldRevalidate:x?!1:c||C.pathname+C.search===O.pathname+O.search||C.search!==O.search||Uw(V,B)}))}),T=[];return g.forEach((A,$)=>{if(a||!t.some(ne=>ne.route.id===A.routeId)||p.has($))return;let L=gs(_,A.path,w);if(!L){T.push({key:$,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get($),B=Al(L,A.path),J=!1;y.has($)?J=!1:h.has($)?(h.delete($),J=!0):V&&V.state!=="idle"&&V.data===void 0?J=c:J=P1(B,Nt({currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:O,nextParams:t[t.length-1].params},r,{actionResult:S,actionStatus:N,defaultShouldRevalidate:x?!1:c})),J&&T.push({key:$,routeId:A.routeId,path:A.path,matches:L,match:B,controller:new AbortController})}),[k,T]}function Mp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function Cx(n,e,t){let r=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return r||s}function Uw(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function P1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function N1(n,e,t,r,s){var a;let u;if(n){let h=r[n];Ue(h,"No route found to patch children into: routeId = "+n),h.children||(h.children=[]),u=h.children}else u=t;let c=e.filter(h=>!u.some(p=>$w(h,p))),d=Hc(c,s,[n||"_","patch",String(((a=u)==null?void 0:a.length)||"0")],r);u.push(...d)}function $w(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>$w(t,a))}):!1}async function Px(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];Ue(s,"No route found in manifest");let a={};for(let u in r){let d=s[u]!==void 0&&u!=="hasErrorBoundary";Ui(!d,'Route "'+s.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!d&&!KT.has(u)&&(a[u]=r[u])}Object.assign(s,a),Object.assign(s,Nt({},e(s),{lazy:void 0}))}async function Nx(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,a,u)=>Object.assign(s,{[t[u].route.id]:a}),{})}async function Ax(n,e,t,r,s,a,u,c,d,h){let p=a.map(_=>_.route.lazy?Px(_.route,d,c):void 0),g=a.map((_,w)=>{let E=p[w],S=s.some(O=>O.route.id===_.route.id);return Nt({},_,{shouldLoad:S,resolve:async O=>(O&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(S=!0),S?kx(e,r,_,E,O,h):Promise.resolve({type:wt.data,result:void 0}))})}),y=await n({matches:g,request:r,params:a[0].params,fetcherKey:u,context:h});try{await Promise.all(p)}catch{}return y}async function kx(n,e,t,r,s,a){let u,c,d=h=>{let p,g=new Promise((w,E)=>p=E);c=()=>p(),e.signal.addEventListener("abort",c);let y=w=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:a},...w!==void 0?[w]:[]),_=(async()=>{try{return{type:"data",result:await(s?s(E=>y(E)):y())}}catch(w){return{type:"error",result:w}}})();return Promise.race([_,g])};try{let h=t.route[n];if(r)if(h){let p,[g]=await Promise.all([d(h).catch(y=>{p=y}),r]);if(p!==void 0)throw p;u=g}else if(await r,h=t.route[n],h)u=await d(h);else if(n==="action"){let p=new URL(e.url),g=p.pathname+p.search;throw Wn(405,{method:e.method,pathname:g,routeId:t.route.id})}else return{type:wt.data,result:void 0};else if(h)u=await d(h);else{let p=new URL(e.url),g=p.pathname+p.search;throw Wn(404,{pathname:g})}Ue(u.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:wt.error,result:h}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function Ox(n){let{result:e,type:t}=n;if(Vw(e)){let g;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(y){return{type:wt.error,error:y}}return t===wt.error?{type:wt.error,error:new Fl(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:wt.data,data:g,statusCode:e.status,headers:e.headers}}if(t===wt.error){if(L1(e)){var r,s;if(e.data instanceof Error){var a,u;return{type:wt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:wt.error,error:new Fl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:aa(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:wt.error,error:e,statusCode:aa(e)?e.status:void 0}}if(jx(e)){var c,d;return{type:wt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((d=e.init)==null?void 0:d.headers)&&new Headers(e.init.headers)}}if(L1(e)){var h,p;return{type:wt.data,data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}}return{type:wt.data,data:e}}function Rx(n,e,t,r,s,a){let u=n.headers.get("Location");if(Ue(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!nm.test(u)){let c=r.slice(0,r.findIndex(d=>d.route.id===t)+1);u=Ep(new URL(e.url),c,s,!0,u,a),n.headers.set("Location",u)}return n}function A1(n,e,t){if(nm.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Qn(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function Wo(n,e,t,r){let s=n.createURL(Bw(e)).toString(),a={signal:t};if(r&&Ur(r.formMethod)){let{formMethod:u,formEncType:c}=r;a.method=u.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=bp(r.formData):a.body=r.formData}return new Request(s,a)}function bp(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function k1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Ix(n,e,t,r,s){let a={},u=null,c,d=!1,h={},p=t&&or(t[1])?t[1].error:void 0;return n.forEach(g=>{if(!(g.route.id in e))return;let y=g.route.id,_=e[y];if(Ue(!Xs(_),"Cannot handle redirect results in processLoaderData"),or(_)){let w=_.error;p!==void 0&&(w=p,p=void 0),u=u||{};{let E=Ys(n,y);u[E.route.id]==null&&(u[E.route.id]=w)}a[y]=void 0,d||(d=!0,c=aa(_.error)?_.error.status:500),_.headers&&(h[y]=_.headers)}else vs(_)?(r.set(y,_.deferredData),a[y]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!d&&(c=_.statusCode),_.headers&&(h[y]=_.headers)):(a[y]=_.data,_.statusCode&&_.statusCode!==200&&!d&&(c=_.statusCode),_.headers&&(h[y]=_.headers))}),p!==void 0&&t&&(u={[t[0]]:p},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:c||200,loaderHeaders:h}}function O1(n,e,t,r,s,a,u){let{loaderData:c,errors:d}=Ix(e,t,r,u);return s.forEach(h=>{let{key:p,match:g,controller:y}=h,_=a[p];if(Ue(_,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(or(_)){let w=Ys(n.matches,g==null?void 0:g.route.id);d&&d[w.route.id]||(d=Nt({},d,{[w.route.id]:_.error})),n.fetchers.delete(p)}else if(Xs(_))Ue(!1,"Unhandled fetcher revalidation redirect");else if(vs(_))Ue(!1,"Unhandled fetcher deferred data");else{let w=hs(_.data);n.fetchers.set(p,w)}}),{loaderData:c,errors:d}}function R1(n,e,t,r){let s=Nt({},e);for(let a of t){let u=a.route.id;if(e.hasOwnProperty(u)?e[u]!==void 0&&(s[u]=e[u]):n[u]!==void 0&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function I1(n){return n?or(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ys(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function D1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(n,e){let{pathname:t,routeId:r,method:s,type:a,message:u}=e===void 0?{}:e,c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",s&&t&&r?d="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?d="defer() is not supported in actions":a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",d='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",s&&t&&r?d="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(d='Invalid request method "'+s.toUpperCase()+'"')),new Fl(n||500,c,new Error(d),!0)}function Mc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(Xs(s))return{key:r,result:s}}}function Bw(n){let e=typeof n=="string"?Nr(n):n;return qr(Nt({},e,{hash:""}))}function Dx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Lx(n){return Vw(n.result)&&Mx.has(n.result.status)}function vs(n){return n.type===wt.deferred}function or(n){return n.type===wt.error}function Xs(n){return(n&&n.type)===wt.redirect}function L1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function jx(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Vw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Fx(n){return Ex.has(n.toLowerCase())}function Ur(n){return wx.has(n.toLowerCase())}async function Ux(n,e,t,r,s){let a=Object.entries(e);for(let u=0;u<a.length;u++){let[c,d]=a[u],h=n.find(y=>(y==null?void 0:y.route.id)===c);if(!h)continue;let p=r.find(y=>y.route.id===h.route.id),g=p!=null&&!Uw(p,h)&&(s&&s[h.route.id])!==void 0;vs(d)&&g&&await im(d,t,!1).then(y=>{y&&(e[c]=y)})}}async function $x(n,e,t){for(let r=0;r<t.length;r++){let{key:s,routeId:a,controller:u}=t[r],c=e[s];n.find(h=>(h==null?void 0:h.route.id)===a)&&vs(c)&&(Ue(u,"Expected an AbortController for revalidating fetcher deferred result"),await im(c,u.signal,!0).then(h=>{h&&(e[s]=h)}))}}async function im(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:wt.data,data:n.deferredData.unwrappedData}}catch(s){return{type:wt.error,error:s}}return{type:wt.data,data:n.deferredData.data}}}function sm(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Al(n,e){let t=typeof e=="string"?Nr(e).search:e.search;if(n[n.length-1].route.index&&sm(t||""))return n[n.length-1];let r=Dw(n);return r[r.length-1]}function j1(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Yh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Bx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Vx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function hs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function zx(n,e){try{let t=n.sessionStorage.getItem(Fw);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function Wx(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(Fw,JSON.stringify(t))}catch(r){Ui(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ss.apply(this,arguments)}const ba=M.createContext(null),Kl=M.createContext(null),Gc=M.createContext(null),dr=M.createContext(null),Ta=M.createContext(null),fr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),zw=M.createContext(null);function Ww(n,e){let{relative:t}=e===void 0?{}:e;Ps()||Ue(!1);let{basename:r,navigator:s}=M.useContext(dr),{hash:a,pathname:u,search:c}=xa(n,{relative:t}),d=u;return r!=="/"&&(d=u==="/"?r:ui([r,u])),s.createHref({pathname:d,search:c,hash:a})}function Ps(){return M.useContext(Ta)!=null}function Xr(){return Ps()||Ue(!1),M.useContext(Ta).location}function Hx(){return M.useContext(Ta).navigationType}function qx(n){Ps()||Ue(!1);let{pathname:e}=Xr();return M.useMemo(()=>oa(n,Rw(e)),[e,n])}function Hw(n){M.useContext(dr).static||M.useLayoutEffect(n)}function vd(){let{isDataRoute:n}=M.useContext(fr);return n?oC():Gx()}function Gx(){Ps()||Ue(!1);let n=M.useContext(ba),{basename:e,future:t,navigator:r}=M.useContext(dr),{matches:s}=M.useContext(fr),{pathname:a}=Xr(),u=JSON.stringify(md(s,t.v7_relativeSplatPath)),c=M.useRef(!1);return Hw(()=>{c.current=!0}),M.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=gd(h,JSON.parse(u),a,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ui([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,u,a,n])}const qw=M.createContext(null);function Yx(){return M.useContext(qw)}function Gw(n){let e=M.useContext(fr).outlet;return e&&M.createElement(qw.Provider,{value:n},e)}function yd(){let{matches:n}=M.useContext(fr),e=n[n.length-1];return e?e.params:{}}function xa(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=M.useContext(dr),{matches:s}=M.useContext(fr),{pathname:a}=Xr(),u=JSON.stringify(md(s,r.v7_relativeSplatPath));return M.useMemo(()=>gd(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function Yw(n,e){return Kw(n,e)}function Kw(n,e,t,r){Ps()||Ue(!1);let{navigator:s,static:a}=M.useContext(dr),{matches:u}=M.useContext(fr),c=u[u.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=Xr(),g;if(e){var y;let C=typeof e=="string"?Nr(e):e;h==="/"||(y=C.pathname)!=null&&y.startsWith(h)||Ue(!1),g=C}else g=p;let _=g.pathname||"/",w=_;if(h!=="/"){let C=h.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=!a&&t&&t.matches&&t.matches.length>0?t.matches:gs(n,{pathname:w}),S=Xw(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:ui([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:ui([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),u,t,r);return e&&S?M.createElement(Ta.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Pt.Pop}},S):S}function Kx(){let n=e0(),e=aa(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,null)}const Xx=M.createElement(Kx,null);class Qx extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(fr.Provider,{value:this.props.routeContext},M.createElement(zw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zx(n){let{routeContext:e,match:t,children:r}=n,s=M.useContext(ba);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(fr.Provider,{value:e},r)}function Xw(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let p=u.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||Ue(!1),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let p=0;p<u.length;p++){let g=u[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:_}=t,w=g.route.loader&&y[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||w){d=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((p,g,y)=>{let _,w=!1,E=null,S=null;t&&(_=c&&g.route.id?c[g.route.id]:void 0,E=g.route.errorElement||Xx,d&&(h<0&&y===0?(aC("route-fallback"),w=!0,S=null):h===y&&(w=!0,S=g.route.hydrateFallbackElement||null)));let C=e.concat(u.slice(0,y+1)),O=()=>{let R;return _?R=E:w?R=S:g.route.Component?R=M.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,M.createElement(Zx,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?M.createElement(Qx,{location:t.location,revalidation:t.revalidation,component:E,error:_,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):O()},null)}var _d=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_d||{}),Zn=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Zn||{});function om(n){let e=M.useContext(ba);return e||Ue(!1),e}function Ns(n){let e=M.useContext(Kl);return e||Ue(!1),e}function Jx(n){let e=M.useContext(fr);return e||Ue(!1),e}function Xl(n){let e=Jx(),t=e.matches[e.matches.length-1];return t.route.id||Ue(!1),t.route.id}function Qw(){return Xl(Zn.UseRouteId)}function Zw(){return Ns(Zn.UseNavigation).navigation}function eC(){let n=om(_d.UseRevalidator),e=Ns(Zn.UseRevalidator);return M.useMemo(()=>({revalidate:n.router.revalidate,state:e.revalidation}),[n.router.revalidate,e.revalidation])}function Jw(){let{matches:n,loaderData:e}=Ns(Zn.UseMatches);return M.useMemo(()=>n.map(t=>Aw(t,e)),[n,e])}function tC(){let n=Ns(Zn.UseLoaderData),e=Xl(Zn.UseLoaderData);if(n.errors&&n.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return n.loaderData[e]}function nC(n){return Ns(Zn.UseRouteLoaderData).loaderData[n]}function rC(){let n=Ns(Zn.UseActionData),e=Xl(Zn.UseLoaderData);return n.actionData?n.actionData[e]:void 0}function e0(){var n;let e=M.useContext(zw),t=Ns(Zn.UseRouteError),r=Xl(Zn.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function t0(){let n=M.useContext(Gc);return n==null?void 0:n._data}function iC(){let n=M.useContext(Gc);return n==null?void 0:n._error}let sC=0;function n0(n){let{router:e,basename:t}=om(_d.UseBlocker),r=Ns(Zn.UseBlocker),[s,a]=M.useState(""),u=M.useCallback(c=>{if(typeof n!="function")return!!n;if(t==="/")return n(c);let{currentLocation:d,nextLocation:h,historyAction:p}=c;return n({currentLocation:Ss({},d,{pathname:Qn(d.pathname,t)||d.pathname}),nextLocation:Ss({},h,{pathname:Qn(h.pathname,t)||h.pathname}),historyAction:p})},[t,n]);return M.useEffect(()=>{let c=String(++sC);return a(c),()=>e.deleteBlocker(c)},[e]),M.useEffect(()=>{s!==""&&e.getBlocker(s,u)},[e,s,u]),s&&r.blockers.has(s)?r.blockers.get(s):Yo}function oC(){let{router:n}=om(_d.UseNavigateStable),e=Xl(Zn.UseNavigateStable),t=M.useRef(!1);return Hw(()=>{t.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Ss({fromRouteId:e},a)))},[n,e])}const F1={};function aC(n,e,t){F1[n]||(F1[n]=!0)}function Ql(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}const lC="startTransition",U1=Jp[lC];function uC(n){let{basename:e,children:t,initialEntries:r,initialIndex:s,future:a}=n,u=M.useRef();u.current==null&&(u.current=xw({initialEntries:r,initialIndex:s,v5Compat:!0}));let c=u.current,[d,h]=M.useState({action:c.action,location:c.location}),{v7_startTransition:p}=a||{},g=M.useCallback(y=>{p&&U1?U1(()=>h(y)):h(y)},[h,p]);return M.useLayoutEffect(()=>c.listen(g),[c,g]),M.useEffect(()=>Ql(a),[a]),M.createElement(Ca,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:a})}function cC(n){let{to:e,replace:t,state:r,relative:s}=n;Ps()||Ue(!1);let{future:a,static:u}=M.useContext(dr),{matches:c}=M.useContext(fr),{pathname:d}=Xr(),h=vd(),p=gd(e,md(c,a.v7_relativeSplatPath),d,s==="path"),g=JSON.stringify(p);return M.useEffect(()=>h(JSON.parse(g),{replace:t,state:r,relative:s}),[h,g,s,t,r]),null}function r0(n){return Gw(n.context)}function i0(n){Ue(!1)}function Ca(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Pt.Pop,navigator:a,static:u=!1,future:c}=n;Ps()&&Ue(!1);let d=e.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:d,navigator:a,static:u,future:Ss({v7_relativeSplatPath:!1},c)}),[d,c,a,u]);typeof r=="string"&&(r=Nr(r));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:w="default"}=r,E=M.useMemo(()=>{let S=Qn(p,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:_,key:w},navigationType:s}},[d,p,g,y,_,w,s]);return E==null?null:M.createElement(dr.Provider,{value:h},M.createElement(Ta.Provider,{children:t,value:E}))}function dC(n){let{children:e,location:t}=n;return Yw(Ul(e),t)}function fC(n){let{children:e,errorElement:t,resolve:r}=n;return M.createElement(pC,{resolve:r,errorElement:t},M.createElement(mC,null,e))}var wr=function(n){return n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error",n}(wr||{});const hC=new Promise(()=>{});class pC extends M.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:r}=this.props,s=null,a=wr.pending;if(!(r instanceof Promise))a=wr.success,s=Promise.resolve(),Object.defineProperty(s,"_tracked",{get:()=>!0}),Object.defineProperty(s,"_data",{get:()=>r});else if(this.state.error){a=wr.error;let u=this.state.error;s=Promise.reject().catch(()=>{}),Object.defineProperty(s,"_tracked",{get:()=>!0}),Object.defineProperty(s,"_error",{get:()=>u})}else r._tracked?(s=r,a="_error"in s?wr.error:"_data"in s?wr.success:wr.pending):(a=wr.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),s=r.then(u=>Object.defineProperty(r,"_data",{get:()=>u}),u=>Object.defineProperty(r,"_error",{get:()=>u})));if(a===wr.error&&s._error instanceof qc)throw hC;if(a===wr.error&&!t)throw s._error;if(a===wr.error)return M.createElement(Gc.Provider,{value:s,children:t});if(a===wr.success)return M.createElement(Gc.Provider,{value:s,children:e});throw s}}function mC(n){let{children:e}=n,t=t0(),r=typeof e=="function"?e(t):e;return M.createElement(M.Fragment,null,r)}function Ul(n,e){e===void 0&&(e=[]);let t=[];return M.Children.forEach(n,(r,s)=>{if(!M.isValidElement(r))return;let a=[...e,s];if(r.type===M.Fragment){t.push.apply(t,Ul(r.props.children,a));return}r.type!==i0&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ul(r.props.children,a)),t.push(u)}),t}function gC(n){return Xw(n)}function am(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:M.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}function vC(n,e){return rm({basename:e==null?void 0:e.basename,future:Ss({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:xw({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:n,mapRouteProperties:am,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation}).initialize()}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gn(){return Gn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gn.apply(this,arguments)}function lm(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}const Lc="get",Kh="application/x-www-form-urlencoded";function wd(n){return n!=null&&typeof n.tagName=="string"}function yC(n){return wd(n)&&n.tagName.toLowerCase()==="button"}function _C(n){return wd(n)&&n.tagName.toLowerCase()==="form"}function wC(n){return wd(n)&&n.tagName.toLowerCase()==="input"}function SC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EC(n,e){return n.button===0&&(!e||e==="_self")&&!SC(n)}function Yc(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function MC(n,e){let t=Yc(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}let bc=null;function bC(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}const TC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xh(n){return n!=null&&!TC.has(n)?null:n}function xC(n,e){let t,r,s,a,u;if(_C(n)){let c=n.getAttribute("action");r=c?Qn(c,e):null,t=n.getAttribute("method")||Lc,s=Xh(n.getAttribute("enctype"))||Kh,a=new FormData(n)}else if(yC(n)||wC(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Qn(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Lc,s=Xh(n.getAttribute("formenctype"))||Xh(c.getAttribute("enctype"))||Kh,a=new FormData(c,n),!bC()){let{name:h,type:p,value:g}=n;if(p==="image"){let y=h?h+".":"";a.append(y+"x","0"),a.append(y+"y","0")}else h&&a.append(h,g)}}else{if(wd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lc,r=null,s=Kh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}const CC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],NC=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],AC="6";try{window.__reactRouterVersion=AC}catch{}function kC(n,e){return rm({basename:e==null?void 0:e.basename,future:Gn({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Cw({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||o0(),routes:n,mapRouteProperties:am,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function s0(n,e){return rm({basename:e==null?void 0:e.basename,future:Gn({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Pw({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||o0(),routes:n,mapRouteProperties:am,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function o0(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Gn({},e,{errors:OC(e.errors)})),e}function OC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Fl(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}const um=M.createContext({isTransitioning:!1}),cm=M.createContext(new Map),RC="startTransition",Es=Jp[RC],IC="flushSync",$1=GT[IC],DC="useId",B1=Jp[DC];function LC(n){Es?Es(n):n()}function xl(n){$1?$1(n):n()}class jC{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function a0(n){let{fallbackElement:e,router:t,future:r}=n,[s,a]=M.useState(t.state),[u,c]=M.useState(),[d,h]=M.useState({isTransitioning:!1}),[p,g]=M.useState(),[y,_]=M.useState(),[w,E]=M.useState(),S=M.useRef(new Map),{v7_startTransition:C}=r||{},O=M.useCallback(A=>{C?LC(A):A()},[C]),R=M.useCallback((A,$)=>{let{deletedFetchers:L,flushSync:V,viewTransitionOpts:B}=$;A.fetchers.forEach((ne,he)=>{ne.data!==void 0&&S.current.set(he,ne.data)}),L.forEach(ne=>S.current.delete(ne));let J=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!B||J){V?xl(()=>a(A)):O(()=>a(A));return}if(V){xl(()=>{y&&(p&&p.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let ne=t.window.document.startViewTransition(()=>{xl(()=>a(A))});ne.finished.finally(()=>{xl(()=>{g(void 0),_(void 0),c(void 0),h({isTransitioning:!1})})}),xl(()=>_(ne));return}y?(p&&p.resolve(),y.skipTransition(),E({state:A,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(c(A),h({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,y,p,S,O]);M.useLayoutEffect(()=>t.subscribe(R),[t,R]),M.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new jC)},[d]),M.useEffect(()=>{if(p&&u&&t.window){let A=u,$=p.promise,L=t.window.document.startViewTransition(async()=>{O(()=>a(A)),await $});L.finished.finally(()=>{g(void 0),_(void 0),c(void 0),h({isTransitioning:!1})}),_(L)}},[O,u,p,t.window]),M.useEffect(()=>{p&&u&&s.location.key===u.location.key&&p.resolve()},[p,y,s.location,u]),M.useEffect(()=>{!d.isTransitioning&&w&&(c(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[d.isTransitioning,w]),M.useEffect(()=>{},[]);let N=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,$,L)=>t.navigate(A,{state:$,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(A,$,L)=>t.navigate(A,{replace:!0,state:$,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[t]),x=t.basename||"/",k=M.useMemo(()=>({router:t,navigator:N,static:!1,basename:x}),[t,N,x]),T=M.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return M.useEffect(()=>Ql(r,t.future),[r,t.future]),M.createElement(M.Fragment,null,M.createElement(ba.Provider,{value:k},M.createElement(Kl.Provider,{value:s},M.createElement(cm.Provider,{value:S.current},M.createElement(um.Provider,{value:d},M.createElement(Ca,{basename:x,location:s.location,navigationType:s.historyAction,navigator:N,future:T},s.initialized||t.future.v7_partialHydration?M.createElement(FC,{routes:t.routes,future:t.future,state:s}):e))))),null)}const FC=M.memo(UC);function UC(n){let{routes:e,future:t,state:r}=n;return Kw(e,void 0,r,t)}function $C(n){let{basename:e,children:t,future:r,window:s}=n,a=M.useRef();a.current==null&&(a.current=Cw({window:s,v5Compat:!0}));let u=a.current,[c,d]=M.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},p=M.useCallback(g=>{h&&Es?Es(()=>d(g)):d(g)},[d,h]);return M.useLayoutEffect(()=>u.listen(p),[u,p]),M.useEffect(()=>Ql(r),[r]),M.createElement(Ca,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,future:r})}function BC(n){let{basename:e,children:t,future:r,window:s}=n,a=M.useRef();a.current==null&&(a.current=Pw({window:s,v5Compat:!0}));let u=a.current,[c,d]=M.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},p=M.useCallback(g=>{h&&Es?Es(()=>d(g)):d(g)},[d,h]);return M.useLayoutEffect(()=>u.listen(p),[u,p]),M.useEffect(()=>Ql(r),[r]),M.createElement(Ca,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,future:r})}function VC(n){let{basename:e,children:t,future:r,history:s}=n,[a,u]=M.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=M.useCallback(h=>{c&&Es?Es(()=>u(h)):u(h)},[u,c]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.useEffect(()=>Ql(r),[r]),M.createElement(Ca,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,future:r})}const zC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=M.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:c,target:d,to:h,preventScrollReset:p,viewTransition:g}=e,y=lm(e,CC),{basename:_}=M.useContext(dr),w,E=!1;if(typeof h=="string"&&WC.test(h)&&(w=h,zC))try{let R=new URL(window.location.href),N=h.startsWith("//")?new URL(R.protocol+h):new URL(h),x=Qn(N.pathname,_);N.origin===R.origin&&x!=null?h=x+N.search+N.hash:E=!0}catch{}let S=Ww(h,{relative:s}),C=u0(h,{replace:u,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:g});function O(R){r&&r(R),R.defaultPrevented||C(R)}return M.createElement("a",Gn({},y,{href:w||S,onClick:E||a?r:O,ref:t,target:d}))}),HC=M.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:u=!1,style:c,to:d,viewTransition:h,children:p}=e,g=lm(e,PC),y=xa(d,{relative:g.relative}),_=Xr(),w=M.useContext(Kl),{navigator:E,basename:S}=M.useContext(dr),C=w!=null&&h0(y)&&h===!0,O=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,R=_.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(R=R.toLowerCase(),N=N?N.toLowerCase():null,O=O.toLowerCase()),N&&S&&(N=Qn(N,S)||N);const x=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let k=R===O||!u&&R.startsWith(O)&&R.charAt(x)==="/",T=N!=null&&(N===O||!u&&N.startsWith(O)&&N.charAt(O.length)==="/"),A={isActive:k,isPending:T,isTransitioning:C},$=k?r:void 0,L;typeof a=="function"?L=a(A):L=[a,k?"active":null,T?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(A):c;return M.createElement(Hn,Gn({},g,{"aria-current":$,className:L,ref:t,style:V,to:d,viewTransition:h}),typeof p=="function"?p(A):p)}),l0=M.forwardRef((n,e)=>{let{fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:u,method:c=Lc,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y}=n,_=lm(n,NC),w=fm(),E=d0(d,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",C=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let R=O.nativeEvent.submitter,N=(R==null?void 0:R.getAttribute("formmethod"))||c;w(R||O.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return M.createElement("form",Gn({ref:e,method:S,action:E,onSubmit:s?h:C},_))});function qC(n){let{getKey:e,storageKey:t}=n;return f0({getKey:e,storageKey:t}),null}var la;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(la||(la={}));var $l;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($l||($l={}));function Sd(n){let e=M.useContext(ba);return e||Ue(!1),e}function dm(n){let e=M.useContext(Kl);return e||Ue(!1),e}function u0(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:c}=e===void 0?{}:e,d=vd(),h=Xr(),p=xa(n,{relative:u});return M.useCallback(g=>{if(EC(g,t)){g.preventDefault();let y=r!==void 0?r:qr(h)===qr(p);d(n,{replace:y,state:s,preventScrollReset:a,relative:u,viewTransition:c})}},[h,d,p,r,s,t,n,a,u,c])}function GC(n){let e=M.useRef(Yc(n)),t=M.useRef(!1),r=Xr(),s=M.useMemo(()=>MC(r.search,t.current?null:e.current),[r.search]),a=vd(),u=M.useCallback((c,d)=>{const h=Yc(typeof c=="function"?c(s):c);t.current=!0,a("?"+h,d)},[a,s]);return[s,u]}function YC(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let KC=0,c0=()=>"__"+String(++KC)+"__";function fm(){let{router:n}=Sd(la.UseSubmit),{basename:e}=M.useContext(dr),t=Qw();return M.useCallback(function(r,s){s===void 0&&(s={}),YC();let{action:a,method:u,encType:c,formData:d,body:h}=xC(r,e);if(s.navigate===!1){let p=s.fetcherKey||c0();n.fetch(p,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function d0(n,e){let{relative:t}=e===void 0?{}:e,{basename:r}=M.useContext(dr),s=M.useContext(fr);s||Ue(!1);let[a]=s.matches.slice(-1),u=Gn({},xa(n||".",{relative:t})),c=Xr();if(n==null){u.search=c.search;let d=new URLSearchParams(u.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();u.search=g?"?"+g:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ui([r,u.pathname])),qr(u)}function XC(n){var e;let{key:t}=n===void 0?{}:n,{router:r}=Sd(la.UseFetcher),s=dm($l.UseFetcher),a=M.useContext(cm),u=M.useContext(fr),c=(e=u.matches[u.matches.length-1])==null?void 0:e.route.id;a||Ue(!1),u||Ue(!1),c==null&&Ue(!1);let d=B1?B1():"",[h,p]=M.useState(t||d);t&&t!==h?p(t):h||p(c0()),M.useEffect(()=>(r.getFetcher(h),()=>{r.deleteFetcher(h)}),[r,h]);let g=M.useCallback((O,R)=>{c||Ue(!1),r.fetch(h,c,O,R)},[h,c,r]),y=fm(),_=M.useCallback((O,R)=>{y(O,Gn({},R,{navigate:!1,fetcherKey:h}))},[h,y]),w=M.useMemo(()=>M.forwardRef((R,N)=>M.createElement(l0,Gn({},R,{navigate:!1,fetcherKey:h,ref:N}))),[h]),E=s.fetchers.get(h)||jw,S=a.get(h);return M.useMemo(()=>Gn({Form:w,submit:_,load:g},E,{data:S}),[w,_,g,E,S])}function QC(){let n=dm($l.UseFetchers);return Array.from(n.fetchers.entries()).map(e=>{let[t,r]=e;return Gn({},r,{key:t})})}const V1="react-router-scroll-positions";let Tc={};function f0(n){let{getKey:e,storageKey:t}=n===void 0?{}:n,{router:r}=Sd(la.UseScrollRestoration),{restoreScrollPosition:s,preventScrollReset:a}=dm($l.UseScrollRestoration),{basename:u}=M.useContext(dr),c=Xr(),d=Jw(),h=Zw();M.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),JC(M.useCallback(()=>{if(h.state==="idle"){let p=(e?e(c,d):null)||c.key;Tc[p]=window.scrollY}try{sessionStorage.setItem(t||V1,JSON.stringify(Tc))}catch{}window.history.scrollRestoration="auto"},[t,e,h.state,c,d])),typeof document<"u"&&(M.useLayoutEffect(()=>{try{let p=sessionStorage.getItem(t||V1);p&&(Tc=JSON.parse(p))}catch{}},[t]),M.useLayoutEffect(()=>{let p=e&&u!=="/"?(y,_)=>e(Gn({},y,{pathname:Qn(y.pathname,u)||y.pathname}),_):e,g=r==null?void 0:r.enableScrollRestoration(Tc,()=>window.scrollY,p);return()=>g&&g()},[r,u,e]),M.useLayoutEffect(()=>{if(s!==!1){if(typeof s=="number"){window.scrollTo(0,s);return}if(c.hash){let p=document.getElementById(decodeURIComponent(c.hash.slice(1)));if(p){p.scrollIntoView();return}}a!==!0&&window.scrollTo(0,0)}},[c,s,a]))}function ZC(n,e){let{capture:t}=e||{};M.useEffect(()=>{let r=t!=null?{capture:t}:void 0;return window.addEventListener("beforeunload",n,r),()=>{window.removeEventListener("beforeunload",n,r)}},[n,t])}function JC(n,e){let{capture:t}={};M.useEffect(()=>{let r=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",n,r),()=>{window.removeEventListener("pagehide",n,r)}},[n,t])}function eP(n){let{when:e,message:t}=n,r=n0(e);M.useEffect(()=>{r.state==="blocked"&&(window.confirm(t)?setTimeout(r.proceed,0):r.reset())},[r,t]),M.useEffect(()=>{r.state==="blocked"&&!e&&r.reset()},[r,e])}function h0(n,e){e===void 0&&(e={});let t=M.useContext(um);t==null&&Ue(!1);let{basename:r}=Sd(la.useViewTransitionState),s=xa(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qn(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return oa(s.pathname,u)!=null||oa(s.pathname,a)!=null}const tP=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:qc,Await:fC,BrowserRouter:$C,Form:l0,HashRouter:BC,Link:Hn,MemoryRouter:uC,NavLink:HC,Navigate:cC,get NavigationType(){return Pt},Outlet:r0,Route:i0,Router:Ca,RouterProvider:a0,Routes:dC,ScrollRestoration:qC,UNSAFE_DataRouterContext:ba,UNSAFE_DataRouterStateContext:Kl,UNSAFE_ErrorResponseImpl:Fl,UNSAFE_FetchersContext:cm,UNSAFE_LocationContext:Ta,UNSAFE_NavigationContext:dr,UNSAFE_RouteContext:fr,UNSAFE_ViewTransitionContext:um,UNSAFE_useRouteId:Qw,UNSAFE_useScrollRestoration:f0,createBrowserRouter:kC,createHashRouter:s0,createMemoryRouter:vC,createPath:qr,createRoutesFromChildren:Ul,createRoutesFromElements:Ul,createSearchParams:Yc,defer:vx,generatePath:ax,isRouteErrorResponse:aa,json:hx,matchPath:oa,matchRoutes:gs,parsePath:Nr,redirect:tm,redirectDocument:yx,renderMatches:gC,replace:_x,resolvePath:Iw,unstable_HistoryRouter:VC,unstable_usePrompt:eP,useActionData:rC,useAsyncError:iC,useAsyncValue:t0,useBeforeUnload:ZC,useBlocker:n0,useFetcher:XC,useFetchers:QC,useFormAction:d0,useHref:Ww,useInRouterContext:Ps,useLinkClickHandler:u0,useLoaderData:tC,useLocation:Xr,useMatch:qx,useMatches:Jw,useNavigate:vd,useNavigation:Zw,useNavigationType:Hx,useOutlet:Gw,useOutletContext:Yx,useParams:yd,useResolvedPath:xa,useRevalidator:eC,useRouteError:e0,useRouteLoaderData:nC,useRoutes:Yw,useSearchParams:GC,useSubmit:fm,useViewTransitionState:h0},Symbol.toStringTag,{value:"Module"}));var z1={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var W1;function nP(){if(W1)return z1;W1=1;var n;return function(e){(function(t){var r=typeof globalThis=="object"?globalThis:typeof i1=="object"?i1:typeof self=="object"?self:typeof this=="object"?this:d(),s=a(e);typeof r.Reflect<"u"&&(s=a(r.Reflect,s)),t(s,r),typeof r.Reflect>"u"&&(r.Reflect=e);function a(h,p){return function(g,y){Object.defineProperty(h,g,{configurable:!0,writable:!0,value:y}),p&&p(g,y)}}function u(){try{return Function("return this;")()}catch{}}function c(){try{return(0,eval)("(function() { return this; })()")}catch{}}function d(){return u()||c()}})(function(t,r){var s=Object.prototype.hasOwnProperty,a=typeof Symbol=="function",u=a&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",c=a&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",d=typeof Object.create=="function",h={__proto__:[]}instanceof Array,p=!d&&!h,g={create:d?function(){return jn(Object.create(null))}:h?function(){return jn({__proto__:null})}:function(){return jn({})},has:p?function(W,K){return s.call(W,K)}:function(W,K){return K in W},get:p?function(W,K){return s.call(W,K)?W[K]:void 0}:function(W,K){return W[K]}},y=Object.getPrototypeOf(Function),_=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:cn(),w=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ln(),E=typeof WeakMap=="function"?WeakMap:ei(),S=a?Symbol.for("@reflect-metadata:registry"):void 0,C=Zt(),O=Nn(C);function R(W,K,re,we){if(te(re)){if(!lt(W))throw new TypeError;if(!un(K))throw new TypeError;return J(W,K)}else{if(!lt(W))throw new TypeError;if(!me(K))throw new TypeError;if(!me(we)&&!te(we)&&!ye(we))throw new TypeError;return ye(we)&&(we=void 0),re=mt(re),ne(W,K,re,we)}}t("decorate",R);function N(W,K){function re(we,Fe){if(!me(we))throw new TypeError;if(!te(Fe)&&!fe(Fe))throw new TypeError;ee(W,K,we,Fe)}return re}t("metadata",N);function x(W,K,re,we){if(!me(re))throw new TypeError;return te(we)||(we=mt(we)),ee(W,K,re,we)}t("defineMetadata",x);function k(W,K,re){if(!me(K))throw new TypeError;return te(re)||(re=mt(re)),he(W,K,re)}t("hasMetadata",k);function T(W,K,re){if(!me(K))throw new TypeError;return te(re)||(re=mt(re)),se(W,K,re)}t("hasOwnMetadata",T);function A(W,K,re){if(!me(K))throw new TypeError;return te(re)||(re=mt(re)),oe(W,K,re)}t("getMetadata",A);function $(W,K,re){if(!me(K))throw new TypeError;return te(re)||(re=mt(re)),q(W,K,re)}t("getOwnMetadata",$);function L(W,K){if(!me(W))throw new TypeError;return te(K)||(K=mt(K)),Q(W,K)}t("getMetadataKeys",L);function V(W,K){if(!me(W))throw new TypeError;return te(K)||(K=mt(K)),D(W,K)}t("getOwnMetadataKeys",V);function B(W,K,re){if(!me(K))throw new TypeError;if(te(re)||(re=mt(re)),!me(K))throw new TypeError;te(re)||(re=mt(re));var we=Sn(K,re,!1);return te(we)?!1:we.OrdinaryDeleteMetadata(W,K,re)}t("deleteMetadata",B);function J(W,K){for(var re=W.length-1;re>=0;--re){var we=W[re],Fe=we(K);if(!te(Fe)&&!ye(Fe)){if(!un(Fe))throw new TypeError;K=Fe}}return K}function ne(W,K,re,we){for(var Fe=W.length-1;Fe>=0;--Fe){var Mt=W[Fe],xt=Mt(K,re,we);if(!te(xt)&&!ye(xt)){if(!me(xt))throw new TypeError;we=xt}}return we}function he(W,K,re){var we=se(W,K,re);if(we)return!0;var Fe=Yt(K);return ye(Fe)?!1:he(W,Fe,re)}function se(W,K,re){var we=Sn(K,re,!1);return te(we)?!1:He(we.OrdinaryHasOwnMetadata(W,K,re))}function oe(W,K,re){var we=se(W,K,re);if(we)return q(W,K,re);var Fe=Yt(K);if(!ye(Fe))return oe(W,Fe,re)}function q(W,K,re){var we=Sn(K,re,!1);if(!te(we))return we.OrdinaryGetOwnMetadata(W,K,re)}function ee(W,K,re,we){var Fe=Sn(re,we,!0);Fe.OrdinaryDefineOwnMetadata(W,K,re,we)}function Q(W,K){var re=D(W,K),we=Yt(W);if(we===null)return re;var Fe=Q(we,K);if(Fe.length<=0)return re;if(re.length<=0)return Fe;for(var Mt=new w,xt=[],We=0,Se=re;We<Se.length;We++){var Ee=Se[We],be=Mt.has(Ee);be||(Mt.add(Ee),xt.push(Ee))}for(var Ne=0,Ke=Fe;Ne<Ke.length;Ne++){var Ee=Ke[Ne],be=Mt.has(Ee);be||(Mt.add(Ee),xt.push(Ee))}return xt}function D(W,K){var re=Sn(W,K,!1);return re?re.OrdinaryOwnMetadataKeys(W,K):[]}function Y(W){if(W===null)return 1;switch(typeof W){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return W===null?1:6;default:return 6}}function te(W){return W===void 0}function ye(W){return W===null}function ce(W){return typeof W=="symbol"}function me(W){return typeof W=="object"?W!==null:typeof W=="function"}function je(W,K){switch(Y(W)){case 0:return W;case 1:return W;case 2:return W;case 3:return W;case 4:return W;case 5:return W}var re="string",we=st(W,u);if(we!==void 0){var Fe=we.call(W,re);if(me(Fe))throw new TypeError;return Fe}return de(W)}function de(W,K){var re,we,Fe;{var Mt=W.toString;if(Ot(Mt)){var we=Mt.call(W);if(!me(we))return we}var re=W.valueOf;if(Ot(re)){var we=re.call(W);if(!me(we))return we}}throw new TypeError}function He(W){return!!W}function pt(W){return""+W}function mt(W){var K=je(W);return ce(K)?K:pt(K)}function lt(W){return Array.isArray?Array.isArray(W):W instanceof Object?W instanceof Array:Object.prototype.toString.call(W)==="[object Array]"}function Ot(W){return typeof W=="function"}function un(W){return typeof W=="function"}function fe(W){switch(Y(W)){case 3:return!0;case 4:return!0;default:return!1}}function xe(W,K){return W===K||W!==W&&K!==K}function st(W,K){var re=W[K];if(re!=null){if(!Ot(re))throw new TypeError;return re}}function ut(W){var K=st(W,c);if(!Ot(K))throw new TypeError;var re=K.call(W);if(!me(re))throw new TypeError;return re}function qe(W){return W.value}function Xe(W){var K=W.next();return K.done?!1:K}function vt(W){var K=W.return;K&&K.call(W)}function Yt(W){var K=Object.getPrototypeOf(W);if(typeof W!="function"||W===y||K!==y)return K;var re=W.prototype,we=re&&Object.getPrototypeOf(re);if(we==null||we===Object.prototype)return K;var Fe=we.constructor;return typeof Fe!="function"||Fe===W?K:Fe}function Pn(){var W;!te(S)&&typeof r.Reflect<"u"&&!(S in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(W=hr(r.Reflect));var K,re,we,Fe=new E,Mt={registerProvider:xt,getProvider:Se,setProvider:be};return Mt;function xt(Ne){if(!Object.isExtensible(Mt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case W===Ne:break;case te(K):K=Ne;break;case K===Ne:break;case te(re):re=Ne;break;case re===Ne:break;default:we===void 0&&(we=new w),we.add(Ne);break}}function We(Ne,Ke){if(!te(K)){if(K.isProviderFor(Ne,Ke))return K;if(!te(re)){if(re.isProviderFor(Ne,Ke))return K;if(!te(we))for(var gt=ut(we);;){var bt=Xe(gt);if(!bt)return;var rn=qe(bt);if(rn.isProviderFor(Ne,Ke))return vt(gt),rn}}}if(!te(W)&&W.isProviderFor(Ne,Ke))return W}function Se(Ne,Ke){var gt=Fe.get(Ne),bt;return te(gt)||(bt=gt.get(Ke)),te(bt)&&(bt=We(Ne,Ke),te(bt)||(te(gt)&&(gt=new _,Fe.set(Ne,gt)),gt.set(Ke,bt))),bt}function Ee(Ne){if(te(Ne))throw new TypeError;return K===Ne||re===Ne||!te(we)&&we.has(Ne)}function be(Ne,Ke,gt){if(!Ee(gt))throw new Error("Metadata provider not registered.");var bt=Se(Ne,Ke);if(bt!==gt){if(!te(bt))return!1;var rn=Fe.get(Ne);te(rn)&&(rn=new _,Fe.set(Ne,rn)),rn.set(Ke,gt)}return!0}}function Zt(){var W;return!te(S)&&me(r.Reflect)&&Object.isExtensible(r.Reflect)&&(W=r.Reflect[S]),te(W)&&(W=Pn()),!te(S)&&me(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,S,{enumerable:!1,configurable:!1,writable:!1,value:W}),W}function Nn(W){var K=new E,re={isProviderFor:function(Ee,be){var Ne=K.get(Ee);return te(Ne)?!1:Ne.has(be)},OrdinaryDefineOwnMetadata:xt,OrdinaryHasOwnMetadata:Fe,OrdinaryGetOwnMetadata:Mt,OrdinaryOwnMetadataKeys:We,OrdinaryDeleteMetadata:Se};return C.registerProvider(re),re;function we(Ee,be,Ne){var Ke=K.get(Ee),gt=!1;if(te(Ke)){if(!Ne)return;Ke=new _,K.set(Ee,Ke),gt=!0}var bt=Ke.get(be);if(te(bt)){if(!Ne)return;if(bt=new _,Ke.set(be,bt),!W.setProvider(Ee,be,re))throw Ke.delete(be),gt&&K.delete(Ee),new Error("Wrong provider for target.")}return bt}function Fe(Ee,be,Ne){var Ke=we(be,Ne,!1);return te(Ke)?!1:He(Ke.has(Ee))}function Mt(Ee,be,Ne){var Ke=we(be,Ne,!1);if(!te(Ke))return Ke.get(Ee)}function xt(Ee,be,Ne,Ke){var gt=we(Ne,Ke,!0);gt.set(Ee,be)}function We(Ee,be){var Ne=[],Ke=we(Ee,be,!1);if(te(Ke))return Ne;for(var gt=Ke.keys(),bt=ut(gt),rn=0;;){var Ar=Xe(bt);if(!Ar)return Ne.length=rn,Ne;var _o=qe(Ar);try{Ne[rn]=_o}catch(wi){try{vt(bt)}finally{throw wi}}rn++}}function Se(Ee,be,Ne){var Ke=we(be,Ne,!1);if(te(Ke)||!Ke.delete(Ee))return!1;if(Ke.size===0){var gt=K.get(be);te(gt)||(gt.delete(Ne),gt.size===0&&K.delete(gt))}return!0}}function hr(W){var K=W.defineMetadata,re=W.hasOwnMetadata,we=W.getOwnMetadata,Fe=W.getOwnMetadataKeys,Mt=W.deleteMetadata,xt=new E,We={isProviderFor:function(Se,Ee){var be=xt.get(Se);return!te(be)&&be.has(Ee)?!0:Fe(Se,Ee).length?(te(be)&&(be=new w,xt.set(Se,be)),be.add(Ee),!0):!1},OrdinaryDefineOwnMetadata:K,OrdinaryHasOwnMetadata:re,OrdinaryGetOwnMetadata:we,OrdinaryOwnMetadataKeys:Fe,OrdinaryDeleteMetadata:Mt};return We}function Sn(W,K,re){var we=C.getProvider(W,K);if(!te(we))return we;if(re){if(C.setProvider(W,K,O))return O;throw new Error("Illegal state.")}}function cn(){var W={},K=[],re=function(){function We(Se,Ee,be){this._index=0,this._keys=Se,this._values=Ee,this._selector=be}return We.prototype["@@iterator"]=function(){return this},We.prototype[c]=function(){return this},We.prototype.next=function(){var Se=this._index;if(Se>=0&&Se<this._keys.length){var Ee=this._selector(this._keys[Se],this._values[Se]);return Se+1>=this._keys.length?(this._index=-1,this._keys=K,this._values=K):this._index++,{value:Ee,done:!1}}return{value:void 0,done:!0}},We.prototype.throw=function(Se){throw this._index>=0&&(this._index=-1,this._keys=K,this._values=K),Se},We.prototype.return=function(Se){return this._index>=0&&(this._index=-1,this._keys=K,this._values=K),{value:Se,done:!0}},We}(),we=function(){function We(){this._keys=[],this._values=[],this._cacheKey=W,this._cacheIndex=-2}return Object.defineProperty(We.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),We.prototype.has=function(Se){return this._find(Se,!1)>=0},We.prototype.get=function(Se){var Ee=this._find(Se,!1);return Ee>=0?this._values[Ee]:void 0},We.prototype.set=function(Se,Ee){var be=this._find(Se,!0);return this._values[be]=Ee,this},We.prototype.delete=function(Se){var Ee=this._find(Se,!1);if(Ee>=0){for(var be=this._keys.length,Ne=Ee+1;Ne<be;Ne++)this._keys[Ne-1]=this._keys[Ne],this._values[Ne-1]=this._values[Ne];return this._keys.length--,this._values.length--,xe(Se,this._cacheKey)&&(this._cacheKey=W,this._cacheIndex=-2),!0}return!1},We.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=W,this._cacheIndex=-2},We.prototype.keys=function(){return new re(this._keys,this._values,Fe)},We.prototype.values=function(){return new re(this._keys,this._values,Mt)},We.prototype.entries=function(){return new re(this._keys,this._values,xt)},We.prototype["@@iterator"]=function(){return this.entries()},We.prototype[c]=function(){return this.entries()},We.prototype._find=function(Se,Ee){if(!xe(this._cacheKey,Se)){this._cacheIndex=-1;for(var be=0;be<this._keys.length;be++)if(xe(this._keys[be],Se)){this._cacheIndex=be;break}}return this._cacheIndex<0&&Ee&&(this._cacheIndex=this._keys.length,this._keys.push(Se),this._values.push(void 0)),this._cacheIndex},We}();return we;function Fe(We,Se){return We}function Mt(We,Se){return Se}function xt(We,Se){return[We,Se]}}function Ln(){var W=function(){function K(){this._map=new _}return Object.defineProperty(K.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),K.prototype.has=function(re){return this._map.has(re)},K.prototype.add=function(re){return this._map.set(re,re),this},K.prototype.delete=function(re){return this._map.delete(re)},K.prototype.clear=function(){this._map.clear()},K.prototype.keys=function(){return this._map.keys()},K.prototype.values=function(){return this._map.keys()},K.prototype.entries=function(){return this._map.entries()},K.prototype["@@iterator"]=function(){return this.keys()},K.prototype[c]=function(){return this.keys()},K}();return W}function ei(){var W=16,K=g.create(),re=we();return function(){function Se(){this._key=we()}return Se.prototype.has=function(Ee){var be=Fe(Ee,!1);return be!==void 0?g.has(be,this._key):!1},Se.prototype.get=function(Ee){var be=Fe(Ee,!1);return be!==void 0?g.get(be,this._key):void 0},Se.prototype.set=function(Ee,be){var Ne=Fe(Ee,!0);return Ne[this._key]=be,this},Se.prototype.delete=function(Ee){var be=Fe(Ee,!1);return be!==void 0?delete be[this._key]:!1},Se.prototype.clear=function(){this._key=we()},Se}();function we(){var Se;do Se="@@WeakMap@@"+We();while(g.has(K,Se));return K[Se]=!0,Se}function Fe(Se,Ee){if(!s.call(Se,re)){if(!Ee)return;Object.defineProperty(Se,re,{value:g.create()})}return Se[re]}function Mt(Se,Ee){for(var be=0;be<Ee;++be)Se[be]=Math.random()*255|0;return Se}function xt(Se){if(typeof Uint8Array=="function"){var Ee=new Uint8Array(Se);return typeof crypto<"u"?crypto.getRandomValues(Ee):typeof msCrypto<"u"?msCrypto.getRandomValues(Ee):Mt(Ee,Se),Ee}return Mt(new Array(Se),Se)}function We(){var Se=xt(W);Se[6]=Se[6]&79|64,Se[8]=Se[8]&191|128;for(var Ee="",be=0;be<W;++be){var Ne=Se[be];(be===4||be===6||be===8)&&(Ee+="-"),Ne<16&&(Ee+="0"),Ee+=Ne.toString(16).toLowerCase()}return Ee}}function jn(W){return W.__=void 0,delete W.__,W}})}(n||(n={})),z1}nP();function rP(){return P.jsxs("footer",{children:[P.jsxs("p",{children:["Copyright  2021 - ",new Date().getFullYear()," Toni Barth"]}),P.jsx(Hn,{to:"/privacy-policy",children:"Privacy Policy"})]})}var Qh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var H1;function iP(){return H1||(H1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=s(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=s(u,c));return u}function s(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Qh)),Qh.exports}var sP=iP();const et=mi(sP),oP=["xxl","xl","lg","md","sm","xs"],aP="xs",Zl=M.createContext({prefixes:{},breakpoints:oP,minBreakpoint:aP}),{Consumer:h5,Provider:p5}=Zl;function it(n,e){const{prefixes:t}=M.useContext(Zl);return n||t[e]||e}function m5(){const{breakpoints:n}=M.useContext(Zl);return n}function g5(){const{minBreakpoint:n}=M.useContext(Zl);return n}function lP(){const{dir:n}=M.useContext(Zl);return n==="rtl"}const p0=M.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...s},a)=>{const u=it(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return P.jsx(t,{ref:a,...s,className:et(r,e?`${u}${c}`:u)})});p0.displayName="Container";function Tp(){return Tp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tp.apply(null,arguments)}function m0(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function q1(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function uP(n){var e=cP(n,"string");return typeof e=="symbol"?e:String(e)}function cP(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function dP(n,e,t){var r=M.useRef(n!==void 0),s=M.useState(e),a=s[0],u=s[1],c=n!==void 0,d=r.current;return r.current=c,!c&&d&&a!==e&&u(e),[c?n:a,M.useCallback(function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),y=1;y<p;y++)g[y-1]=arguments[y];t&&t.apply(void 0,[h].concat(g)),u(h)},[t])]}function Ed(n,e){return Object.keys(e).reduce(function(t,r){var s,a=t,u=a[q1(r)],c=a[r],d=m0(a,[q1(r),r].map(uP)),h=e[r],p=dP(c,u,n[h]),g=p[0],y=p[1];return Tp({},d,(s={},s[r]=g,s[h]=y,s))},n)}function xp(n,e){return xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xp(n,e)}function fP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,xp(n,e)}var hP=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ri(n,e){return hP(n.querySelectorAll(e))}function g0(){const[,n]=M.useReducer(e=>e+1,0);return n}const G1=n=>!n||typeof n=="function"?n:e=>{n.current=e};function pP(n,e){const t=G1(n),r=G1(e);return s=>{t&&t(s),r&&r(s)}}function Md(n,e){return M.useMemo(()=>pP(n,e),[n,e])}const bd=M.createContext(null);bd.displayName="NavContext";const oo=M.createContext(null),ua=(n,e=null)=>n!=null?String(n):e||null,v0=M.createContext(null),mP="data-rr-ui-",gP="rrUi";function Pa(n){return`${mP}${n}`}function vP(n){return`${gP}${n}`}function yP(n){const e=M.useRef(n);return M.useEffect(()=>{e.current=n},[n]),e}function xn(n){const e=yP(n);return M.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const _P=["as","disabled"];function wP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function SP(n){return!n||n.trim()==="#"}function hm({tagName:n,disabled:e,href:t,target:r,rel:s,role:a,onClick:u,tabIndex:c=0,type:d}){n||(t!=null||r!=null||s!=null?n="a":n="button");const h={tagName:n};if(n==="button")return[{type:d||"button",disabled:e},h];const p=y=>{if((e||n==="a"&&SP(t))&&y.preventDefault(),e){y.stopPropagation();return}u==null||u(y)},g=y=>{y.key===" "&&(y.preventDefault(),p(y))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:p,onKeyDown:g},h]}const pm=M.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=wP(n,_P);const[a,{tagName:u}]=hm(Object.assign({tagName:t,disabled:r},s));return P.jsx(u,Object.assign({},s,a,{ref:e}))});pm.displayName="Button";const EP=["as","active","eventKey"];function MP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function mm({key:n,onClick:e,active:t,id:r,role:s,disabled:a}){const u=M.useContext(oo),c=M.useContext(bd),d=M.useContext(v0);let h=t;const p={role:s};if(c){!s&&c.role==="tablist"&&(p.role="tab");const g=c.getControllerId(n??null),y=c.getControlledId(n??null);p[Pa("event-key")]=n,p.id=g||r,h=t==null&&n!=null?c.activeKey===n:t,(h||!(d!=null&&d.unmountOnExit)&&!(d!=null&&d.mountOnEnter))&&(p["aria-controls"]=y)}return p.role==="tab"&&(p["aria-selected"]=h,h||(p.tabIndex=-1),a&&(p.tabIndex=-1,p["aria-disabled"]=!0)),p.onClick=xn(g=>{a||(e==null||e(g),n!=null&&u&&!g.isPropagationStopped()&&u(n,g))}),[p,{isActive:h}]}const y0=M.forwardRef((n,e)=>{let{as:t=pm,active:r,eventKey:s}=n,a=MP(n,EP);const[u,c]=mm(Object.assign({key:ua(s,a.href),active:r},a));return u[Pa("active")]=c.isActive,P.jsx(t,Object.assign({},a,u,{ref:e}))});y0.displayName="NavItem";const bP=["as","onSelect","activeKey","role","onKeyDown"];function TP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const Y1=()=>{},K1=Pa("event-key"),_0=M.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:s,role:a,onKeyDown:u}=n,c=TP(n,bP);const d=g0(),h=M.useRef(!1),p=M.useContext(oo),g=M.useContext(v0);let y,_;g&&(a=a||"tablist",s=g.activeKey,y=g.getControlledId,_=g.getControllerId);const w=M.useRef(null),E=R=>{const N=w.current;if(!N)return null;const x=Ri(N,`[${K1}]:not([aria-disabled=true])`),k=N.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const T=x.indexOf(k);if(T===-1)return null;let A=T+R;return A>=x.length&&(A=0),A<0&&(A=x.length-1),x[A]},S=(R,N)=>{R!=null&&(r==null||r(R,N),p==null||p(R,N))},C=R=>{if(u==null||u(R),!g)return;let N;switch(R.key){case"ArrowLeft":case"ArrowUp":N=E(-1);break;case"ArrowRight":case"ArrowDown":N=E(1);break;default:return}N&&(R.preventDefault(),S(N.dataset[vP("EventKey")]||null,R),h.current=!0,d())};M.useEffect(()=>{if(w.current&&h.current){const R=w.current.querySelector(`[${K1}][aria-selected=true]`);R==null||R.focus()}h.current=!1});const O=Md(e,w);return P.jsx(oo.Provider,{value:S,children:P.jsx(bd.Provider,{value:{role:a,activeKey:ua(s),getControlledId:y||Y1,getControllerId:_||Y1},children:P.jsx(t,Object.assign({},c,{onKeyDown:C,ref:O,role:a}))})})});_0.displayName="Nav";const w0=Object.assign(_0,{Item:y0}),ho=M.createContext(null);ho.displayName="NavbarContext";const gm=M.createContext(null);gm.displayName="CardHeaderContext";const S0=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=it(e,"nav-item"),P.jsx(t,{ref:s,className:et(n,e),...r})));S0.displayName="NavItem";function xP(){return M.useState(null)}function CP(n,e,t,r=!1){const s=xn(t);M.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,s,r),()=>a.removeEventListener(e,s,r)},[n])}function E0(){const n=M.useRef(!0),e=M.useRef(()=>n.current);return M.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function M0(n){const e=M.useRef(null);return M.useEffect(()=>{e.current=n}),e.current}const Li=globalThis||void 0||self,PP=typeof Li<"u"&&Li.navigator&&Li.navigator.product==="ReactNative",NP=typeof document<"u",X1=NP||PP?M.useLayoutEffect:M.useEffect,AP=["onKeyDown"];function kP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function OP(n){return!n||n.trim()==="#"}const vm=M.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=kP(n,AP);const[s]=hm(Object.assign({tagName:"a"},r)),a=xn(u=>{s.onKeyDown(u),t==null||t(u)});return OP(r.href)||r.role==="button"?P.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:a})):P.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});vm.displayName="Anchor";const ym=M.forwardRef(({bsPrefix:n,className:e,as:t=vm,active:r,eventKey:s,disabled:a=!1,...u},c)=>{n=it(n,"nav-link");const[d,h]=mm({key:ua(s,u.href),active:r,disabled:a,...u});return P.jsx(t,{...u,...d,ref:c,disabled:a,className:et(e,n,a&&"disabled",h.isActive&&"active")})});ym.displayName="NavLink";const b0=M.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:s,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:d,className:h,activeKey:p,...g}=Ed(n,{activeKey:"onSelect"}),y=it(r,"nav");let _,w,E=!1;const S=M.useContext(ho),C=M.useContext(gm);return S?(_=S.bsPrefix,E=c??!0):C&&({cardHeaderBsPrefix:w}=C),P.jsx(w0,{as:t,ref:e,activeKey:p,className:et(h,{[y]:!E,[`${_}-nav`]:E,[`${_}-nav-scroll`]:E&&d,[`${w}-${s}`]:!!w,[`${y}-${s}`]:!!s,[`${y}-fill`]:a,[`${y}-justified`]:u}),...g})});b0.displayName="Nav";const oi=Object.assign(b0,{Item:S0,Link:ym}),T0=M.forwardRef(({bsPrefix:n,className:e,as:t,...r},s)=>{n=it(n,"navbar-brand");const a=t||(r.href?"a":"span");return P.jsx(a,{...r,ref:s,className:et(e,n)})});T0.displayName="NavbarBrand";function Td(n){return n&&n.ownerDocument||document}function RP(n){var e=Td(n);return e&&e.defaultView||window}function IP(n,e){return RP(n).getComputedStyle(n,e)}var DP=/([A-Z])/g;function LP(n){return n.replace(DP,"-$1").toLowerCase()}var jP=/^ms-/;function xc(n){return LP(n).replace(jP,"-ms-")}var FP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function UP(n){return!!(n&&FP.test(n))}function ji(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(xc(e))||IP(n).getPropertyValue(xc(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?n.style.removeProperty(xc(s)):UP(s)?r+=s+"("+a+") ":t+=xc(s)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Zh={exports:{}},Jh,Q1;function $P(){if(Q1)return Jh;Q1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jh=n,Jh}var ep,Z1;function BP(){if(Z1)return ep;Z1=1;var n=$P();function e(){}function t(){}return t.resetWarningCache=e,ep=function(){function r(u,c,d,h,p,g){if(g!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},ep}var J1;function x0(){return J1||(J1=1,Zh.exports=BP()()),Zh.exports}var VP=x0();const Ut=mi(VP),e_={disabled:!1},C0=At.createContext(null);var zP=function(e){return e.scrollTop},kl="unmounted",ps="exited",Br="entering",Ii="entered",Bl="exiting",Bi=function(n){fP(e,n);function e(r,s){var a;a=n.call(this,r,s)||this;var u=s,c=u&&!u.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?c?(d=ps,a.appearStatus=Br):d=Ii:r.unmountOnExit||r.mountOnEnter?d=kl:d=ps,a.state={status:d},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===kl?{status:ps}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Br&&u!==Ii&&(a=Br):(u===Br||u===Ii)&&(a=Bl)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,a,u,c;return a=u=c=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,c=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:c}},t.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Br){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Ks.findDOMNode(this);u&&zP(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ps&&this.setState({status:kl})},t.performEnter=function(s){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:s,d=this.props.nodeRef?[c]:[Ks.findDOMNode(this),c],h=d[0],p=d[1],g=this.getTimeouts(),y=c?g.appear:g.enter;if(!s&&!u||e_.disabled){this.safeSetState({status:Ii},function(){a.props.onEntered(h)});return}this.props.onEnter(h,p),this.safeSetState({status:Br},function(){a.props.onEntering(h,p),a.onTransitionEnd(y,function(){a.safeSetState({status:Ii},function(){a.props.onEntered(h,p)})})})},t.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Ks.findDOMNode(this);if(!a||e_.disabled){this.safeSetState({status:ps},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Bl},function(){s.props.onExiting(c),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:ps},function(){s.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},t.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Ks.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=d[0],p=d[1];this.props.addEndListener(h,p)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===kl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=m0(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return At.createElement(C0.Provider,{value:null},typeof u=="function"?u(s,c):At.cloneElement(At.Children.only(u),c))},e}(At.Component);Bi.contextType=C0;Bi.propTypes={};function Ho(){}Bi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ho,onEntering:Ho,onEntered:Ho,onExit:Ho,onExiting:Ho,onExited:Ho};Bi.UNMOUNTED=kl;Bi.EXITED=ps;Bi.ENTERING=Br;Bi.ENTERED=Ii;Bi.EXITING=Bl;function WP(n){return n.code==="Escape"||n.keyCode===27}function HP(){const n=M.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Na(n){if(!n||typeof n=="function")return null;const{major:e}=HP();return e>=19?n.props.ref:n.ref}const xd=!!(typeof window<"u"&&window.document&&window.document.createElement);var Cp=!1,Pp=!1;try{var tp={get passive(){return Cp=!0},get once(){return Pp=Cp=!0}};xd&&(window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,!0))}catch{}function P0(n,e,t,r){if(r&&typeof r!="boolean"&&!Pp){var s=r.once,a=r.capture,u=t;!Pp&&s&&(u=t.__once||function c(d){this.removeEventListener(e,c,a),t.call(this,d)},t.__once=u),n.addEventListener(e,u,Cp?r:a)}n.addEventListener(e,t,r)}function qP(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function ys(n,e,t,r){return P0(n,e,t,r),function(){qP(n,e,t,r)}}function GP(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function YP(n){var e=ji(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function KP(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||GP(n,"transitionend",!0)},e+t),a=ys(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function XP(n,e,t,r){t==null&&(t=YP(n)||0);var s=KP(n,t,r),a=ys(n,"transitionend",e);return function(){s(),a()}}function t_(n,e){const t=ji(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function _m(n,e){const t=t_(n,"transitionDuration"),r=t_(n,"transitionDelay"),s=XP(n,a=>{a.target===n&&(s(),e(a))},t+r)}function Cl(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function N0(n){n.offsetHeight}const n_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function QP(n,e){const t=n_(n),r=n_(e);return s=>{t&&t(s),r&&r(s)}}function wm(n,e){return M.useMemo(()=>QP(n,e),[n,e])}function ZP(n){return n&&"setState"in n?Ks.findDOMNode(n):n??null}const Sm=At.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:c,childRef:d,...h},p)=>{const g=M.useRef(null),y=wm(g,d),_=k=>{y(ZP(k))},w=k=>T=>{k&&g.current&&k(g.current,T)},E=M.useCallback(w(n),[n]),S=M.useCallback(w(e),[e]),C=M.useCallback(w(t),[t]),O=M.useCallback(w(r),[r]),R=M.useCallback(w(s),[s]),N=M.useCallback(w(a),[a]),x=M.useCallback(w(u),[u]);return P.jsx(Bi,{ref:p,...h,onEnter:E,onEntered:C,onEntering:S,onExit:O,onExited:N,onExiting:R,addEndListener:x,nodeRef:g,children:typeof c=="function"?(k,T)=>c(k,{...T,ref:_}):At.cloneElement(c,{ref:_})})}),JP={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function eN(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],s=JP[n];return r+parseInt(ji(e,s[0]),10)+parseInt(ji(e,s[1]),10)}const tN={[ps]:"collapse",[Bl]:"collapsing",[Br]:"collapsing",[Ii]:"collapse show"},nN=At.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,className:a,children:u,dimension:c="height",in:d=!1,timeout:h=300,mountOnEnter:p=!1,unmountOnExit:g=!1,appear:y=!1,getDimensionValue:_=eN,...w},E)=>{const S=typeof c=="function"?c():c,C=M.useMemo(()=>Cl(k=>{k.style[S]="0"},n),[S,n]),O=M.useMemo(()=>Cl(k=>{const T=`scroll${S[0].toUpperCase()}${S.slice(1)}`;k.style[S]=`${k[T]}px`},e),[S,e]),R=M.useMemo(()=>Cl(k=>{k.style[S]=null},t),[S,t]),N=M.useMemo(()=>Cl(k=>{k.style[S]=`${_(S,k)}px`,N0(k)},r),[r,_,S]),x=M.useMemo(()=>Cl(k=>{k.style[S]=null},s),[S,s]);return P.jsx(Sm,{ref:E,addEndListener:_m,...w,"aria-expanded":w.role?d:null,onEnter:C,onEntering:O,onEntered:R,onExit:N,onExiting:x,childRef:Na(u),in:d,timeout:h,mountOnEnter:p,unmountOnExit:g,appear:y,children:(k,T)=>At.cloneElement(u,{...T,className:et(a,u.props.className,tN[k],S==="width"&&"collapse-horizontal")})})}),A0=M.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=it(e,"navbar-collapse");const s=M.useContext(ho);return P.jsx(nN,{in:!!(s&&s.expanded),...t,children:P.jsx("div",{ref:r,className:e,children:n})})});A0.displayName="NavbarCollapse";function rN(n){const e=M.useRef(n);return M.useEffect(()=>{e.current=n},[n]),e}function Aa(n){const e=rN(n);return M.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const k0=M.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:s="button",onClick:a,...u},c)=>{n=it(n,"navbar-toggler");const{onToggle:d,expanded:h}=M.useContext(ho)||{},p=Aa(g=>{a&&a(g),d&&d()});return s==="button"&&(u.type="button"),P.jsx(s,{...u,ref:c,onClick:p,"aria-label":r,className:et(e,n,!h&&"collapsed"),children:t||P.jsx("span",{className:`${n}-icon`})})});k0.displayName="NavbarToggle";const iN=typeof Li<"u"&&Li.navigator&&Li.navigator.product==="ReactNative",sN=typeof document<"u",O0=sN||iN?M.useLayoutEffect:M.useEffect,Np=new WeakMap,r_=(n,e)=>{if(!n||!e)return;const t=Np.get(e)||new Map;Np.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function oN(n,e=typeof window>"u"?void 0:window){const t=r_(n,e),[r,s]=M.useState(()=>t?t.matches:!1);return O0(()=>{let a=r_(n,e);if(!a)return s(!1);let u=Np.get(e);const c=()=>{s(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(u==null||u.delete(a.media)),a=void 0}},[n]),r}function aN(n){const e=Object.keys(n);function t(c,d){return c===d?d:c?`${c} and ${d}`:d}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function s(c){const d=r(c);let h=n[d];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function a(c){let d=n[c];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function u(c,d,h){let p;typeof c=="object"?(p=c,h=d,d=!0):(d=d||!0,p={[c]:d});let g=M.useMemo(()=>Object.entries(p).reduce((y,[_,w])=>((w==="up"||w===!0)&&(y=t(y,a(_))),(w==="down"||w===!0)&&(y=t(y,s(_))),y),""),[JSON.stringify(p)]);return oN(g,h)}return u}const lN=aN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function np(n){n===void 0&&(n=Td());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function Kc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function uN(n){const e=M.useRef(n);return e.current=n,e}function cN(n){const e=uN(n);M.useEffect(()=>()=>e.current(),[])}function dN(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const i_=Pa("modal-open");class Em{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return dN(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(ji(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(i_,""),ji(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(i_),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const R0=M.createContext(xd?window:void 0);R0.Provider;function Cd(){return M.useContext(R0)}const rp=(n,e)=>xd?n==null?(e||Td()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function fN(n,e){const t=Cd(),[r,s]=M.useState(()=>rp(n,t==null?void 0:t.document));if(!r){const a=rp(n);a&&s(a)}return M.useEffect(()=>{},[e,r]),M.useEffect(()=>{const a=rp(n);a!==r&&s(a)},[n,r]),r}function hN({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const a=M.useRef(null),u=M.useRef(e),c=xn(t);M.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const d=Md(a,Na(n)),h=M.cloneElement(n,{ref:d});return e?h:s||!u.current&&r?null:h}const pN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function mN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function gN(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:c,children:d}=n,h=mN(n,pN);const p=M.useRef(null),g=Md(p,Na(d)),y=N=>x=>{N&&p.current&&N(p.current,x)},_=M.useCallback(y(e),[e]),w=M.useCallback(y(t),[t]),E=M.useCallback(y(r),[r]),S=M.useCallback(y(s),[s]),C=M.useCallback(y(a),[a]),O=M.useCallback(y(u),[u]),R=M.useCallback(y(c),[c]);return Object.assign({},h,{nodeRef:p},e&&{onEnter:_},t&&{onEntering:w},r&&{onEntered:E},s&&{onExit:S},a&&{onExiting:C},u&&{onExited:O},c&&{addEndListener:R},{children:typeof d=="function"?(N,x)=>d(N,Object.assign({},x,{ref:g})):M.cloneElement(d,{ref:g})})}const vN=["component"];function yN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const _N=M.forwardRef((n,e)=>{let{component:t}=n,r=yN(n,vN);const s=gN(r);return P.jsx(t,Object.assign({ref:e},s))});function wN({in:n,onTransition:e}){const t=M.useRef(null),r=M.useRef(!0),s=xn(e);return X1(()=>{if(!t.current)return;let a=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,s]),X1(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function SN({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[a,u]=M.useState(!e);e&&a&&u(!1);const c=wN({in:!!e,onTransition:h=>{const p=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(u(!0),t==null||t(h.element)))};Promise.resolve(s(h)).then(p,g=>{throw h.in||u(!0),g})}}),d=Md(c,Na(n));return a&&!e?null:M.cloneElement(n,{ref:d})}function s_(n,e,t){return n?P.jsx(_N,Object.assign({},t,{component:n})):e?P.jsx(SN,Object.assign({},t,{transition:e})):P.jsx(hN,Object.assign({},t))}const EN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function MN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let ip;function bN(n){return ip||(ip=new Em({ownerDocument:n==null?void 0:n.document})),ip}function TN(n){const e=Cd(),t=n||bN(e),r=M.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:M.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:M.useCallback(s=>{r.current.backdrop=s},[])})}const I0=M.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:a,children:u,backdrop:c=!0,keyboard:d=!0,onBackdropClick:h,onEscapeKeyDown:p,transition:g,runTransition:y,backdropTransition:_,runBackdropTransition:w,autoFocus:E=!0,enforceFocus:S=!0,restoreFocus:C=!0,restoreFocusOptions:O,renderDialog:R,renderBackdrop:N=fe=>P.jsx("div",Object.assign({},fe)),manager:x,container:k,onShow:T,onHide:A=()=>{},onExit:$,onExited:L,onExiting:V,onEnter:B,onEntering:J,onEntered:ne}=n,he=MN(n,EN);const se=Cd(),oe=fN(k),q=TN(x),ee=E0(),Q=M0(t),[D,Y]=M.useState(!t),te=M.useRef(null);M.useImperativeHandle(e,()=>q,[q]),xd&&!Q&&t&&(te.current=np(se==null?void 0:se.document)),t&&D&&Y(!1);const ye=xn(()=>{if(q.add(),pt.current=ys(document,"keydown",de),He.current=ys(document,"focus",()=>setTimeout(me),!0),T&&T(),E){var fe,xe;const st=np((fe=(xe=q.dialog)==null?void 0:xe.ownerDocument)!=null?fe:se==null?void 0:se.document);q.dialog&&st&&!Kc(q.dialog,st)&&(te.current=st,q.dialog.focus())}}),ce=xn(()=>{if(q.remove(),pt.current==null||pt.current(),He.current==null||He.current(),C){var fe;(fe=te.current)==null||fe.focus==null||fe.focus(O),te.current=null}});M.useEffect(()=>{!t||!oe||ye()},[t,oe,ye]),M.useEffect(()=>{D&&ce()},[D,ce]),cN(()=>{ce()});const me=xn(()=>{if(!S||!ee()||!q.isTopModal())return;const fe=np(se==null?void 0:se.document);q.dialog&&fe&&!Kc(q.dialog,fe)&&q.dialog.focus()}),je=xn(fe=>{fe.target===fe.currentTarget&&(h==null||h(fe),c===!0&&A())}),de=xn(fe=>{d&&WP(fe)&&q.isTopModal()&&(p==null||p(fe),fe.defaultPrevented||A())}),He=M.useRef(),pt=M.useRef(),mt=(...fe)=>{Y(!0),L==null||L(...fe)};if(!oe)return null;const lt=Object.assign({role:r,ref:q.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},he,{style:a,className:s,tabIndex:-1});let Ot=R?R(lt):P.jsx("div",Object.assign({},lt,{children:M.cloneElement(u,{role:"document"})}));Ot=s_(g,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:$,onExiting:V,onExited:mt,onEnter:B,onEntering:J,onEntered:ne,children:Ot});let un=null;return c&&(un=N({ref:q.setBackdropRef,onClick:je}),un=s_(_,w,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:un})),P.jsx(P.Fragment,{children:Ks.createPortal(P.jsxs(P.Fragment,{children:[un,Ot]}),oe)})});I0.displayName="Modal";const xN=Object.assign(I0,{Manager:Em}),CN={[Br]:"show",[Ii]:"show"},D0=M.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=M.useCallback((d,h)=>{N0(d),r==null||r(d,h)},[r]);return P.jsx(Sm,{ref:a,addEndListener:_m,...u,onEnter:c,childRef:Na(e),children:(d,h)=>M.cloneElement(e,{...h,className:et("fade",n,e.props.className,CN[d],t[d])})})});D0.displayName="Fade";const L0=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=it(e,"offcanvas-body"),P.jsx(t,{ref:s,className:et(n,e),...r})));L0.displayName="OffcanvasBody";const PN={[Br]:"show",[Ii]:"show"},j0=M.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:u=!1,...c},d)=>(n=it(n,"offcanvas"),P.jsx(Sm,{ref:d,addEndListener:_m,in:r,mountOnEnter:s,unmountOnExit:a,appear:u,...c,childRef:Na(t),children:(h,p)=>M.cloneElement(t,{...p,className:et(e,t.props.className,(h===Br||h===Bl)&&`${n}-toggling`,PN[h])})})));j0.displayName="OffcanvasToggling";const F0=M.createContext({onHide(){}}),NN={"aria-label":Ut.string,onClick:Ut.func,variant:Ut.oneOf(["white"])},Mm=M.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>P.jsx("button",{ref:s,type:"button",className:et("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Mm.displayName="CloseButton";Mm.propTypes=NN;const AN=M.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...a},u)=>{const c=M.useContext(F0),d=Aa(()=>{c==null||c.onHide(),r==null||r()});return P.jsxs("div",{ref:u,...a,children:[s,t&&P.jsx(Mm,{"aria-label":n,variant:e,onClick:d})]})}),U0=M.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=it(n,"offcanvas-header"),P.jsx(AN,{ref:a,...s,className:et(e,n),closeLabel:t,closeButton:r})));U0.displayName="OffcanvasHeader";const bm=n=>M.forwardRef((e,t)=>P.jsx("div",{...e,ref:t,className:et(e.className,n)})),kN=bm("h5"),$0=M.forwardRef(({className:n,bsPrefix:e,as:t=kN,...r},s)=>(e=it(e,"offcanvas-title"),P.jsx(t,{ref:s,className:et(n,e),...r})));$0.displayName="OffcanvasTitle";function ON(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function RN(n,e){n.classList?n.classList.add(e):ON(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function o_(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function IN(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=o_(n.className,e):n.setAttribute("class",o_(n.className&&n.className.baseVal||"",e))}const qo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class B0 extends Em{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,ji(t,{[e]:`${parseFloat(ji(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],ji(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(RN(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ri(t,qo.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ri(t,qo.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Ri(t,qo.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();IN(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ri(t,qo.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ri(t,qo.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Ri(t,qo.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let sp;function DN(n){return sp||(sp=new B0(n)),sp}function LN(n){return P.jsx(j0,{...n})}function jN(n){return P.jsx(D0,{...n})}const V0=M.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:s="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:p,onShow:g,onHide:y,container:_,autoFocus:w=!0,enforceFocus:E=!0,restoreFocus:S=!0,restoreFocusOptions:C,onEntered:O,onExit:R,onExiting:N,onEnter:x,onEntering:k,onExited:T,backdropClassName:A,manager:$,renderStaticNode:L=!1,...V},B)=>{const J=M.useRef();n=it(n,"offcanvas");const[ne,he]=M.useState(!1),se=Aa(y),oe=lN(a||"xs","up");M.useEffect(()=>{he(a?u&&!oe:u)},[u,a,oe]);const q=M.useMemo(()=>({onHide:se}),[se]);function ee(){return $||(h?(J.current||(J.current=new B0({handleContainerOverflow:!1})),J.current):DN())}const Q=(ye,...ce)=>{ye&&(ye.style.visibility="visible"),x==null||x(ye,...ce)},D=(ye,...ce)=>{ye&&(ye.style.visibility=""),T==null||T(...ce)},Y=M.useCallback(ye=>P.jsx("div",{...ye,className:et(`${n}-backdrop`,A)}),[A,n]),te=ye=>P.jsx("div",{...ye,...V,className:et(e,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":r,children:t});return P.jsxs(P.Fragment,{children:[!ne&&(a||L)&&te({}),P.jsx(F0.Provider,{value:q,children:P.jsx(xN,{show:ne,ref:B,backdrop:c,container:_,keyboard:d,autoFocus:w,enforceFocus:E&&!h,restoreFocus:S,restoreFocusOptions:C,onEscapeKeyDown:p,onShow:g,onHide:se,onEnter:Q,onEntering:k,onEntered:O,onExit:R,onExiting:N,onExited:D,manager:ee(),transition:LN,backdropTransition:jN,renderBackdrop:Y,renderDialog:te})})]})});V0.displayName="Offcanvas";const FN=Object.assign(V0,{Body:L0,Header:U0,Title:$0}),z0=M.forwardRef(({onHide:n,...e},t)=>{const r=M.useContext(ho),s=Aa(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return P.jsx(FN,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});z0.displayName="NavbarOffcanvas";const W0=M.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=it(e,"navbar-text"),P.jsx(t,{ref:s,className:et(n,e),...r})));W0.displayName="NavbarText";const H0=M.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:s="light",bg:a,fixed:u,sticky:c,className:d,as:h="nav",expanded:p,onToggle:g,onSelect:y,collapseOnSelect:_=!1,...w}=Ed(n,{expanded:"onToggle"}),E=it(t,"navbar"),S=M.useCallback((...R)=>{y==null||y(...R),_&&p&&(g==null||g(!1))},[y,_,p,g]);w.role===void 0&&h!=="nav"&&(w.role="navigation");let C=`${E}-expand`;typeof r=="string"&&(C=`${C}-${r}`);const O=M.useMemo(()=>({onToggle:()=>g==null?void 0:g(!p),bsPrefix:E,expanded:!!p,expand:r}),[E,p,r,g]);return P.jsx(ho.Provider,{value:O,children:P.jsx(oo.Provider,{value:S,children:P.jsx(h,{ref:e,...w,className:et(d,E,r&&C,s&&`${E}-${s}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});H0.displayName="Navbar";const a_=Object.assign(H0,{Brand:T0,Collapse:A0,Offcanvas:z0,Text:W0,Toggle:k0});function UN(n,e,t){const r=M.useRef(n!==void 0),[s,a]=M.useState(e),u=n!==void 0,c=r.current;return r.current=u,!u&&c&&s!==e&&a(e),[u?n:s,M.useCallback((...d)=>{const[h,...p]=d;let g=t==null?void 0:t(h,...p);return a(h),g},[t])]}const Pd=M.createContext(null);var l_=Object.prototype.hasOwnProperty;function u_(n,e,t){for(t of n.keys())if(Rl(t,e))return t}function Rl(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Rl(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=u_(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=u_(e,s),!s)||!Rl(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(l_.call(n,t)&&++r&&!l_.call(e,t)||!(t in e)||!Rl(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function $N(n){const e=E0();return[n[0],M.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Yn="top",Cr="bottom",Pr="right",Kn="left",Tm="auto",Jl=[Yn,Cr,Pr,Kn],ca="start",Vl="end",BN="clippingParents",q0="viewport",Pl="popper",VN="reference",c_=Jl.reduce(function(n,e){return n.concat([e+"-"+ca,e+"-"+Vl])},[]),G0=[].concat(Jl,[Tm]).reduce(function(n,e){return n.concat([e,e+"-"+ca,e+"-"+Vl])},[]),zN="beforeRead",WN="read",HN="afterRead",qN="beforeMain",GN="main",YN="afterMain",KN="beforeWrite",XN="write",QN="afterWrite",ZN=[zN,WN,HN,qN,GN,YN,KN,XN,QN];function ci(n){return n.split("-")[0]}function ur(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ao(n){var e=ur(n).Element;return n instanceof e||n instanceof Element}function di(n){var e=ur(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function xm(n){if(typeof ShadowRoot>"u")return!1;var e=ur(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var to=Math.max,Xc=Math.min,da=Math.round;function Ap(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Y0(){return!/^((?!chrome|android).)*safari/i.test(Ap())}function fa(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,a=1;e&&di(n)&&(s=n.offsetWidth>0&&da(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&da(r.height)/n.offsetHeight||1);var u=ao(n)?ur(n):window,c=u.visualViewport,d=!Y0()&&t,h=(r.left+(d&&c?c.offsetLeft:0))/s,p=(r.top+(d&&c?c.offsetTop:0))/a,g=r.width/s,y=r.height/a;return{width:g,height:y,top:p,right:h+g,bottom:p+y,left:h,x:h,y:p}}function Cm(n){var e=fa(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function K0(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&xm(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ms(n){return n?(n.nodeName||"").toLowerCase():null}function $i(n){return ur(n).getComputedStyle(n)}function JN(n){return["table","td","th"].indexOf(Ms(n))>=0}function As(n){return((ao(n)?n.ownerDocument:n.document)||window.document).documentElement}function Nd(n){return Ms(n)==="html"?n:n.assignedSlot||n.parentNode||(xm(n)?n.host:null)||As(n)}function d_(n){return!di(n)||$i(n).position==="fixed"?null:n.offsetParent}function eA(n){var e=/firefox/i.test(Ap()),t=/Trident/i.test(Ap());if(t&&di(n)){var r=$i(n);if(r.position==="fixed")return null}var s=Nd(n);for(xm(s)&&(s=s.host);di(s)&&["html","body"].indexOf(Ms(s))<0;){var a=$i(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function eu(n){for(var e=ur(n),t=d_(n);t&&JN(t)&&$i(t).position==="static";)t=d_(t);return t&&(Ms(t)==="html"||Ms(t)==="body"&&$i(t).position==="static")?e:t||eA(n)||e}function Pm(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Il(n,e,t){return to(n,Xc(e,t))}function tA(n,e,t){var r=Il(n,e,t);return r>t?t:r}function X0(){return{top:0,right:0,bottom:0,left:0}}function Q0(n){return Object.assign({},X0(),n)}function Z0(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var nA=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Q0(typeof e!="number"?e:Z0(e,Jl))};function rA(n){var e,t=n.state,r=n.name,s=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,c=ci(t.placement),d=Pm(c),h=[Kn,Pr].indexOf(c)>=0,p=h?"height":"width";if(!(!a||!u)){var g=nA(s.padding,t),y=Cm(a),_=d==="y"?Yn:Kn,w=d==="y"?Cr:Pr,E=t.rects.reference[p]+t.rects.reference[d]-u[d]-t.rects.popper[p],S=u[d]-t.rects.reference[d],C=eu(a),O=C?d==="y"?C.clientHeight||0:C.clientWidth||0:0,R=E/2-S/2,N=g[_],x=O-y[p]-g[w],k=O/2-y[p]/2+R,T=Il(N,k,x),A=d;t.modifiersData[r]=(e={},e[A]=T,e.centerOffset=T-k,e)}}function iA(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||K0(e.elements.popper,s)&&(e.elements.arrow=s))}const sA={name:"arrow",enabled:!0,phase:"main",fn:rA,effect:iA,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ha(n){return n.split("-")[1]}var oA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aA(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:da(t*s)/s||0,y:da(r*s)/s||0}}function f_(n){var e,t=n.popper,r=n.popperRect,s=n.placement,a=n.variation,u=n.offsets,c=n.position,d=n.gpuAcceleration,h=n.adaptive,p=n.roundOffsets,g=n.isFixed,y=u.x,_=y===void 0?0:y,w=u.y,E=w===void 0?0:w,S=typeof p=="function"?p({x:_,y:E}):{x:_,y:E};_=S.x,E=S.y;var C=u.hasOwnProperty("x"),O=u.hasOwnProperty("y"),R=Kn,N=Yn,x=window;if(h){var k=eu(t),T="clientHeight",A="clientWidth";if(k===ur(t)&&(k=As(t),$i(k).position!=="static"&&c==="absolute"&&(T="scrollHeight",A="scrollWidth")),k=k,s===Yn||(s===Kn||s===Pr)&&a===Vl){N=Cr;var $=g&&k===x&&x.visualViewport?x.visualViewport.height:k[T];E-=$-r.height,E*=d?1:-1}if(s===Kn||(s===Yn||s===Cr)&&a===Vl){R=Pr;var L=g&&k===x&&x.visualViewport?x.visualViewport.width:k[A];_-=L-r.width,_*=d?1:-1}}var V=Object.assign({position:c},h&&oA),B=p===!0?aA({x:_,y:E},ur(t)):{x:_,y:E};if(_=B.x,E=B.y,d){var J;return Object.assign({},V,(J={},J[N]=O?"0":"",J[R]=C?"0":"",J.transform=(x.devicePixelRatio||1)<=1?"translate("+_+"px, "+E+"px)":"translate3d("+_+"px, "+E+"px, 0)",J))}return Object.assign({},V,(e={},e[N]=O?E+"px":"",e[R]=C?_+"px":"",e.transform="",e))}function lA(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,c=t.roundOffsets,d=c===void 0?!0:c,h={placement:ci(e.placement),variation:ha(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,f_(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,f_(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const uA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lA,data:{}};var Cc={passive:!0};function cA(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,a=s===void 0?!0:s,u=r.resize,c=u===void 0?!0:u,d=ur(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach(function(p){p.addEventListener("scroll",t.update,Cc)}),c&&d.addEventListener("resize",t.update,Cc),function(){a&&h.forEach(function(p){p.removeEventListener("scroll",t.update,Cc)}),c&&d.removeEventListener("resize",t.update,Cc)}}const dA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cA,data:{}};var fA={left:"right",right:"left",bottom:"top",top:"bottom"};function jc(n){return n.replace(/left|right|bottom|top/g,function(e){return fA[e]})}var hA={start:"end",end:"start"};function h_(n){return n.replace(/start|end/g,function(e){return hA[e]})}function Nm(n){var e=ur(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Am(n){return fa(As(n)).left+Nm(n).scrollLeft}function pA(n,e){var t=ur(n),r=As(n),s=t.visualViewport,a=r.clientWidth,u=r.clientHeight,c=0,d=0;if(s){a=s.width,u=s.height;var h=Y0();(h||!h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:a,height:u,x:c+Am(n),y:d}}function mA(n){var e,t=As(n),r=Nm(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=to(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),u=to(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+Am(n),d=-r.scrollTop;return $i(s||t).direction==="rtl"&&(c+=to(t.clientWidth,s?s.clientWidth:0)-a),{width:a,height:u,x:c,y:d}}function km(n){var e=$i(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function J0(n){return["html","body","#document"].indexOf(Ms(n))>=0?n.ownerDocument.body:di(n)&&km(n)?n:J0(Nd(n))}function Dl(n,e){var t;e===void 0&&(e=[]);var r=J0(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),a=ur(r),u=s?[a].concat(a.visualViewport||[],km(r)?r:[]):r,c=e.concat(u);return s?c:c.concat(Dl(Nd(u)))}function kp(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function gA(n,e){var t=fa(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function p_(n,e,t){return e===q0?kp(pA(n,t)):ao(e)?gA(e,t):kp(mA(As(n)))}function vA(n){var e=Dl(Nd(n)),t=["absolute","fixed"].indexOf($i(n).position)>=0,r=t&&di(n)?eu(n):n;return ao(r)?e.filter(function(s){return ao(s)&&K0(s,r)&&Ms(s)!=="body"}):[]}function yA(n,e,t,r){var s=e==="clippingParents"?vA(n):[].concat(e),a=[].concat(s,[t]),u=a[0],c=a.reduce(function(d,h){var p=p_(n,h,r);return d.top=to(p.top,d.top),d.right=Xc(p.right,d.right),d.bottom=Xc(p.bottom,d.bottom),d.left=to(p.left,d.left),d},p_(n,u,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function eS(n){var e=n.reference,t=n.element,r=n.placement,s=r?ci(r):null,a=r?ha(r):null,u=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,d;switch(s){case Yn:d={x:u,y:e.y-t.height};break;case Cr:d={x:u,y:e.y+e.height};break;case Pr:d={x:e.x+e.width,y:c};break;case Kn:d={x:e.x-t.width,y:c};break;default:d={x:e.x,y:e.y}}var h=s?Pm(s):null;if(h!=null){var p=h==="y"?"height":"width";switch(a){case ca:d[h]=d[h]-(e[p]/2-t[p]/2);break;case Vl:d[h]=d[h]+(e[p]/2-t[p]/2);break}}return d}function zl(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,c=t.boundary,d=c===void 0?BN:c,h=t.rootBoundary,p=h===void 0?q0:h,g=t.elementContext,y=g===void 0?Pl:g,_=t.altBoundary,w=_===void 0?!1:_,E=t.padding,S=E===void 0?0:E,C=Q0(typeof S!="number"?S:Z0(S,Jl)),O=y===Pl?VN:Pl,R=n.rects.popper,N=n.elements[w?O:y],x=yA(ao(N)?N:N.contextElement||As(n.elements.popper),d,p,u),k=fa(n.elements.reference),T=eS({reference:k,element:R,placement:s}),A=kp(Object.assign({},R,T)),$=y===Pl?A:k,L={top:x.top-$.top+C.top,bottom:$.bottom-x.bottom+C.bottom,left:x.left-$.left+C.left,right:$.right-x.right+C.right},V=n.modifiersData.offset;if(y===Pl&&V){var B=V[s];Object.keys(L).forEach(function(J){var ne=[Pr,Cr].indexOf(J)>=0?1:-1,he=[Yn,Cr].indexOf(J)>=0?"y":"x";L[J]+=B[he]*ne})}return L}function _A(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,a=t.rootBoundary,u=t.padding,c=t.flipVariations,d=t.allowedAutoPlacements,h=d===void 0?G0:d,p=ha(r),g=p?c?c_:c_.filter(function(w){return ha(w)===p}):Jl,y=g.filter(function(w){return h.indexOf(w)>=0});y.length===0&&(y=g);var _=y.reduce(function(w,E){return w[E]=zl(n,{placement:E,boundary:s,rootBoundary:a,padding:u})[ci(E)],w},{});return Object.keys(_).sort(function(w,E){return _[w]-_[E]})}function wA(n){if(ci(n)===Tm)return[];var e=jc(n);return[h_(n),e,h_(e)]}function SA(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,a=s===void 0?!0:s,u=t.altAxis,c=u===void 0?!0:u,d=t.fallbackPlacements,h=t.padding,p=t.boundary,g=t.rootBoundary,y=t.altBoundary,_=t.flipVariations,w=_===void 0?!0:_,E=t.allowedAutoPlacements,S=e.options.placement,C=ci(S),O=C===S,R=d||(O||!w?[jc(S)]:wA(S)),N=[S].concat(R).reduce(function(ye,ce){return ye.concat(ci(ce)===Tm?_A(e,{placement:ce,boundary:p,rootBoundary:g,padding:h,flipVariations:w,allowedAutoPlacements:E}):ce)},[]),x=e.rects.reference,k=e.rects.popper,T=new Map,A=!0,$=N[0],L=0;L<N.length;L++){var V=N[L],B=ci(V),J=ha(V)===ca,ne=[Yn,Cr].indexOf(B)>=0,he=ne?"width":"height",se=zl(e,{placement:V,boundary:p,rootBoundary:g,altBoundary:y,padding:h}),oe=ne?J?Pr:Kn:J?Cr:Yn;x[he]>k[he]&&(oe=jc(oe));var q=jc(oe),ee=[];if(a&&ee.push(se[B]<=0),c&&ee.push(se[oe]<=0,se[q]<=0),ee.every(function(ye){return ye})){$=V,A=!1;break}T.set(V,ee)}if(A)for(var Q=w?3:1,D=function(ce){var me=N.find(function(je){var de=T.get(je);if(de)return de.slice(0,ce).every(function(He){return He})});if(me)return $=me,"break"},Y=Q;Y>0;Y--){var te=D(Y);if(te==="break")break}e.placement!==$&&(e.modifiersData[r]._skip=!0,e.placement=$,e.reset=!0)}}const EA={name:"flip",enabled:!0,phase:"main",fn:SA,requiresIfExists:["offset"],data:{_skip:!1}};function m_(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function g_(n){return[Yn,Pr,Cr,Kn].some(function(e){return n[e]>=0})}function MA(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,u=zl(e,{elementContext:"reference"}),c=zl(e,{altBoundary:!0}),d=m_(u,r),h=m_(c,s,a),p=g_(d),g=g_(h);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}const bA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:MA};function TA(n,e,t){var r=ci(n),s=[Kn,Yn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],c=a[1];return u=u||0,c=(c||0)*s,[Kn,Pr].indexOf(r)>=0?{x:c,y:u}:{x:u,y:c}}function xA(n){var e=n.state,t=n.options,r=n.name,s=t.offset,a=s===void 0?[0,0]:s,u=G0.reduce(function(p,g){return p[g]=TA(g,e.rects,a),p},{}),c=u[e.placement],d=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=u}const CA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xA};function PA(n){var e=n.state,t=n.name;e.modifiersData[t]=eS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const NA={name:"popperOffsets",enabled:!0,phase:"read",fn:PA,data:{}};function AA(n){return n==="x"?"y":"x"}function kA(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,a=s===void 0?!0:s,u=t.altAxis,c=u===void 0?!1:u,d=t.boundary,h=t.rootBoundary,p=t.altBoundary,g=t.padding,y=t.tether,_=y===void 0?!0:y,w=t.tetherOffset,E=w===void 0?0:w,S=zl(e,{boundary:d,rootBoundary:h,padding:g,altBoundary:p}),C=ci(e.placement),O=ha(e.placement),R=!O,N=Pm(C),x=AA(N),k=e.modifiersData.popperOffsets,T=e.rects.reference,A=e.rects.popper,$=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,L=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(k){if(a){var J,ne=N==="y"?Yn:Kn,he=N==="y"?Cr:Pr,se=N==="y"?"height":"width",oe=k[N],q=oe+S[ne],ee=oe-S[he],Q=_?-A[se]/2:0,D=O===ca?T[se]:A[se],Y=O===ca?-A[se]:-T[se],te=e.elements.arrow,ye=_&&te?Cm(te):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:X0(),me=ce[ne],je=ce[he],de=Il(0,T[se],ye[se]),He=R?T[se]/2-Q-de-me-L.mainAxis:D-de-me-L.mainAxis,pt=R?-T[se]/2+Q+de+je+L.mainAxis:Y+de+je+L.mainAxis,mt=e.elements.arrow&&eu(e.elements.arrow),lt=mt?N==="y"?mt.clientTop||0:mt.clientLeft||0:0,Ot=(J=V==null?void 0:V[N])!=null?J:0,un=oe+He-Ot-lt,fe=oe+pt-Ot,xe=Il(_?Xc(q,un):q,oe,_?to(ee,fe):ee);k[N]=xe,B[N]=xe-oe}if(c){var st,ut=N==="x"?Yn:Kn,qe=N==="x"?Cr:Pr,Xe=k[x],vt=x==="y"?"height":"width",Yt=Xe+S[ut],Pn=Xe-S[qe],Zt=[Yn,Kn].indexOf(C)!==-1,Nn=(st=V==null?void 0:V[x])!=null?st:0,hr=Zt?Yt:Xe-T[vt]-A[vt]-Nn+L.altAxis,Sn=Zt?Xe+T[vt]+A[vt]-Nn-L.altAxis:Pn,cn=_&&Zt?tA(hr,Xe,Sn):Il(_?hr:Yt,Xe,_?Sn:Pn);k[x]=cn,B[x]=cn-Xe}e.modifiersData[r]=B}}const OA={name:"preventOverflow",enabled:!0,phase:"main",fn:kA,requiresIfExists:["offset"]};function RA(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function IA(n){return n===ur(n)||!di(n)?Nm(n):RA(n)}function DA(n){var e=n.getBoundingClientRect(),t=da(e.width)/n.offsetWidth||1,r=da(e.height)/n.offsetHeight||1;return t!==1||r!==1}function LA(n,e,t){t===void 0&&(t=!1);var r=di(e),s=di(e)&&DA(e),a=As(e),u=fa(n,s,t),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Ms(e)!=="body"||km(a))&&(c=IA(e)),di(e)?(d=fa(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=Am(a))),{x:u.left+c.scrollLeft-d.x,y:u.top+c.scrollTop-d.y,width:u.width,height:u.height}}function jA(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function s(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!t.has(c)){var d=e.get(c);d&&s(d)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||s(a)}),r}function FA(n){var e=jA(n);return ZN.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function UA(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function $A(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var v_={placement:"bottom",modifiers:[],strategy:"absolute"};function y_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function BA(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,a=s===void 0?v_:s;return function(c,d,h){h===void 0&&(h=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},v_,a),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],y=!1,_={state:p,setOptions:function(C){var O=typeof C=="function"?C(p.options):C;E(),p.options=Object.assign({},a,p.options,O),p.scrollParents={reference:ao(c)?Dl(c):c.contextElement?Dl(c.contextElement):[],popper:Dl(d)};var R=FA($A([].concat(r,p.options.modifiers)));return p.orderedModifiers=R.filter(function(N){return N.enabled}),w(),_.update()},forceUpdate:function(){if(!y){var C=p.elements,O=C.reference,R=C.popper;if(y_(O,R)){p.rects={reference:LA(O,eu(R),p.options.strategy==="fixed"),popper:Cm(R)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(L){return p.modifiersData[L.name]=Object.assign({},L.data)});for(var N=0;N<p.orderedModifiers.length;N++){if(p.reset===!0){p.reset=!1,N=-1;continue}var x=p.orderedModifiers[N],k=x.fn,T=x.options,A=T===void 0?{}:T,$=x.name;typeof k=="function"&&(p=k({state:p,options:A,name:$,instance:_})||p)}}}},update:UA(function(){return new Promise(function(S){_.forceUpdate(),S(p)})}),destroy:function(){E(),y=!0}};if(!y_(c,d))return _;_.setOptions(h).then(function(S){!y&&h.onFirstUpdate&&h.onFirstUpdate(S)});function w(){p.orderedModifiers.forEach(function(S){var C=S.name,O=S.options,R=O===void 0?{}:O,N=S.effect;if(typeof N=="function"){var x=N({state:p,name:C,instance:_,options:R}),k=function(){};g.push(x||k)}})}function E(){g.forEach(function(S){return S()}),g=[]}return _}}const VA=BA({defaultModifiers:[bA,NA,uA,dA,CA,EA,OA,sA]}),zA=["enabled","placement","strategy","modifiers"];function WA(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const HA={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},qA={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},GA=[];function YA(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:a="absolute",modifiers:u=GA}=t,c=WA(t,zA);const d=M.useRef(u),h=M.useRef(),p=M.useCallback(()=>{var S;(S=h.current)==null||S.update()},[]),g=M.useCallback(()=>{var S;(S=h.current)==null||S.forceUpdate()},[]),[y,_]=$N(M.useState({placement:s,update:p,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),w=M.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const C={},O={};Object.keys(S.elements).forEach(R=>{C[R]=S.styles[R],O[R]=S.attributes[R]}),_({state:S,styles:C,attributes:O,update:p,forceUpdate:g,placement:S.placement})}}),[p,g,_]),E=M.useMemo(()=>(Rl(d.current,u)||(d.current=u),d.current),[u]);return M.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:s,strategy:a,modifiers:[...E,w,HA]})},[a,s,w,r,E]),M.useEffect(()=>{if(!(!r||n==null||e==null))return h.current=VA(n,e,Object.assign({},c,{placement:s,strategy:a,modifiers:[...E,qA,w]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,_(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),y}var op,__;function KA(){if(__)return op;__=1;var n=function(){};return op=n,op}var XA=KA();const QA=mi(XA),w_=()=>{};function ZA(n){return n.button===0}function JA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const ap=n=>n&&("current"in n?n.current:n),S_={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function ek(n,e=w_,{disabled:t,clickTrigger:r="click"}={}){const s=M.useRef(!1),a=M.useRef(!1),u=M.useCallback(h=>{const p=ap(n);QA(!!p,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!p||JA(h)||!ZA(h)||!!Kc(p,h.target)||a.current,a.current=!1},[n]),c=xn(h=>{const p=ap(n);p&&Kc(p,h.target)?a.current=!0:a.current=!1}),d=xn(h=>{s.current||e(h)});M.useEffect(()=>{var h,p;if(t||n==null)return;const g=Td(ap(n)),y=g.defaultView||window;let _=(h=y.event)!=null?h:(p=y.parent)==null?void 0:p.event,w=null;S_[r]&&(w=ys(g,S_[r],c,!0));const E=ys(g,r,u,!0),S=ys(g,r,O=>{if(O===_){_=void 0;return}d(O)});let C=[];return"ontouchstart"in g.documentElement&&(C=[].slice.call(g.body.children).map(O=>ys(O,"mousemove",w_))),()=>{w==null||w(),E(),S(),C.forEach(O=>O())}},[n,t,r,u,c,d])}function tk(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function nk(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function rk({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:a,containerPadding:u,arrowElement:c,popperConfig:d={}}){var h,p,g,y,_;const w=tk(d.modifiers);return Object.assign({},d,{placement:t,enabled:n,strategy:a?"fixed":d.strategy,modifiers:nk(Object.assign({},w,{eventListeners:{enabled:e,options:(h=w.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},w.preventOverflow,{options:u?Object.assign({padding:u},(p=w.preventOverflow)==null?void 0:p.options):(g=w.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:s},(y=w.offset)==null?void 0:y.options)},arrow:Object.assign({},w.arrow,{enabled:!!c,options:Object.assign({},(_=w.arrow)==null?void 0:_.options,{element:c})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const ik=["children","usePopper"];function sk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const ok=()=>{};function tS(n={}){const e=M.useContext(Pd),[t,r]=xP(),s=M.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:d=!1,placement:h,popperConfig:p={},enableEventListeners:g=!0,usePopper:y=!!e}=n,_=(e==null?void 0:e.show)==null?!!n.show:e.show;_&&!s.current&&(s.current=!0);const w=k=>{e==null||e.toggle(!1,k)},{placement:E,setMenu:S,menuElement:C,toggleElement:O}=e||{},R=YA(O,C,rk({placement:h||E||"bottom-start",enabled:y,enableEvents:g??_,offset:u,flip:a,fixed:d,arrowElement:t,popperConfig:p})),N=Object.assign({ref:S||ok,"aria-labelledby":O==null?void 0:O.id},R.attributes.popper,{style:R.styles.popper}),x={show:_,placement:E,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:y?R:null,arrowProps:y?Object.assign({ref:r},R.attributes.arrow,{style:R.styles.arrow}):{}};return ek(C,w,{clickTrigger:c,disabled:!_}),[N,x]}function nS(n){let{children:e,usePopper:t=!0}=n,r=sk(n,ik);const[s,a]=tS(Object.assign({},r,{usePopper:t}));return P.jsx(P.Fragment,{children:e(s,a)})}nS.displayName="DropdownMenu";const Om={prefix:String(Math.round(Math.random()*1e10)),current:0},rS=At.createContext(Om),ak=At.createContext(!1);let lk=!!(typeof window<"u"&&window.document&&window.document.createElement),lp=new WeakMap;function uk(n=!1){let e=M.useContext(rS),t=M.useRef(null);if(t.current===null&&!n){var r,s;let a=(s=At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let u=lp.get(a);u==null?lp.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,lp.delete(a))}t.current=++e.current}return t.current}function ck(n){let e=M.useContext(rS);e===Om&&!lk&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=uk(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function dk(n){let e=At.useId(),[t]=M.useState(gk()),r=t?"react-aria":`react-aria${Om.prefix}`;return n||`${r}-${e}`}const fk=typeof At.useId=="function"?dk:ck;function hk(){return!1}function pk(){return!0}function mk(n){return()=>{}}function gk(){return typeof At.useSyncExternalStore=="function"?At.useSyncExternalStore(mk,hk,pk):M.useContext(ak)}const iS=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},E_=()=>{};function sS(){const n=fk(),{show:e=!1,toggle:t=E_,setToggle:r,menuElement:s}=M.useContext(Pd)||{},a=M.useCallback(c=>{t(!e,c)},[e,t]),u={id:n,ref:r||E_,onClick:a,"aria-expanded":!!e};return s&&iS(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function oS({children:n}){const[e,t]=sS();return P.jsx(P.Fragment,{children:n(e,t)})}oS.displayName="DropdownToggle";const vk=["eventKey","disabled","onClick","active","as"];function yk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function aS({key:n,href:e,active:t,disabled:r,onClick:s}){const a=M.useContext(oo),u=M.useContext(bd),{activeKey:c}=u||{},d=ua(n,e),h=t==null&&n!=null?ua(c)===d:t;return[{onClick:xn(g=>{r||(s==null||s(g),a&&!g.isPropagationStopped()&&a(d,g))}),"aria-disabled":r||void 0,"aria-selected":h,[Pa("dropdown-item")]:""},{isActive:h}]}const lS=M.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:a,as:u=pm}=n,c=yk(n,vk);const[d]=aS({key:t,href:c.href,disabled:r,onClick:s,active:a});return P.jsx(u,Object.assign({},c,{ref:e},d))});lS.displayName="DropdownItem";function M_(){const n=g0(),e=M.useRef(null),t=M.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function tu({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${Pa("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const d=Cd(),[h,p]=UN(e,n,r),[g,y]=M_(),_=g.current,[w,E]=M_(),S=w.current,C=M0(h),O=M.useRef(null),R=M.useRef(!1),N=M.useContext(oo),x=M.useCallback((V,B,J=B==null?void 0:B.type)=>{p(V,{originalEvent:B,source:J})},[p]),k=xn((V,B)=>{t==null||t(V,B),x(!1,B,"select"),B.isPropagationStopped()||N==null||N(V,B)}),T=M.useMemo(()=>({toggle:x,placement:u,show:h,menuElement:_,toggleElement:S,setMenu:y,setToggle:E}),[x,u,h,_,S,y,E]);_&&C&&!h&&(R.current=_.contains(_.ownerDocument.activeElement));const A=xn(()=>{S&&S.focus&&S.focus()}),$=xn(()=>{const V=O.current;let B=a;if(B==null&&(B=g.current&&iS(g.current)?"keyboard":!1),B===!1||B==="keyboard"&&!/^key.+$/.test(V))return;const J=Ri(g.current,s)[0];J&&J.focus&&J.focus()});M.useEffect(()=>{h?$():R.current&&(R.current=!1,A())},[h,R,A,$]),M.useEffect(()=>{O.current=null});const L=(V,B)=>{if(!g.current)return null;const J=Ri(g.current,s);let ne=J.indexOf(V)+B;return ne=Math.max(0,Math.min(ne,J.length)),J[ne]};return CP(M.useCallback(()=>d.document,[d]),"keydown",V=>{var B,J;const{key:ne}=V,he=V.target,se=(B=g.current)==null?void 0:B.contains(he),oe=(J=w.current)==null?void 0:J.contains(he);if(/input|textarea/i.test(he.tagName)&&(ne===" "||ne!=="Escape"&&se||ne==="Escape"&&he.type==="search")||!se&&!oe||ne==="Tab"&&(!g.current||!h))return;O.current=V.type;const ee={originalEvent:V,source:V.type};switch(ne){case"ArrowUp":{const Q=L(he,-1);Q&&Q.focus&&Q.focus(),V.preventDefault();return}case"ArrowDown":if(V.preventDefault(),!h)p(!0,ee);else{const Q=L(he,1);Q&&Q.focus&&Q.focus()}return;case"Tab":P0(he.ownerDocument,"keyup",Q=>{var D;(Q.key==="Tab"&&!Q.target||!((D=g.current)!=null&&D.contains(Q.target)))&&p(!1,ee)},{once:!0});break;case"Escape":ne==="Escape"&&(V.preventDefault(),V.stopPropagation()),p(!1,ee);break}}),P.jsx(oo.Provider,{value:k,children:P.jsx(Pd.Provider,{value:T,children:c})})}tu.displayName="Dropdown";tu.Menu=nS;tu.Toggle=oS;tu.Item=lS;const Rm=M.createContext({});Rm.displayName="DropdownContext";const uS=M.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},a)=>(e=it(e,"dropdown-divider"),P.jsx(t,{ref:a,className:et(n,e),role:r,...s})));uS.displayName="DropdownDivider";const cS=M.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},a)=>(e=it(e,"dropdown-header"),P.jsx(t,{ref:a,className:et(n,e),role:r,...s})));cS.displayName="DropdownHeader";const dS=M.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:a,as:u=vm,...c},d)=>{const h=it(n,"dropdown-item"),[p,g]=aS({key:t,href:c.href,disabled:r,onClick:s,active:a});return P.jsx(u,{...c,...p,ref:d,className:et(e,h,g.isActive&&"active",r&&"disabled")})});dS.displayName="DropdownItem";const fS=M.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=it(e,"dropdown-item-text"),P.jsx(t,{ref:s,className:et(n,e),...r})));fS.displayName="DropdownItemText";const Im=M.createContext(null);Im.displayName="InputGroupContext";function hS(n,e){return n}const Go=Ut.oneOf(["start","end"]),_k=Ut.oneOfType([Go,Ut.shape({sm:Go}),Ut.shape({md:Go}),Ut.shape({lg:Go}),Ut.shape({xl:Go}),Ut.shape({xxl:Go}),Ut.object]);function pS(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",d=t?"right-end":"left-end",h=t?"left-start":"right-start",p=t?"left-end":"right-end";let g=n?u:a;return e==="up"?g=n?s:r:e==="end"?g=n?p:h:e==="start"?g=n?d:c:e==="down-centered"?g="bottom":e==="up-centered"&&(g="top"),g}const Dm=M.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:a,renderOnMount:u,as:c="div",popperConfig:d,variant:h,...p},g)=>{let y=!1;const _=M.useContext(ho),w=it(n,"dropdown-menu"),{align:E,drop:S,isRTL:C}=M.useContext(Rm);t=t||E;const O=M.useContext(Im),R=[];if(t)if(typeof t=="object"){const V=Object.keys(t);if(V.length){const B=V[0],J=t[B];y=J==="start",R.push(`${w}-${B}-${J}`)}}else t==="end"&&(y=!0);const N=pS(y,S,C),[x,{hasShown:k,popper:T,show:A,toggle:$}]=tS({flip:s,rootCloseEvent:r,show:a,usePopper:!_&&R.length===0,offset:[0,2],popperConfig:d,placement:N});if(x.ref=wm(hS(g),x.ref),O0(()=>{A&&(T==null||T.update())},[A]),!k&&!u&&!O)return null;typeof c!="string"&&(x.show=A,x.close=()=>$==null?void 0:$(!1),x.align=t);let L=p.style;return T!=null&&T.placement&&(L={...p.style,...x.style},p["x-placement"]=T.placement),P.jsx(c,{...p,...x,style:L,...(R.length||_)&&{"data-bs-popper":"static"},className:et(e,w,A&&"show",y&&`${w}-end`,h&&`${w}-${h}`,...R)})});Dm.displayName="DropdownMenu";const Ll=M.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:a=!1,className:u,...c},d)=>{const h=it(e,"btn"),[p,{tagName:g}]=hm({tagName:n,disabled:a,...c}),y=g;return P.jsx(y,{...p,...c,ref:d,disabled:a,className:et(u,h,s&&"active",t&&`${h}-${t}`,r&&`${h}-${r}`,c.href&&a&&"disabled")})});Ll.displayName="Button";const Lm=M.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=Ll,...a},u)=>{const c=it(n,"dropdown-toggle"),d=M.useContext(Pd);r!==void 0&&(a.bsPrefix=r);const[h]=sS();return h.ref=wm(h.ref,hS(u)),P.jsx(s,{className:et(t,c,e&&`${c}-split`,(d==null?void 0:d.show)&&"show"),...h,...a})});Lm.displayName="DropdownToggle";const mS=M.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:a,align:u="start",onSelect:c,onToggle:d,focusFirstItemOnShow:h,as:p="div",navbar:g,autoClose:y=!0,..._}=Ed(n,{show:"onToggle"}),w=M.useContext(Im),E=it(t,"dropdown"),S=lP(),C=T=>y===!1?T==="click":y==="inside"?T!=="rootClose":y==="outside"?T!=="select":!0,O=Aa((T,A)=>{var $;!(($=A.originalEvent)==null||($=$.target)==null)&&$.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),C(A.source)&&(d==null||d(T,A)))}),N=pS(u==="end",r,S),x=M.useMemo(()=>({align:u,drop:r,isRTL:S}),[u,r,S]),k={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return P.jsx(Rm.Provider,{value:x,children:P.jsx(tu,{placement:N,show:s,onSelect:c,onToggle:O,focusFirstItemOnShow:h,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:w?_.children:P.jsx(p,{..._,ref:e,className:et(a,s&&"show",k[r])})})})});mS.displayName="Dropdown";const Mr=Object.assign(mS,{Toggle:Lm,Menu:Dm,Item:dS,ItemText:fS,Divider:uS,Header:cS}),gS=M.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:s,rootCloseEvent:a,menuRole:u,disabled:c,active:d,renderMenuOnMount:h,menuVariant:p,...g},y)=>{const _=it(void 0,"nav-item");return P.jsxs(Mr,{ref:y,...g,className:et(s,_),children:[P.jsx(Mr.Toggle,{id:n,eventKey:null,active:d,disabled:c,childBsPrefix:r,as:ym,children:e}),P.jsx(Mr.Menu,{role:u,renderOnMount:h,rootCloseEvent:a,variant:p,children:t})]})});gS.displayName="NavDropdown";const Pc=Object.assign(gS,{Item:Mr.Item,ItemText:Mr.ItemText,Divider:Mr.Divider,Header:Mr.Header});function wk(){return P.jsx("div",{children:P.jsxs(p0,{children:[P.jsx("h2",{children:"Navigation"}),P.jsx(a_,{className:"fixed-top",bg:"light",variant:"light",children:P.jsx(a_.Collapse,{children:P.jsxs(oi,{className:"mr-auto",children:[P.jsx(oi.Item,{children:P.jsx(oi.Link,{as:Hn,to:"/",active:!0,children:"Home"})}),P.jsxs(Pc,{title:"Music Theory",children:[P.jsx(Pc.Item,{as:"div",children:P.jsx(oi.Link,{as:Hn,to:"/notes",children:"Notes"})}),P.jsx(Pc.Item,{as:"div",children:P.jsx(oi.Link,{as:Hn,to:"/scales",children:"Scales"})}),P.jsx(Pc.Item,{as:"div",children:P.jsx(oi.Link,{as:Hn,to:"/chords",children:"Chords"})})]}),P.jsx(oi.Item,{children:P.jsx(oi.Link,{as:Hn,to:"/catalog",active:!0,children:"Accessible Audio Plugin And Software Catalog (APS)"})}),P.jsx(oi.Item,{children:P.jsx(oi.Link,{as:Hn,to:"/imprint",children:"Imprint"})})]})})})]})})}function Sk(){return P.jsxs(P.Fragment,{children:[P.jsx("h1",{children:"Musical Sight"}),P.jsx(wk,{}),P.jsx(r0,{}),P.jsx(rP,{})]})}function Ek(n,e){const t=[];for(;e--;t[e]=e+n);return t}function Mk(n,e){const t=[];for(;e--;t[e]=n-e);return t}function bk(n,e){return n<e?Ek(n,e-n+1):Mk(n,n-e+1)}function Ad(n,e){const t=e.length,r=(n%t+t)%t;return e.slice(r,t).concat(e.slice(0,r))}function Tk(n){return n.filter(e=>e===0||e)}function xk(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function Ck(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var vS=[0,2,4,-1,1,3,5],yS=vS.map(n=>Math.floor(n*7/12));function Pk(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=vS[e]+7*t;if(r===void 0)return[s*a];const u=r-yS[e]-4*t;return[s*a,s*u]}var Nk=[3,0,4,1,5,2,6];function Ak(n){const[e,t,r]=n,s=Nk[kk(e)],a=Math.floor((e+1)/7);if(t===void 0)return{step:s,alt:a,dir:r};const u=t+4*a+yS[s];return{step:s,alt:a,oct:u,dir:r}}function kk(n){const e=(n+1)%7;return e<0?7+e:e}var b_=(n,e)=>Array(Math.abs(e)+1).join(n),Op=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Ok="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Rk="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Ik=new RegExp("^"+Ok+"|"+Rk+"$");function Dk(n){const e=Ik.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var T_={};function Qc(n){return typeof n=="string"?T_[n]||(T_[n]=Lk(n)):Ck(n)?Qc(Uk(n)):xk(n)?Qc(n.name):Op}var x_=[0,2,4,5,7,9,11],_S="PMMPPMM";function Lk(n){const e=Dk(n);if(e[0]==="")return Op;const t=+e[0],r=e[1],s=(Math.abs(t)-1)%7,a=_S[s];if(a==="M"&&r==="P")return Op;const u=a==="M"?"majorable":"perfectable",c=""+t+r,d=t<0?-1:1,h=t===8||t===-8?t:d*(s+1),p=Fk(u,r),g=Math.floor((Math.abs(t)-1)/7),y=d*(x_[s]+p+12*g),_=(d*(x_[s]+p)%12+12)%12,w=Pk({step:s,alt:p,oct:g,dir:d});return{empty:!1,name:c,num:t,q:r,step:s,alt:p,dir:d,type:u,simple:h,semitones:y,chroma:_,coord:w,oct:g}}function jk(n,e){const[t,r=0]=n,s=t*7+r*12<0,a=e||s?[-t,-r,-1]:[t,r,1];return Qc(Ak(a))}function Fk(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function Uk(n){const{step:e,alt:t,oct:r=0,dir:s}=n;if(!s)return"";const a=e+1+7*r,u=a===0?e+1:a,c=s<0?"-":"",d=_S[e]==="M"?"majorable":"perfectable";return c+u+$k(d,t)}function $k(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?b_("A",e):b_("d",n==="perfectable"?e:e+1)}function Bk(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function Vk(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var wS=[0,2,4,-1,1,3,5],SS=wS.map(n=>Math.floor(n*7/12));function zk(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=wS[e]+7*t;if(r===void 0)return[s*a];const u=r-SS[e]-4*t;return[s*a,s*u]}var Wk=[3,0,4,1,5,2,6];function Hk(n){const[e,t,r]=n,s=Wk[qk(e)],a=Math.floor((e+1)/7);if(t===void 0)return{step:s,alt:a,dir:r};const u=t+4*a+SS[s];return{step:s,alt:a,oct:u,dir:r}}function qk(n){const e=(n+1)%7;return e<0?7+e:e}var C_=(n,e)=>Array(Math.abs(e)+1).join(n),ES=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),P_=new Map,Gk=n=>"CDEFGAB".charAt(n),Yk=n=>n<0?C_("b",-n):C_("#",n),Kk=n=>n[0]==="b"?-n.length:n.length;function Bt(n){const e=JSON.stringify(n),t=P_.get(e);if(t)return t;const r=typeof n=="string"?eO(n):Vk(n)?Bt(tO(n)):Bk(n)?Bt(n.name):ES;return P_.set(e,r),r}var Xk=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Qk(n){const e=Xk.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function Zk(n){return Bt(Hk(n))}var Jk=(n,e)=>(n%e+e)%e,up=[0,2,4,5,7,9,11];function eO(n){const e=Qk(n);if(e[0]===""||e[3]!=="")return ES;const t=e[0],r=e[1],s=e[2],a=(t.charCodeAt(0)+3)%7,u=Kk(r),c=s.length?+s:void 0,d=zk({step:a,alt:u,oct:c}),h=t+r+s,p=t+r,g=(up[a]+u+120)%12,y=c===void 0?Jk(up[a]+u,12)-12*99:up[a]+u+12*(c+1),_=y>=0&&y<=127?y:null,w=c===void 0?null:Math.pow(2,(y-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:g,coord:d,freq:w,height:y,letter:t,midi:_,name:h,oct:c,pc:p,step:a}}function tO(n){const{step:e,alt:t,oct:r}=n,s=Gk(e);if(!s)return"";const a=s+Yk(t);return r||r===0?a+r:a}function Wl(n,e){const t=Bt(n),r=Array.isArray(e)?e:Qc(e).coord;if(t.empty||!r||r.length<2)return"";const s=t.coord,a=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return Zk(a).name}function MS(n,e){const t=n.length;return r=>{if(!e)return"";const s=r<0?(t- -r%t)%t:r%t,a=Math.floor(r/t),u=Wl(e,[0,a]);return Wl(u,n[s])}}function nO(n,e){const t=Bt(n),r=Bt(e);if(t.empty||r.empty)return"";const s=t.coord,a=r.coord,u=a[0]-s[0],c=s.length===2&&a.length===2?a[1]-s[1]:-Math.floor(u*7/12),d=r.height===t.height&&r.midi!==null&&t.oct===r.oct&&t.step>r.step;return jk([u,c],d).name}function rO(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function iO(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var bS=[0,2,4,-1,1,3,5],sO=bS.map(n=>Math.floor(n*7/12));function oO(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=bS[e]+7*t;if(r===void 0)return[s*a];const u=r-sO[e]-4*t;return[s*a,s*u]}var N_=(n,e)=>Array(Math.abs(e)+1).join(n),Rp=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),aO="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",lO="(AA|A|P|M|m|d|dd)([-+]?\\d+)",uO=new RegExp("^"+aO+"|"+lO+"$");function cO(n){const e=uO.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var A_={};function Ip(n){return typeof n=="string"?A_[n]||(A_[n]=dO(n)):iO(n)?Ip(hO(n)):rO(n)?Ip(n.name):Rp}var k_=[0,2,4,5,7,9,11],TS="PMMPPMM";function dO(n){const e=cO(n);if(e[0]==="")return Rp;const t=+e[0],r=e[1],s=(Math.abs(t)-1)%7,a=TS[s];if(a==="M"&&r==="P")return Rp;const u=a==="M"?"majorable":"perfectable",c=""+t+r,d=t<0?-1:1,h=t===8||t===-8?t:d*(s+1),p=fO(u,r),g=Math.floor((Math.abs(t)-1)/7),y=d*(k_[s]+p+12*g),_=(d*(k_[s]+p)%12+12)%12,w=oO({step:s,alt:p,oct:g,dir:d});return{empty:!1,name:c,num:t,q:r,step:s,alt:p,dir:d,type:u,simple:h,semitones:y,chroma:_,coord:w,oct:g}}function fO(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function hO(n){const{step:e,alt:t,oct:r=0,dir:s}=n;if(!s)return"";const a=e+1+7*r,u=a===0?e+1:a,c=s<0?"-":"",d=TS[e]==="M"?"majorable":"perfectable";return c+u+pO(d,t)}function pO(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?N_("A",e):N_("d",n==="perfectable"?e:e+1)}var bs={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},xS=n=>Number(n).toString(2).padStart(12,"0"),O_=n=>parseInt(n,2),mO=/^[01]{12}$/;function jm(n){return mO.test(n)}var gO=n=>typeof n=="number"&&n>=0&&n<=4095,vO=n=>n&&jm(n.chroma),R_={[bs.chroma]:bs};function fi(n){const e=jm(n)?n:gO(n)?xS(n):Array.isArray(n)?MO(n):vO(n)?n.chroma:bs.chroma;return R_[e]=R_[e]||EO(e)}var yO=n=>fi(n).chroma,_O=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function wO(n){const e=[];for(let t=0;t<12;t++)n.charAt(t)==="1"&&e.push(_O[t]);return e}function CS(n,e=!0){const r=fi(n).chroma.split("");return Tk(r.map((s,a)=>{const u=Ad(a,r);return e&&u[0]==="0"?null:u.join("")}))}function Fm(n){const e=fi(n).setNum;return t=>{const r=fi(t).setNum;return e&&e!==r&&(r&e)===r}}function Um(n){const e=fi(n).setNum;return t=>{const r=fi(t).setNum;return e&&e!==r&&(r|e)===r}}function SO(n){const e=n.split("");return e.map((t,r)=>Ad(r,e).join(""))}function EO(n){const e=O_(n),t=SO(n).map(O_).filter(a=>a>=2048).sort()[0],r=xS(t),s=wO(n);return{empty:!1,name:"",setNum:e,chroma:n,normalized:r,intervals:s}}function MO(n){if(n.length===0)return bs.chroma;let e;const t=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<n.length;r++)e=Bt(n[r]),e.empty&&(e=Ip(n[r])),e.empty||(t[e.chroma]=1);return t.join("")}var bO=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],TO=bO;({...bs});var $m=[],Fc={};function xO(){return $m.slice()}function CO(n,e,t){const r=NO(n),s={...fi(n),name:t||"",quality:r,intervals:n,aliases:e};$m.push(s),s.name&&(Fc[s.name]=s),Fc[s.setNum]=s,Fc[s.chroma]=s,s.aliases.forEach(a=>PO(s,a))}function PO(n,e){Fc[e]=n}function NO(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}TO.forEach(([n,e,t])=>CO(n.split(" "),t.split(" "),e));$m.sort((n,e)=>n.setNum-e.setNum);var AO=n=>{const e=n.reduce((t,r)=>{const s=Bt(r).chroma;return s!==void 0&&(t[s]=t[s]||Bt(r).name),t},{});return t=>e[t]};function kO(n,e={}){const t=n.map(s=>Bt(s).pc).filter(s=>s);return Bt.length===0?[]:FO(t,1,e).filter(s=>s.weight).sort((s,a)=>a.weight-s.weight).map(s=>s.name)}var kd={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Od=n=>e=>!!(e&n),OO=Od(kd.anyThirds),RO=Od(kd.perfectFifth),IO=Od(kd.anySeventh),DO=Od(kd.nonPerfectFifths);function LO(n){const e=parseInt(n.chroma,2);return OO(e)&&RO(e)&&IO(e)}function jO(n){const e=parseInt(n,2);return DO(e)?n:(e|16).toString(2)}function FO(n,e,t){const r=n[0],s=Bt(r).chroma,a=AO(n),u=CS(n,!1),c=[];return u.forEach((d,h)=>{const p=t.assumePerfectFifth&&jO(d);xO().filter(y=>t.assumePerfectFifth&&LO(y)?y.chroma===p:y.chroma===d).forEach(y=>{const _=y.aliases[0],w=a(h);h!==s?c.push({weight:.5*e,name:`${w}${_}/${r}`}):c.push({weight:1*e,name:`${w}${_}`})})}),c}function PS(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function NS(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"}var AS=[0,2,4,-1,1,3,5],kS=AS.map(n=>Math.floor(n*7/12));function OS(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=AS[e]+7*t;if(r===void 0)return[s*a];const u=r-kS[e]-4*t;return[s*a,s*u]}var UO=[3,0,4,1,5,2,6];function RS(n){const[e,t,r]=n,s=UO[$O(e)],a=Math.floor((e+1)/7);if(t===void 0)return{step:s,alt:a,dir:r};const u=t+4*a+kS[s];return{step:s,alt:a,oct:u,dir:r}}function $O(n){const e=(n+1)%7;return e<0?7+e:e}var I_=(n,e)=>Array(Math.abs(e)+1).join(n),Dp={empty:!0,name:"",acc:""},BO="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",VO="(AA|A|P|M|m|d|dd)([-+]?\\d+)",zO=new RegExp("^"+BO+"|"+VO+"$");function WO(n){const e=zO.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var D_={};function Zc(n){return typeof n=="string"?D_[n]||(D_[n]=HO(n)):NS(n)?Zc(YO(n)):PS(n)?Zc(n.name):Dp}var L_=[0,2,4,5,7,9,11],IS="PMMPPMM";function HO(n){const e=WO(n);if(e[0]==="")return Dp;const t=+e[0],r=e[1],s=(Math.abs(t)-1)%7,a=IS[s];if(a==="M"&&r==="P")return Dp;const u=a==="M"?"majorable":"perfectable",c=""+t+r,d=t<0?-1:1,h=t===8||t===-8?t:d*(s+1),p=GO(u,r),g=Math.floor((Math.abs(t)-1)/7),y=d*(L_[s]+p+12*g),_=(d*(L_[s]+p)%12+12)%12,w=OS({step:s,alt:p,oct:g,dir:d});return{empty:!1,name:c,num:t,q:r,step:s,alt:p,dir:d,type:u,simple:h,semitones:y,chroma:_,coord:w,oct:g}}function qO(n,e){const[t,r=0]=n,s=t*7+r*12<0,a=e||s?[-t,-r,-1]:[t,r,1];return Zc(RS(a))}function GO(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function YO(n){const{step:e,alt:t,oct:r=0,dir:s}=n;if(!s)return"";const a=e+1+7*r,u=a===0?e+1:a,c=s<0?"-":"",d=IS[e]==="M"?"majorable":"perfectable";return c+u+KO(d,t)}function KO(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?I_("A",e):I_("d",n==="perfectable"?e:e+1)}var j_=(n,e)=>Array(Math.abs(e)+1).join(n),DS={empty:!0,name:"",pc:"",acc:""},F_=new Map,XO=n=>"CDEFGAB".charAt(n),QO=n=>n<0?j_("b",-n):j_("#",n),ZO=n=>n[0]==="b"?-n.length:n.length;function Ts(n){const e=JSON.stringify(n),t=F_.get(e);if(t)return t;const r=typeof n=="string"?nR(n):NS(n)?Ts(rR(n)):PS(n)?Ts(n.name):DS;return F_.set(e,r),r}var JO=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function LS(n){const e=JO.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function eR(n){return Ts(RS(n))}var tR=(n,e)=>(n%e+e)%e,cp=[0,2,4,5,7,9,11];function nR(n){const e=LS(n);if(e[0]===""||e[3]!=="")return DS;const t=e[0],r=e[1],s=e[2],a=(t.charCodeAt(0)+3)%7,u=ZO(r),c=s.length?+s:void 0,d=OS({step:a,alt:u,oct:c}),h=t+r+s,p=t+r,g=(cp[a]+u+120)%12,y=c===void 0?tR(cp[a]+u,12)-12*99:cp[a]+u+12*(c+1),_=y>=0&&y<=127?y:null,w=c===void 0?null:Math.pow(2,(y-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:g,coord:d,freq:w,height:y,letter:t,midi:_,name:h,oct:c,pc:p,step:a}}function rR(n){const{step:e,alt:t,oct:r}=n,s=XO(e);if(!s)return"";const a=s+QO(t);return r||r===0?a+r:a}function Jc(n,e){const t=Ts(n),r=Array.isArray(e)?e:Zc(e).coord;if(t.empty||!r||r.length<2)return"";const s=t.coord,a=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return eR(a).name}function jS(n,e){const t=n.length;return r=>{if(!e)return"";const s=r<0?(t- -r%t)%t:r%t,a=Math.floor(r/t),u=Jc(e,[0,a]);return Jc(u,n[s])}}function iR(n,e){const t=Ts(n),r=Ts(e);if(t.empty||r.empty)return"";const s=t.coord,a=r.coord,u=a[0]-s[0],c=s.length===2&&a.length===2?a[1]-s[1]:-Math.floor(u*7/12),d=r.height===t.height&&r.midi!==null&&t.midi!==null&&t.step>r.step;return qO([u,c],d).name}function Bm(n,e,t){return function(...r){return console.warn(`${n} is deprecated. Use ${e}.`),t.apply(this,r)}}var sR=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],oR=sR,aR={...bs,name:"",quality:"Unknown",intervals:[],aliases:[]},ka=[],no={};function Vm(n){return no[n]||aR}var lR=Bm("ChordType.chordType","ChordType.get",Vm);function uR(){return ka.map(n=>n.name).filter(n=>n)}function cR(){return ka.map(n=>n.aliases[0]).filter(n=>n)}function dR(){return Object.keys(no)}function Rd(){return ka.slice()}var fR=Bm("ChordType.entries","ChordType.all",Rd);function hR(){ka=[],no={}}function FS(n,e,t){const r=mR(n),s={...fi(n),name:t||"",quality:r,intervals:n,aliases:e};ka.push(s),s.name&&(no[s.name]=s),no[s.setNum]=s,no[s.chroma]=s,s.aliases.forEach(a=>pR(s,a))}function pR(n,e){no[e]=n}function mR(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}oR.forEach(([n,e,t])=>FS(n.split(" "),t.split(" "),e));ka.sort((n,e)=>n.setNum-e.setNum);var Lp={names:uR,symbols:cR,get:Vm,all:Rd,add:FS,removeAll:hR,keys:dR,entries:fR,chordType:lR},gR=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],vR=gR,yR={...bs,intervals:[],aliases:[]},Id=[],ro={};function US(){return Id.map(n=>n.name)}function zm(n){return ro[n]||yR}var _R=zm;function Oa(){return Id.slice()}var wR=Oa;function SR(){return Object.keys(ro)}function ER(){Id=[],ro={}}function $S(n,e,t=[]){const r={...fi(n),name:e,intervals:n,aliases:t};return Id.push(r),ro[r.name]=r,ro[r.setNum]=r,ro[r.chroma]=r,r.aliases.forEach(s=>MR(r,s)),r}function MR(n,e){ro[e]=n}vR.forEach(([n,e,...t])=>$S(n.split(" "),e,t));var jp={names:US,get:zm,all:Oa,add:$S,removeAll:ER,keys:SR,entries:wR,scaleType:_R},Fp={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Wm(n){const[e,t,r,s]=LS(n);return e===""?["",n]:e==="A"&&s==="ug"?["","aug"]:[e+t,r+s]}function po(n){if(n==="")return Fp;if(Array.isArray(n)&&n.length===2)return Uc(n[1],n[0]);{const[e,t]=Wm(n),r=Uc(t,e);return r.empty?Uc(n):r}}function Uc(n,e,t){const r=Vm(n),s=Ts(e||""),a=Ts(t||"");if(r.empty||e&&s.empty||t&&a.empty)return Fp;const u=iR(s.pc,a.pc),c=r.intervals.indexOf(u)+1;if(!a.empty&&!c)return Fp;const d=Array.from(r.intervals);for(let y=1;y<c;y++){const _=d[0][0],w=d[0][1],E=parseInt(_,10)+7;d.push(`${E}${w}`),d.shift()}const h=s.empty?[]:d.map(y=>Jc(s,y));n=r.aliases.indexOf(n)!==-1?n:r.aliases[0];const p=`${s.empty?"":s.pc}${n}${a.empty||c<=1?"":"/"+a.pc}`,g=`${e?s.pc+" ":""}${r.name}${c>1&&t?" over "+a.pc:""}`;return{...r,name:g,symbol:p,type:r.name,root:a.name,intervals:d,rootDegree:c,tonic:s.name,notes:h}}var bR=Bm("Chord.chord","Chord.get",po);function TR(n,e){const[t,r]=Wm(n);return t?Jc(t,e)+r:n}function xR(n){const e=po(n),t=Um(e.chroma);return Oa().filter(r=>t(r.chroma)).map(r=>r.name)}function CR(n){const e=po(n),t=Um(e.chroma);return Rd().filter(r=>t(r.chroma)).map(r=>e.tonic+r.aliases[0])}function PR(n){const e=po(n),t=Fm(e.chroma);return Rd().filter(r=>t(r.chroma)).map(r=>e.tonic+r.aliases[0])}function NR(n){const{intervals:e,tonic:t}=po(n),r=jS(e,t);return s=>s?r(s>0?s-1:s):""}function AR(n){const{intervals:e,tonic:t}=po(n);return jS(e,t)}var ir={getChord:Uc,get:po,detect:kO,chordScales:xR,extended:CR,reduced:PR,tokenize:Wm,transpose:TR,degrees:NR,steps:AR,chord:bR},kR=Math.log(2),OR=Math.log(440);function BS(n){const e=12*(Math.log(n)-OR)/kR+69;return Math.round(e*100)/100}var RR="C C# D D# E F F# G G# A A# B".split(" "),IR="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Ra(n,e={}){if(isNaN(n)||n===-1/0||n===1/0)return"";n=Math.round(n);const r=(e.sharps===!0?RR:IR)[n%12];if(e.pitchClass)return r;const s=Math.floor(n/12)-1;return r+s}var DR=["C","D","E","F","G","A","B"],VS=n=>n.name,zS=n=>n.map(Bt).filter(e=>!e.empty);function LR(n){return n===void 0?DR.slice():Array.isArray(n)?zS(n).map(VS):[]}var Gr=Bt,jR=n=>Gr(n).name,FR=n=>Gr(n).pc,UR=n=>Gr(n).acc,$R=n=>Gr(n).oct,BR=n=>Gr(n).midi,VR=n=>Gr(n).freq,zR=n=>Gr(n).chroma;function WS(n){return Ra(n)}function WR(n){return Ra(BS(n))}function HR(n){return Ra(BS(n),{sharps:!0})}function qR(n){return Ra(n,{sharps:!0})}var GR=nO,nu=Wl,YR=Wl,HS=n=>e=>nu(e,n),KR=HS,qS=n=>e=>nu(n,e),XR=qS;function GS(n,e){return nu(n,[e,0])}var QR=GS;function ZR(n,e){return nu(n,[0,e])}var Hm=(n,e)=>n.height-e.height,JR=(n,e)=>e.height-n.height;function YS(n,e){return e=e||Hm,zS(n).sort(e).map(VS)}function KS(n){return YS(n,Hm).filter((e,t,r)=>t===0||e!==r[t-1])}var eI=n=>{const e=Gr(n);return e.empty?"":Ra(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function XS(n,e){const t=Gr(n);if(t.empty)return"";const r=Gr(e||Ra(t.midi||t.chroma,{sharps:t.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==t.chroma)return"";if(t.oct===void 0)return r.pc;const s=t.chroma-t.alt,a=r.chroma-r.alt,u=s>11||a<0?-1:s<0||a>11?1:0,c=t.oct+u;return r.pc+c}var na={names:LR,get:Gr,name:jR,pitchClass:FR,accidentals:UR,octave:$R,midi:BR,ascending:Hm,descending:JR,distance:GR,sortedNames:YS,sortedUniqNames:KS,fromMidi:WS,fromMidiSharps:qR,freq:VR,fromFreq:WR,fromFreqSharps:HR,chroma:zR,transpose:nu,tr:YR,transposeBy:HS,trBy:KR,transposeFrom:qS,trFrom:XR,transposeFifths:GS,transposeOctaves:ZR,trFifths:QR,simplify:eI,enharmonic:XS};const qm=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=it(e,"card-body"),P.jsx(t,{ref:s,className:et(n,e),...r})));qm.displayName="CardBody";const QS=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=it(e,"card-footer"),P.jsx(t,{ref:s,className:et(n,e),...r})));QS.displayName="CardFooter";const ZS=M.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=it(n,"card-header"),u=M.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return P.jsx(gm.Provider,{value:u,children:P.jsx(t,{ref:s,...r,className:et(e,a)})})});ZS.displayName="CardHeader";const JS=M.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...s},a)=>{const u=it(n,"card-img");return P.jsx(r,{ref:a,className:et(t?`${u}-${t}`:u,e),...s})});JS.displayName="CardImg";const eE=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=it(e,"card-img-overlay"),P.jsx(t,{ref:s,className:et(n,e),...r})));eE.displayName="CardImgOverlay";const tE=M.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},s)=>(e=it(e,"card-link"),P.jsx(t,{ref:s,className:et(n,e),...r})));tE.displayName="CardLink";const tI=bm("h6"),nE=M.forwardRef(({className:n,bsPrefix:e,as:t=tI,...r},s)=>(e=it(e,"card-subtitle"),P.jsx(t,{ref:s,className:et(n,e),...r})));nE.displayName="CardSubtitle";const rE=M.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},s)=>(e=it(e,"card-text"),P.jsx(t,{ref:s,className:et(n,e),...r})));rE.displayName="CardText";const nI=bm("h5"),iE=M.forwardRef(({className:n,bsPrefix:e,as:t=nI,...r},s)=>(e=it(e,"card-title"),P.jsx(t,{ref:s,className:et(n,e),...r})));iE.displayName="CardTitle";const sE=M.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:s,body:a=!1,children:u,as:c="div",...d},h)=>{const p=it(n,"card");return P.jsx(c,{ref:h,...d,className:et(e,p,t&&`bg-${t}`,r&&`text-${r}`,s&&`border-${s}`),children:a?P.jsx(qm,{children:u}):u})});sE.displayName="Card";const Ge=Object.assign(sE,{Img:JS,Title:iE,Subtitle:nE,Body:qm,Link:tE,Text:rE,Header:ZS,Footer:QS,ImgOverlay:eE}),rI={id:Ut.string,href:Ut.string,onClick:Ut.func,title:Ut.node.isRequired,disabled:Ut.bool,align:_k,menuRole:Ut.string,renderMenuOnMount:Ut.bool,rootCloseEvent:Ut.string,menuVariant:Ut.oneOf(["dark"]),flip:Ut.bool,bsPrefix:Ut.string,variant:Ut.string,size:Ut.string},pa=M.forwardRef(({title:n,children:e,bsPrefix:t,rootCloseEvent:r,variant:s,size:a,menuRole:u,renderMenuOnMount:c,disabled:d,href:h,id:p,menuVariant:g,flip:y,..._},w)=>P.jsxs(Mr,{ref:w,..._,children:[P.jsx(Lm,{id:p,href:h,size:a,variant:s,disabled:d,childBsPrefix:t,children:n}),P.jsx(Dm,{role:u,renderOnMount:c,rootCloseEvent:r,variant:g,flip:y,children:e})]}));pa.displayName="DropdownButton";pa.propTypes=rI;var dp={},fp={};const iI=cT(tP);var U_;function sI(){return U_||(U_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=a(pd()),t=a(x0()),r=iI,s=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function a(E){return E&&E.__esModule?E:{default:E}}function u(E,S){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);S&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(E,R).enumerable})),C.push.apply(C,O)}return C}function c(E){for(var S=1;S<arguments.length;S++){var C=arguments[S]!=null?arguments[S]:{};S%2?u(Object(C),!0).forEach(function(O){d(E,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):u(Object(C)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(C,O))})}return E}function d(E,S,C){return S in E?Object.defineProperty(E,S,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[S]=C,E}function h(E){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(E)}function p(E,S){if(E==null)return{};var C=g(E,S),O,R;if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);for(R=0;R<N.length;R++)O=N[R],!(S.indexOf(O)>=0)&&Object.prototype.propertyIsEnumerable.call(E,O)&&(C[O]=E[O])}return C}function g(E,S){if(E==null)return{};var C={},O=Object.keys(E),R,N;for(N=0;N<O.length;N++)R=O[N],!(S.indexOf(R)>=0)&&(C[R]=E[R]);return C}var y=function(S){return!!(S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)},_=function(S){var C=S.children,O=S.onClick,R=S.replace,N=R===void 0?!1:R,x=S.to,k=S.state,T=S.activeClassName,A=T===void 0?"active":T,$=S.className,L=S.activeStyle,V=S.style,B=S.isActive,J=p(S,s),ne=h(x)==="object"?x.pathname||"":x,he=(0,r.useNavigate)(),se=(0,r.useHref)(typeof x=="string"?{pathname:x}:x),oe=(0,r.useMatch)(ne),q=(0,r.useLocation)(),ee=e.default.Children.only(C),Q=!!(B?typeof B=="function"?B(oe,q):B:oe),D=function(te){C.props.onClick&&C.props.onClick(te),O&&O(te),!te.defaultPrevented&&te.button===0&&!y(te)&&(te.preventDefault(),he(x,{replace:N,state:k}))};return e.default.cloneElement(ee,c(c({},J),{},{className:[$,ee.props.className,Q?A:null].join(" ").trim(),style:Q?c(c({},V),L):V,href:se,onClick:D}))};_.propTypes={children:t.default.element.isRequired,onClick:t.default.func,replace:t.default.bool,to:t.default.oneOfType([t.default.string,t.default.object]).isRequired,state:t.default.object,className:t.default.string,activeClassName:t.default.string,style:t.default.objectOf(t.default.oneOfType([t.default.string,t.default.number])),activeStyle:t.default.objectOf(t.default.oneOfType([t.default.string,t.default.number])),isActive:t.default.oneOfType([t.default.func,t.default.bool])};var w=_;n.default=w}(fp)),fp}var $_;function oI(){return $_||($_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LinkContainer",{enumerable:!0,get:function(){return e.default}});var e=t(sI());function t(r){return r&&r.__esModule?r:{default:r}}}(dp)),dp}var lo=oI();const aI=/(\S+)|(.)/g,lI=/[\.#][\p{L}\p{N}]/u,uI=new RegExp("\\p{Ll}(?=[\\p{Lu}])","u"),cI=/[\p{L}\p{N}]+/gu,dI=new RegExp("^([^\\p{L}])*(?:\\p{L}\\.){2,}([^\\p{L}])*$","u"),fI=new Set(["","","-","","/"]),oE=new Set([".","!","?"]),hI=new Set([...oE,":",'"',"'",""]),pI=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function sr(n,e={}){const{locale:t=void 0,sentenceCase:r=!1,sentenceTerminators:s=oE,titleTerminators:a=hI,smallWords:u=pI,wordSeparators:c=fI}=typeof e=="string"||Array.isArray(e)?{locale:e}:e,d=r?s:a;let h="",p=!0;for(const g of n.matchAll(aI)){const{1:y,2:_,index:w=0}=g;if(_){h+=_;continue}if(lI.test(y)){const E=y.match(dI);if(E){const[S,C="",O=""]=E;h+=r&&!p?y:B_(y,C.length,t),p=d.has(O.charAt(0));continue}h+=y,p=d.has(y.charAt(y.length-1))}else{const E=Array.from(y.matchAll(cI));let S=y,C=!1;for(let O=0;O<E.length;O++){const{0:R,index:N=0}=E[O],x=y.charAt(N+R.length);if(C=d.has(x),p)p=!1;else{if(r||uI.test(R))continue;if(E.length===1){if(u.has(R)&&!(w+y.length===n.length)&&!C)continue}else if(O>0&&(!c.has(y.charAt(N-1))||u.has(R)&&c.has(x)))continue}S=B_(S,N,t)}h+=S,p=C||d.has(y.charAt(y.length-1))}}return h}function B_(n,e,t){return n.slice(0,e)+n.charAt(e).toLocaleUpperCase(t)+n.slice(e+1)}function gi({title:n}){return P.jsx(qT,{children:P.jsxs("title",{children:[n," - Musical Sight"]})})}const aE="15.0.4",V_=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),z_=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Up=(n,e)=>({startTime:e,type:"setValue",value:n}),lE=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),uE=(n,e,{startTime:t,target:r,timeConstant:s})=>r+(e-r)*Math.exp((t-n)/s),Xo=n=>n.type==="exponentialRampToValue",ed=n=>n.type==="linearRampToValue",ms=n=>Xo(n)||ed(n),Gm=n=>n.type==="setValue",Oi=n=>n.type==="setValueCurve",td=(n,e,t,r)=>{const s=n[e];return s===void 0?r:ms(s)||Gm(s)?s.value:Oi(s)?s.values[s.values.length-1]:uE(t,td(n,e-1,s.startTime,r),s)},W_=(n,e,t,r,s)=>t===void 0?[r.insertTime,s]:ms(t)?[t.endTime,t.value]:Gm(t)?[t.startTime,t.value]:Oi(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,td(n,e-1,t.startTime,s)],$p=n=>n.type==="cancelAndHold",Bp=n=>n.type==="cancelScheduledValues",fs=n=>$p(n)||Bp(n)?n.cancelTime:Xo(n)||ed(n)?n.endTime:n.startTime,H_=(n,e,t,{endTime:r,value:s})=>t===s?s:0<t&&0<s||t<0&&s<0?t*(s/t)**((n-e)/(r-e)):0,q_=(n,e,t,{endTime:r,value:s})=>t+(n-e)/(r-e)*(s-t),mI=(n,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?n[t]:(1-(e-t))*n[t]+(1-(r-e))*n[r]},gI=(n,{duration:e,startTime:t,values:r})=>{const s=(n-t)/e*(r.length-1);return mI(r,s)},Nc=n=>n.type==="setTarget";class vI{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=fs(e);if($p(e)||Bp(e)){const r=this._automationEvents.findIndex(a=>Bp(e)&&Oi(a)?a.startTime+a.duration>=t:fs(a)>=t),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),$p(e)){const a=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&ms(s)){if(a!==void 0&&Nc(a))throw new Error("The internal list is malformed.");const u=a===void 0?s.insertTime:Oi(a)?a.startTime+a.duration:fs(a),c=a===void 0?this._defaultValue:Oi(a)?a.values[a.values.length-1]:a.value,d=Xo(s)?H_(t,u,c,s):q_(t,u,c,s),h=Xo(s)?V_(d,t,this._currenTime):z_(d,t,this._currenTime);this._automationEvents.push(h)}if(a!==void 0&&Nc(a)&&this._automationEvents.push(Up(this.getValue(t),t)),a!==void 0&&Oi(a)&&a.startTime+a.duration>t){const u=t-a.startTime,c=(a.values.length-1)/a.duration,d=Math.max(2,1+Math.ceil(u*c)),h=u/(d-1)*c,p=a.values.slice(0,d);if(h<1)for(let g=1;g<d;g+=1){const y=h*g%1;p[g]=a.values[g-1]*(1-y)+a.values[g]*y}this._automationEvents[this._automationEvents.length-1]=lE(p,a.startTime,u)}}}else{const r=this._automationEvents.findIndex(u=>fs(u)>t),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&Oi(s)&&fs(s)+s.duration>t)return!1;const a=Xo(e)?V_(e.value,e.endTime,this._currenTime):ed(e)?z_(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(a);else{if(Oi(e)&&t+e.duration>fs(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,a)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>fs(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),s=r[0];Nc(s)&&r.unshift(Up(td(this._automationEvents,t-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>fs(u)>e),r=this._automationEvents[t],s=(t===-1?this._automationEvents.length:t)-1,a=this._automationEvents[s];if(a!==void 0&&Nc(a)&&(r===void 0||!ms(r)||r.insertTime>e))return uE(e,td(this._automationEvents,s-1,a.startTime,this._defaultValue),a);if(a!==void 0&&Gm(a)&&(r===void 0||!ms(r)))return a.value;if(a!==void 0&&Oi(a)&&(r===void 0||!ms(r)||a.startTime+a.duration>e))return e<a.startTime+a.duration?gI(e,a):a.values[a.values.length-1];if(a!==void 0&&ms(a)&&(r===void 0||!ms(r)))return a.value;if(r!==void 0&&Xo(r)){const[u,c]=W_(this._automationEvents,s,a,r,this._defaultValue);return H_(e,u,c,r)}if(r!==void 0&&ed(r)){const[u,c]=W_(this._automationEvents,s,a,r,this._defaultValue);return q_(e,u,c,r)}return this._defaultValue}}const yI=n=>({cancelTime:n,type:"cancelAndHold"}),_I=n=>({cancelTime:n,type:"cancelScheduledValues"}),wI=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),SI=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),EI=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),MI=()=>new DOMException("","AbortError"),bI=n=>(e,t,[r,s,a],u)=>{n(e[s],[t,r,a],c=>c[0]===t&&c[1]===r,u)},TI=n=>(e,t,r)=>{const s=[];for(let a=0;a<r.numberOfInputs;a+=1)s.push(new Set);n.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},xI=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},ma=new WeakSet,cE=new WeakMap,Ym=new WeakMap,dE=new WeakMap,Km=new WeakMap,Dd=new WeakMap,fE=new WeakMap,Vp=new WeakMap,zp=new WeakMap,Wp=new WeakMap,hE={construct(){return hE}},CI=n=>{try{const e=new Proxy(n,hE);new e}catch{return!1}return!0},G_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Y_=(n,e)=>{const t=[];let r=n.replace(/^[\s]+/,""),s=r.match(G_);for(;s!==null;){const a=s[1].slice(1,-1),u=s[0].replace(/([\s]+)?;?$/,"").replace(a,new URL(a,e).toString());t.push(u),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(G_)}return[t.join(";"),r]},K_=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},X_=n=>{if(!CI(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},PI=(n,e,t,r,s,a,u,c,d,h,p,g,y)=>{let _=0;return(w,E,S={credentials:"omit"})=>{const C=p.get(w);if(C!==void 0&&C.has(E))return Promise.resolve();const O=h.get(w);if(O!==void 0){const x=O.get(E);if(x!==void 0)return x}const R=a(w),N=R.audioWorklet===void 0?s(E).then(([x,k])=>{const[T,A]=Y_(x,k),$=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${A}
})})(window,'_AWGS')`;return t($)}).then(()=>{const x=y._AWGS.pop();if(x===void 0)throw new SyntaxError;r(R.currentTime,R.sampleRate,()=>x(class{},void 0,(k,T)=>{if(k.trim()==="")throw e();const A=zp.get(R);if(A!==void 0){if(A.has(k))throw e();X_(T),K_(T.parameterDescriptors),A.set(k,T)}else X_(T),K_(T.parameterDescriptors),zp.set(R,new Map([[k,T]]))},R.sampleRate,void 0,void 0))}):Promise.all([s(E),Promise.resolve(n(g,g))]).then(([[x,k],T])=>{const A=_+1;_=A;const[$,L]=Y_(x,k),ne=`${$};((AudioWorkletProcessor,registerProcessor)=>{${L}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${A}',class extends AudioWorkletProcessor{process(){return !1}})`,he=new Blob([ne],{type:"application/javascript; charset=utf-8"}),se=URL.createObjectURL(he);return R.audioWorklet.addModule(se,S).then(()=>{if(c(R))return R;const oe=u(R);return oe.audioWorklet.addModule(se,S).then(()=>oe)}).then(oe=>{if(d===null)throw new SyntaxError;try{new d(oe,`__sac${A}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(se))});return O===void 0?h.set(w,new Map([[E,N]])):O.set(E,N),N.then(()=>{const x=p.get(w);x===void 0?p.set(w,new Set([E])):x.add(E)}).finally(()=>{const x=h.get(w);x!==void 0&&x.delete(E)}),N}},Yr=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},Ld=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return n.delete(r),r},pE=(n,e,t,r)=>{const s=Yr(n,e),a=Ld(s,u=>u[0]===t&&u[1]===r);return s.size===0&&n.delete(e),a},ru=n=>Yr(fE,n),ga=n=>{if(ma.has(n))throw new Error("The AudioNode is already stored.");ma.add(n),ru(n).forEach(e=>e(!0))},mE=n=>"port"in n,iu=n=>{if(!ma.has(n))throw new Error("The AudioNode is not stored.");ma.delete(n),ru(n).forEach(e=>e(!1))},Hp=(n,e)=>{!mE(n)&&e.every(t=>t.size===0)&&iu(n)},NI=(n,e,t,r,s,a,u,c,d,h,p,g,y)=>{const _=new WeakMap;return(w,E,S,C,O)=>{const{activeInputs:R,passiveInputs:N}=a(E),{outputs:x}=a(w),k=c(w),T=A=>{const $=d(E),L=d(w);if(A){const V=pE(N,w,S,C);n(R,w,V,!1),!O&&!g(w)&&t(L,$,S,C),y(E)&&ga(E)}else{const V=r(R,w,S,C);e(N,C,V,!1),!O&&!g(w)&&s(L,$,S,C);const B=u(E);if(B===0)p(E)&&Hp(E,R);else{const J=_.get(E);J!==void 0&&clearTimeout(J),_.set(E,setTimeout(()=>{p(E)&&Hp(E,R)},B*1e3))}}};return h(x,[E,S,C],A=>A[0]===E&&A[1]===S&&A[2]===C,!0)?(k.add(T),p(w)?n(R,w,[S,C,T],!0):e(N,C,[w,S,T],!0),!0):!1}},AI=n=>(e,t,[r,s,a],u)=>{const c=e.get(r);c===void 0?e.set(r,new Set([[s,t,a]])):n(c,[s,t,a],d=>d[0]===s&&d[1]===t,u)},kI=n=>(e,t)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const s=()=>{t.removeEventListener("ended",s),t.disconnect(r),r.disconnect()};t.addEventListener("ended",s)},OI=n=>(e,t)=>{n(e).add(t)},RI={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},II=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=s(c),p={...RI,...d},g=r(h,p),y=a(h)?e():null;super(c,!1,g,y),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Cn=(n,e)=>n.context===e,DI=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!Cn(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,h)}return r.set(u,c),await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},nd=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},vi=()=>new DOMException("","IndexSizeError"),Xm=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(r){throw r.code===12?vi():r}})(n.getChannelData)},LI={numberOfChannels:1},jI=(n,e,t,r,s,a,u,c)=>{let d=null;return class gE{constructor(p){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:y,sampleRate:_}={...LI,...p};d===null&&(d=new s(1,1,44100));const w=r!==null&&e(a,a)?new r({length:g,numberOfChannels:y,sampleRate:_}):d.createBuffer(y,g,_);if(w.numberOfChannels===0)throw t();return typeof w.copyFromChannel!="function"?(u(w),Xm(w)):e(nd,()=>nd(w))||c(w),n.add(w),w}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===gE.prototype||n.has(p)}}},ar=-34028234663852886e22,On=34028234663852886e22,Fi=n=>ma.has(n),FI={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},UI=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const g=a(h),y={...FI,...p},_=s(g,y),w=u(g),E=w?e():null;super(h,!1,_,E),this._audioBufferSourceNodeRenderer=E,this._isBufferNullified=!1,this._isBufferSet=y.buffer!==null,this._nativeAudioBufferSourceNode=_,this._onended=null,this._playbackRate=t(this,w,_.playbackRate,On,ar)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const p=typeof h=="function"?c(this,h):null;this._nativeAudioBufferSourceNode.onended=p;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===p?h:g}get playbackRate(){return this._playbackRate}start(h=0,p=0,g){if(this._nativeAudioBufferSourceNode.start(h,p,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[h,p]:[h,p,g]),this.context.state!=="closed"){ga(this);const y=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",y),Fi(this)&&iu(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",y)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},$I=(n,e,t,r,s)=>()=>{const a=new WeakMap;let u=null,c=null;const d=async(h,p)=>{let g=t(h);const y=Cn(g,p);if(!y){const _={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=e(p,_),u!==null&&g.start(...u),c!==null&&g.stop(c)}return a.set(p,g),y?await n(p,h.playbackRate,g.playbackRate):await r(p,h.playbackRate,g.playbackRate),await s(h,p,g),g};return{set start(h){u=h},set stop(h){c=h},render(h,p){const g=a.get(p);return g!==void 0?Promise.resolve(g):d(h,p)}}},BI=n=>"playbackRate"in n,VI=n=>"frequency"in n&&"gain"in n,zI=n=>"offset"in n,WI=n=>!("frequency"in n)&&"gain"in n,HI=n=>"detune"in n&&"frequency"in n&&!("gain"in n),qI=n=>"pan"in n,Rn=n=>Yr(cE,n),su=n=>Yr(dE,n),qp=(n,e)=>{const{activeInputs:t}=Rn(n);t.forEach(s=>s.forEach(([a])=>{e.includes(n)||qp(a,[...e,n])}));const r=BI(n)?[n.playbackRate]:mE(n)?Array.from(n.parameters.values()):VI(n)?[n.Q,n.detune,n.frequency,n.gain]:zI(n)?[n.offset]:WI(n)?[n.gain]:HI(n)?[n.detune,n.frequency]:qI(n)?[n.pan]:[];for(const s of r){const a=su(s);a!==void 0&&a.activeInputs.forEach(([u])=>qp(u,e))}Fi(n)&&iu(n)},vE=n=>{qp(n.destination,[])},GI=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),YI=(n,e,t,r,s,a,u,c,d)=>class extends n{constructor(p={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new d(p)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?t():w}if(g===null)throw r();if(!GI(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&g.sampleRate!==p.sampleRate)throw t();super(g,2);const{latencyHint:y}=p,{sampleRate:_}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:y==="balanced"?512/_:y==="interactive"||y===void 0?256/_:y==="playback"?1024/_:Math.max(2,Math.min(128,Math.round(y*_/128)))*128/_,this._nativeAudioContext=g,d.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",w)};g.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),vE(this)}))}createMediaElementSource(p){return new s(this,{mediaElement:p})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new c(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,g)=>{const y=()=>{this._nativeAudioContext.removeEventListener("statechange",y),this._nativeAudioContext.state==="running"?p():this.resume().then(p,g)};this._nativeAudioContext.addEventListener("statechange",y)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?e():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?e():p})}},KI=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const g=a(h),y=u(g),_=s(g,p,y),w=y?e(c):null;super(h,!1,_,w),this._isNodeOfNativeOfflineAudioContext=y,this._nativeAudioDestinationNode=_}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},XI=n=>{const e=new WeakMap,t=async(r,s)=>{const a=s.destination;return e.set(s,a),await n(r,s,a),a};return{render(r,s){const a=e.get(s);return a!==void 0?Promise.resolve(a):t(r,s)}}},QI=(n,e,t,r,s,a,u,c)=>(d,h)=>{const p=h.listener,g=()=>{const x=new Float32Array(1),k=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=u(h);let A=!1,$=[0,0,-1,0,1,0],L=[0,0,0];const V=()=>{if(A)return;A=!0;const he=r(h,256,9,0);he.onaudioprocess=({inputBuffer:se})=>{const oe=[a(se,x,0),a(se,x,1),a(se,x,2),a(se,x,3),a(se,x,4),a(se,x,5)];oe.some((ee,Q)=>ee!==$[Q])&&(p.setOrientation(...oe),$=oe);const q=[a(se,x,6),a(se,x,7),a(se,x,8)];q.some((ee,Q)=>ee!==L[Q])&&(p.setPosition(...q),L=q)},k.connect(he)},B=he=>se=>{se!==$[he]&&($[he]=se,p.setOrientation(...$))},J=he=>se=>{se!==L[he]&&(L[he]=se,p.setPosition(...L))},ne=(he,se,oe)=>{const q=t(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se});q.connect(k,0,he),q.start(),Object.defineProperty(q.offset,"defaultValue",{get(){return se}});const ee=n({context:d},T,q.offset,On,ar);return c(ee,"value",Q=>()=>Q.call(ee),Q=>D=>{try{Q.call(ee,D)}catch(Y){if(Y.code!==9)throw Y}V(),T&&oe(D)}),ee.cancelAndHoldAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.cancelAndHoldAtTime),ee.cancelScheduledValues=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.cancelScheduledValues),ee.exponentialRampToValueAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.exponentialRampToValueAtTime),ee.linearRampToValueAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.linearRampToValueAtTime),ee.setTargetAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.setTargetAtTime),ee.setValueAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.setValueAtTime),ee.setValueCurveAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const Y=Q.apply(ee,D);return V(),Y})(ee.setValueCurveAtTime),ee};return{forwardX:ne(0,0,B(0)),forwardY:ne(1,0,B(1)),forwardZ:ne(2,-1,B(2)),positionX:ne(6,0,J(0)),positionY:ne(7,0,J(1)),positionZ:ne(8,0,J(2)),upX:ne(3,0,B(3)),upY:ne(4,1,B(4)),upZ:ne(5,0,B(5))}},{forwardX:y,forwardY:_,forwardZ:w,positionX:E,positionY:S,positionZ:C,upX:O,upY:R,upZ:N}=p.forwardX===void 0?g():p;return{get forwardX(){return y},get forwardY(){return _},get forwardZ(){return w},get positionX(){return E},get positionY(){return S},get positionZ(){return C},get upX(){return O},get upY(){return R},get upZ(){return N}}},rd=n=>"context"in n,ou=n=>rd(n[0]),mo=(n,e,t,r)=>{for(const s of n)if(t(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Q_=(n,e,[t,r],s)=>{mo(n,[e,t,r],a=>a[0]===e&&a[1]===t,s)},Z_=(n,[e,t,r],s)=>{const a=n.get(e);a===void 0?n.set(e,new Set([[t,r]])):mo(a,[t,r],u=>u[0]===t,s)},Ia=n=>"inputs"in n,id=(n,e,t,r)=>{if(Ia(e)){const s=e.inputs[r];return n.connect(s,t,0),[s,t,0]}return n.connect(e,t,r),[e,t,r]},yE=(n,e,t)=>{for(const r of n)if(r[0]===e&&r[1]===t)return n.delete(r),r;return null},ZI=(n,e,t)=>Ld(n,r=>r[0]===e&&r[1]===t),_E=(n,e)=>{if(!ru(n).delete(e))throw new Error("Missing the expected event listener.")},wE=(n,e,t)=>{const r=Yr(n,e),s=Ld(r,a=>a[0]===t);return r.size===0&&n.delete(e),s},sd=(n,e,t,r)=>{Ia(e)?n.disconnect(e.inputs[r],t,0):n.disconnect(e,t,r)},jt=n=>Yr(Ym,n),Hl=n=>Yr(Km,n),uo=n=>Vp.has(n),$c=n=>!ma.has(n),J_=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=n.createScriptProcessor(256,1,1),s=n.createGain(),a=n.createBuffer(1,2,44100),u=a.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=a,c.loop=!0,c.connect(r).connect(n.destination),c.connect(s),c.disconnect(s),r.onaudioprocess=d=>{const h=d.inputBuffer.getChannelData(0);Array.prototype.some.call(h,p=>p===1)?t(!0):t(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(n.destination)},c.start()}}),hp=(n,e)=>{const t=new Map;for(const r of n)for(const s of r){const a=t.get(s);t.set(s,a===void 0?1:a+1)}t.forEach((r,s)=>e(s,r))},od=n=>"context"in n,JI=n=>{const e=new Map;n.connect=(t=>(r,s=0,a=0)=>{const u=od(r)?t(r,s,a):t(r,s),c=e.get(r);return c===void 0?e.set(r,[{input:a,output:s}]):c.every(d=>d.input!==a||d.output!==s)&&c.push({input:a,output:s}),u})(n.connect.bind(n)),n.disconnect=(t=>(r,s,a)=>{if(t.apply(n),r===void 0)e.clear();else if(typeof r=="number")for(const[u,c]of e){const d=c.filter(h=>h.output!==r);d.length===0?e.delete(u):e.set(u,d)}else if(e.has(r))if(s===void 0)e.delete(r);else{const u=e.get(r);if(u!==void 0){const c=u.filter(d=>d.output!==s&&(d.input!==a||a===void 0));c.length===0?e.delete(r):e.set(r,c)}}for(const[u,c]of e)c.forEach(d=>{od(u)?n.connect(u,d.output,d.input):n.connect(u,d.output)})})(n.disconnect)},eD=(n,e,t,r)=>{const{activeInputs:s,passiveInputs:a}=su(e),{outputs:u}=Rn(n),c=ru(n),d=h=>{const p=jt(n),g=Hl(e);if(h){const y=wE(a,n,t);Q_(s,n,y,!1),!r&&!uo(n)&&p.connect(g,t)}else{const y=ZI(s,n,t);Z_(a,y,!1),!r&&!uo(n)&&p.disconnect(g,t)}};return mo(u,[e,t],h=>h[0]===e&&h[1]===t,!0)?(c.add(d),Fi(n)?Q_(s,n,[t,d],!0):Z_(a,[n,t,d],!0),!0):!1},tD=(n,e,t,r)=>{const{activeInputs:s,passiveInputs:a}=Rn(e),u=yE(s[r],n,t);return u===null?[pE(a,n,t,r)[2],!1]:[u[2],!0]},nD=(n,e,t)=>{const{activeInputs:r,passiveInputs:s}=su(e),a=yE(r,n,t);return a===null?[wE(s,n,t)[1],!1]:[a[2],!0]},Qm=(n,e,t,r,s)=>{const[a,u]=tD(n,t,r,s);if(a!==null&&(_E(n,a),u&&!e&&!uo(n)&&sd(jt(n),jt(t),r,s)),Fi(t)){const{activeInputs:c}=Rn(t);Hp(t,c)}},Zm=(n,e,t,r)=>{const[s,a]=nD(n,t,r);s!==null&&(_E(n,s),a&&!e&&!uo(n)&&jt(n).disconnect(Hl(t),r))},rD=(n,e)=>{const t=Rn(n),r=[];for(const s of t.outputs)ou(s)?Qm(n,e,...s):Zm(n,e,...s),r.push(s[0]);return t.outputs.clear(),r},iD=(n,e,t)=>{const r=Rn(n),s=[];for(const a of r.outputs)a[1]===t&&(ou(a)?Qm(n,e,...a):Zm(n,e,...a),s.push(a[0]),r.outputs.delete(a));return s},sD=(n,e,t,r,s)=>{const a=Rn(n);return Array.from(a.outputs).filter(u=>u[0]===t&&(r===void 0||u[1]===r)&&(s===void 0||u[2]===s)).map(u=>(ou(u)?Qm(n,e,...u):Zm(n,e,...u),a.outputs.delete(u),u[0]))},oD=(n,e,t,r,s,a,u,c,d,h,p,g,y,_,w,E)=>class extends h{constructor(C,O,R,N){super(R),this._context=C,this._nativeAudioNode=R;const x=p(C);g(x)&&t(J_,()=>J_(x,E))!==!0&&JI(R),Ym.set(this,R),fE.set(this,new Set),C.state!=="closed"&&O&&ga(this),n(this,N,R)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,O=0,R=0){if(O<0||O>=this._nativeAudioNode.numberOfOutputs)throw s();const N=p(this._context),x=w(N);if(y(C)||_(C))throw a();if(rd(C)){const A=jt(C);try{const L=id(this._nativeAudioNode,A,O,R),V=$c(this);(x||V)&&this._nativeAudioNode.disconnect(...L),this.context.state!=="closed"&&!V&&$c(C)&&ga(C)}catch(L){throw L.code===12?a():L}if(e(this,C,O,R,x)){const L=d([this],C);hp(L,r(x))}return C}const k=Hl(C);if(k.name==="playbackRate"&&k.maxValue===1024)throw u();try{this._nativeAudioNode.connect(k,O),(x||$c(this))&&this._nativeAudioNode.disconnect(k,O)}catch(A){throw A.code===12?a():A}if(eD(this,C,O,x)){const A=d([this],C);hp(A,r(x))}}disconnect(C,O,R){let N;const x=p(this._context),k=w(x);if(C===void 0)N=rD(this,k);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw s();N=iD(this,k,C)}else{if(O!==void 0&&(O<0||O>=this.numberOfOutputs)||rd(C)&&R!==void 0&&(R<0||R>=C.numberOfInputs))throw s();if(N=sD(this,k,C,O,R),N.length===0)throw a()}for(const T of N){const A=d([this],T);hp(A,c)}}},aD=(n,e,t,r,s,a,u,c,d,h,p,g,y)=>(_,w,E,S=null,C=null)=>{const O=E.value,R=new vI(O),N=w?r(R):null,x={get defaultValue(){return O},get maxValue(){return S===null?E.maxValue:S},get minValue(){return C===null?E.minValue:C},get value(){return E.value},set value(k){E.value=k,x.setValueAtTime(k,_.context.currentTime)},cancelAndHoldAtTime(k){if(typeof E.cancelAndHoldAtTime=="function")N===null&&R.flush(_.context.currentTime),R.add(s(k)),E.cancelAndHoldAtTime(k);else{const T=Array.from(R).pop();N===null&&R.flush(_.context.currentTime),R.add(s(k));const A=Array.from(R).pop();E.cancelScheduledValues(k),T!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?E.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?E.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?E.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&E.setValueCurveAtTime(A.values,A.startTime,A.duration))}return x},cancelScheduledValues(k){return N===null&&R.flush(_.context.currentTime),R.add(a(k)),E.cancelScheduledValues(k),x},exponentialRampToValueAtTime(k,T){if(k===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;const A=_.context.currentTime;return N===null&&R.flush(A),Array.from(R).length===0&&(R.add(h(O,A)),E.setValueAtTime(O,A)),R.add(u(k,T)),E.exponentialRampToValueAtTime(k,T),x},linearRampToValueAtTime(k,T){const A=_.context.currentTime;return N===null&&R.flush(A),Array.from(R).length===0&&(R.add(h(O,A)),E.setValueAtTime(O,A)),R.add(c(k,T)),E.linearRampToValueAtTime(k,T),x},setTargetAtTime(k,T,A){return N===null&&R.flush(_.context.currentTime),R.add(d(k,T,A)),E.setTargetAtTime(k,T,A),x},setValueAtTime(k,T){return N===null&&R.flush(_.context.currentTime),R.add(h(k,T)),E.setValueAtTime(k,T),x},setValueCurveAtTime(k,T,A){const $=k instanceof Float32Array?k:new Float32Array(k);if(g!==null&&g.name==="webkitAudioContext"){const L=T+A,V=_.context.sampleRate,B=Math.ceil(T*V),J=Math.floor(L*V),ne=J-B,he=new Float32Array(ne);for(let oe=0;oe<ne;oe+=1){const q=($.length-1)/A*((B+oe)/V-T),ee=Math.floor(q),Q=Math.ceil(q);he[oe]=ee===Q?$[ee]:(1-(q-ee))*$[ee]+(1-(Q-q))*$[Q]}N===null&&R.flush(_.context.currentTime),R.add(p(he,T,A)),E.setValueCurveAtTime(he,T,A);const se=J/V;se<L&&y(x,he[he.length-1],se),y(x,$[$.length-1],L)}else N===null&&R.flush(_.context.currentTime),R.add(p($,T,A)),E.setValueCurveAtTime($,T,A);return x}};return t.set(x,E),e.set(x,_),n(x,N),x},lD=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:r,value:s}=t;e.exponentialRampToValueAtTime(s,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:s}=t;e.linearRampToValueAtTime(s,r)}else if(t.type==="setTarget"){const{startTime:r,target:s,timeConstant:a}=t;e.setTargetAtTime(s,r,a)}else if(t.type==="setValue"){const{startTime:r,value:s}=t;e.setValueAtTime(s,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:s,values:a}=t;e.setValueCurveAtTime(a,s,r)}else throw new Error("Can't apply an unknown automation.")}});class SE{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,s)=>e.call(t,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const uD={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},cD=(n,e,t,r,s,a,u,c,d,h,p,g,y,_)=>class extends e{constructor(E,S,C){var O;const R=c(E),N=d(R),x=p({...uD,...C});y(x);const k=zp.get(R),T=k==null?void 0:k.get(S),A=N||R.state!=="closed"?R:(O=u(R))!==null&&O!==void 0?O:R,$=s(A,N?null:E.baseLatency,h,S,T,x),L=N?r(S,x,T):null;super(E,!0,$,L);const V=[];$.parameters.forEach((J,ne)=>{const he=t(this,N,J);V.push([ne,he])}),this._nativeAudioWorkletNode=$,this._onprocessorerror=null,this._parameters=new SE(V),N&&n(R,this);const{activeInputs:B}=a(this);g($,B)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(E){const S=typeof E=="function"?_(this,E):null;this._nativeAudioWorkletNode.onprocessorerror=S;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===S?E:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ad(n,e,t,r,s){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],r,s);else{const a=n.getChannelData(r);if(e[t].byteLength===0)e[t]=a.slice(s,s+128);else{const u=new Float32Array(a.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const EE=(n,e,t,r,s)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],r,s):e[t].byteLength!==0&&n.getChannelData(r).set(e[t],s)},ld=(n,e)=>{const t=[];for(let r=0;r<n;r+=1){const s=[],a=typeof e=="number"?e:e[r];for(let u=0;u<a;u+=1)s.push(new Float32Array(128));t.push(s)}return t},dD=(n,e)=>{const t=Yr(Wp,n),r=jt(e);return Yr(t,r)},fD=async(n,e,t,r,s,a,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,d=r.channelCount*r.numberOfInputs,h=s.reduce((S,C)=>S+C,0),p=h===0?null:t.createBuffer(h,c,t.sampleRate);if(a===void 0)throw new Error("Missing the processor constructor.");const g=Rn(n),y=await dD(t,n),_=ld(r.numberOfInputs,r.channelCount),w=ld(r.numberOfOutputs,s),E=Array.from(n.parameters.keys()).reduce((S,C)=>({...S,[C]:new Float32Array(128)}),{});for(let S=0;S<c;S+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let O=0;O<r.channelCount;O+=1)ad(e,_[C],O,O,S);a.parameterDescriptors!==void 0&&e!==null&&a.parameterDescriptors.forEach(({name:C},O)=>{ad(e,E,C,d+O,S)});for(let C=0;C<r.numberOfInputs;C+=1)for(let O=0;O<s[C];O+=1)w[C][O].byteLength===0&&(w[C][O]=new Float32Array(128));try{const C=_.map((R,N)=>g.activeInputs[N].size===0?[]:R),O=u(S/t.sampleRate,t.sampleRate,()=>y.process(C,w,E));if(p!==null)for(let R=0,N=0;R<r.numberOfOutputs;R+=1){for(let x=0;x<s[R];x+=1)EE(p,w[R],x,N+x,S);N+=s[R]}if(!O)break}catch(C){n.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return p},hD=(n,e,t,r,s,a,u,c,d,h,p,g,y,_,w,E)=>(S,C,O)=>{const R=new WeakMap;let N=null;const x=async(k,T)=>{let A=p(k),$=null;const L=Cn(A,T),V=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(g===null){const B=V.reduce((se,oe)=>se+oe,0),J=s(T,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),ne=[];for(let se=0;se<k.numberOfOutputs;se+=1)ne.push(r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:V[se]}));const he=u(T,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});he.connect=e.bind(null,ne),he.disconnect=d.bind(null,ne),$=[J,ne,he]}else L||(A=new g(T,S));if(R.set(T,$===null?A:$[2]),$!==null){if(N===null){if(O===void 0)throw new Error("Missing the processor constructor.");if(y===null)throw new Error("Missing the native OfflineAudioContext constructor.");const oe=k.channelCount*k.numberOfInputs,q=O.parameterDescriptors===void 0?0:O.parameterDescriptors.length,ee=oe+q;N=fD(k,ee===0?null:await(async()=>{const D=new y(ee,Math.ceil(k.context.length/128)*128,T.sampleRate),Y=[],te=[];for(let me=0;me<C.numberOfInputs;me+=1)Y.push(u(D,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),te.push(s(D,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const ye=await Promise.all(Array.from(k.parameters.values()).map(async me=>{const je=a(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:me.value});return await _(D,me,je.offset),je})),ce=r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,oe+q)});for(let me=0;me<C.numberOfInputs;me+=1){Y[me].connect(te[me]);for(let je=0;je<C.channelCount;je+=1)te[me].connect(ce,je,me*C.channelCount+je)}for(const[me,je]of ye.entries())je.connect(ce,0,oe+me),je.start(0);return ce.connect(D.destination),await Promise.all(Y.map(me=>w(k,D,me))),E(D)})(),T,C,V,O,h)}const B=await N,J=t(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ne,he,se]=$;B!==null&&(J.buffer=B,J.start(0)),J.connect(ne);for(let oe=0,q=0;oe<k.numberOfOutputs;oe+=1){const ee=he[oe];for(let Q=0;Q<V[oe];Q+=1)ne.connect(ee,q+Q,Q);q+=V[oe]}return se}if(L)for(const[B,J]of k.parameters.entries())await n(T,J,A.parameters.get(B));else for(const[B,J]of k.parameters.entries())await _(T,J,A.parameters.get(B));return await w(k,T,A),A};return{render(k,T){c(T,k);const A=R.get(T);return A!==void 0?Promise.resolve(A):x(k,T)}}},pD=(n,e,t,r,s,a,u,c,d,h,p,g,y,_,w,E,S,C,O,R)=>class extends w{constructor(x,k){super(x,k),this._nativeContext=x,this._audioWorklet=n===void 0?void 0:{addModule:(T,A)=>n(this,T,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(x,k,T){return new t({length:k,numberOfChannels:x,sampleRate:T})}createBufferSource(){return new r(this)}createChannelMerger(x=6){return new a(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new u(this,{numberOfOutputs:x})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(x=1){return new p(this,{maxDelayTime:x})}createDynamicsCompressor(){return new g(this)}createGain(){return new y(this)}createIIRFilter(x,k){return new _(this,{feedback:k,feedforward:x})}createOscillator(){return new E(this)}createPanner(){return new S(this)}createPeriodicWave(x,k,T={disableNormalization:!1}){return new C(this,{...T,imag:k,real:x})}createStereoPanner(){return new O(this)}createWaveShaper(){return new R(this)}decodeAudioData(x,k,T){return h(this._nativeContext,x).then(A=>(typeof k=="function"&&k(A),A),A=>{throw typeof T=="function"&&T(A),A})}},mD={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},gD=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const g=a(h),y={...mD,...p},_=s(g,y),w=u(g),E=w?t():null;super(h,!1,_,E),this._Q=e(this,w,_.Q,On,ar),this._detune=e(this,w,_.detune,1200*Math.log2(On),-1200*Math.log2(On)),this._frequency=e(this,w,_.frequency,h.sampleRate/2,0),this._gain=e(this,w,_.gain,40*Math.log10(On),ar),this._nativeBiquadFilterNode=_,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,p,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,p,g)}catch(y){throw y.code===11?r():y}if(h.length!==p.length||p.length!==g.length)throw r()}},vD=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=Cn(h,d);if(!p){const g={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(d,g)}return a.set(d,h),p?(await n(d,c.Q,h.Q),await n(d,c.detune,h.detune),await n(d,c.frequency,h.frequency),await n(d,c.gain,h.gain)):(await r(d,c.Q,h.Q),await r(d,c.detune,h.detune),await r(d,c.frequency,h.frequency),await r(d,c.gain,h.gain)),await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},yD=(n,e)=>(t,r)=>{const s=e.get(t);if(s!==void 0)return s;const a=n.get(t);if(a!==void 0)return a;try{const u=r();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},_D={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},wD=(n,e,t,r,s)=>class extends n{constructor(u,c){const d=r(u),h={..._D,...c},p=t(d,h),g=s(d)?e():null;super(u,!1,p,g)}},SD=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!Cn(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,h)}return r.set(u,c),await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},ED={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},MD=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=r(c),p=a({...ED,...d}),g=t(h,p),y=s(h)?e():null;super(c,!1,g,y)}},bD=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!Cn(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,h)}return r.set(u,c),await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},TD=n=>(e,t,r)=>n(t,e,r),xD=n=>(e,t,r=0,s=0)=>{const a=e[r];if(a===void 0)throw n();return od(t)?a.connect(t,0,s):a.connect(t,0)},CD=n=>(e,t)=>{const r=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},PD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ND=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),g={...PD,...h},y=r(p,g),_=a(p),w=_?t():null;super(d,!1,y,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=y,this._offset=e(this,_,y.offset,On,ar),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const h=typeof d=="function"?u(this,d):null;this._nativeConstantSourceNode.onended=h;const p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===h?d:p}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){ga(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),Fi(this)&&iu(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},AD=(n,e,t,r,s)=>()=>{const a=new WeakMap;let u=null,c=null;const d=async(h,p)=>{let g=t(h);const y=Cn(g,p);if(!y){const _={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=e(p,_),u!==null&&g.start(u),c!==null&&g.stop(c)}return a.set(p,g),y?await n(p,h.offset,g.offset):await r(p,h.offset,g.offset),await s(h,p,g),g};return{set start(h){u=h},set stop(h){c=h},render(h,p){const g=a.get(p);return g!==void 0?Promise.resolve(g):d(h,p)}}},kD=n=>e=>(n[0]=e,n[0]),OD={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},RD=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=r(c),p={...OD,...d},g=t(h,p),_=s(h)?e():null;super(c,!1,g,_),this._isBufferNullified=!1,this._nativeConvolverNode=g,p.buffer!==null&&a(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},ID=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!Cn(c,u)){const h={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,h)}return r.set(u,c),Ia(c)?await t(a,u,c.inputs[0]):await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},DD=(n,e)=>(t,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,s)}catch(a){throw a.name==="SyntaxError"?n():a}},LD=()=>new DOMException("","DataCloneError"),ew=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const s=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>s();try{e.postMessage(n,[n])}catch{}finally{s()}})},jD=(n,e,t,r,s,a,u,c,d,h,p)=>(g,y)=>{const _=u(g)?g:a(g);if(s.has(y)){const w=t();return Promise.reject(w)}try{s.add(y)}catch{}return e(d,()=>d(_))?_.decodeAudioData(y).then(w=>(ew(y).catch(()=>{}),e(c,()=>c(w))||p(w),n.add(w),w)):new Promise((w,E)=>{const S=async()=>{try{await ew(y)}catch{}},C=O=>{E(O),S()};try{_.decodeAudioData(y,O=>{typeof O.copyFromChannel!="function"&&(h(O),Xm(O)),n.add(O),S().then(()=>w(O))},O=>{C(O===null?r():O)})}catch(O){C(O)}})},FD=(n,e,t,r,s,a,u,c)=>(d,h)=>{const p=e.get(d);if(p===void 0)throw new Error("Missing the expected cycle count.");const g=a(d.context),y=c(g);if(p===h){if(e.delete(d),!y&&u(d)){const _=r(d),{outputs:w}=t(d);for(const E of w)if(ou(E)){const S=r(E[0]);n(_,S,E[1],E[2])}else{const S=s(E[0]);_.connect(S,E[1])}}}else e.set(d,p-h)},UD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},$D=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),g={...UD,...h},y=r(p,g),_=a(p),w=_?t(g.maxDelayTime):null;super(d,!1,y,w),this._delayTime=e(this,_,y.delayTime),u(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},BD=(n,e,t,r,s)=>a=>{const u=new WeakMap,c=async(d,h)=>{let p=t(d);const g=Cn(p,h);if(!g){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:a};p=e(h,y)}return u.set(h,p),g?await n(h,d.delayTime,p.delayTime):await r(h,d.delayTime,p.delayTime),await s(d,h,p),p};return{render(d,h){const p=u.get(h);return p!==void 0?Promise.resolve(p):c(d,h)}}},VD=n=>(e,t,r,s)=>n(e[s],a=>a[0]===t&&a[1]===r),zD=n=>(e,t)=>{n(e).delete(t)},WD=n=>"delayTime"in n,HD=(n,e,t)=>function r(s,a){const u=rd(a)?a:t(n,a);if(WD(u))return[];if(s[0]===u)return[s];if(s.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(d=>r([...s,u],d[0])).reduce((d,h)=>d.concat(h),[])},Ac=(n,e,t)=>{const r=e[t];if(r===void 0)throw n();return r},qD=n=>(e,t=void 0,r=void 0,s=0)=>t===void 0?e.forEach(a=>a.disconnect()):typeof t=="number"?Ac(n,e,t).disconnect():od(t)?r===void 0?e.forEach(a=>a.disconnect(t)):s===void 0?Ac(n,e,r).disconnect(t,0):Ac(n,e,r).disconnect(t,0,s):r===void 0?e.forEach(a=>a.disconnect(t)):Ac(n,e,r).disconnect(t,0),GD={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},YD=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const g=a(h),y={...GD,...p},_=r(g,y),w=u(g),E=w?t():null;super(h,!1,_,E),this._attack=e(this,w,_.attack),this._knee=e(this,w,_.knee),this._nativeDynamicsCompressorNode=_,this._ratio=e(this,w,_.ratio),this._release=e(this,w,_.release),this._threshold=e(this,w,_.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=p,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},KD=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=Cn(h,d);if(!p){const g={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(d,g)}return a.set(d,h),p?(await n(d,c.attack,h.attack),await n(d,c.knee,h.knee),await n(d,c.ratio,h.ratio),await n(d,c.release,h.release),await n(d,c.threshold,h.threshold)):(await r(d,c.attack,h.attack),await r(d,c.knee,h.knee),await r(d,c.ratio,h.ratio),await r(d,c.release,h.release),await r(d,c.threshold,h.threshold)),await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},XD=()=>new DOMException("","EncodingError"),QD=n=>e=>new Promise((t,r)=>{if(n===null){r(new SyntaxError);return}const s=n.document.head;if(s===null)r(new SyntaxError);else{const a=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),d=n.onerror,h=()=>{n.onerror=d,URL.revokeObjectURL(c)};n.onerror=(p,g,y,_,w)=>{if(g===c||g===n.location.href&&y===1&&_===1)return h(),r(w),!1;if(d!==null)return d(p,g,y,_,w)},a.onerror=()=>{h(),r(new SyntaxError)},a.onload=()=>{h(),t()},a.src=c,a.type="module",s.appendChild(a)}}),ZD=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,s){if(r!==null){let a=this._listeners.get(r);a===void 0&&(a=n(this,r),typeof r=="function"&&this._listeners.set(r,a)),this._nativeEventTarget.addEventListener(t,a,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,s){const a=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,a===void 0?null:a,s)}},JD=n=>(e,t,r)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},e3=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},t3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},n3=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=s(c),p={...t3,...d},g=r(h,p),y=a(h),_=y?t():null;super(c,!1,g,_),this._gain=e(this,y,g.gain,On,ar)}get gain(){return this._gain}},r3=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=Cn(h,d);if(!p){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(d,g)}return a.set(d,h),p?await n(d,c.gain,h.gain):await r(d,c.gain,h.gain),await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},i3=(n,e)=>t=>e(n,t),s3=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},o3=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},a3=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},l3=n=>e=>n.get(e),pn=()=>new DOMException("","InvalidStateError"),u3=n=>e=>{const t=n.get(e);if(t===void 0)throw pn();return t},c3=(n,e)=>t=>{let r=n.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),n.set(t,r),r},d3=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},jd=()=>new DOMException("","InvalidAccessError"),f3=n=>{n.getFrequencyResponse=(e=>(t,r,s)=>{if(t.length!==r.length||r.length!==s.length)throw jd();return e.call(n,t,r,s)})(n.getFrequencyResponse)},h3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},p3=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=r(c),p=s(h),g={...h3,...d},y=e(h,p?null:c.baseLatency,g),_=p?t(g.feedback,g.feedforward):null;super(c,!1,y,_),f3(y),this._nativeIIRFilterNode=y,a(this,1)}getFrequencyResponse(c,d,h){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,h)}},ME=(n,e,t,r,s,a,u,c,d,h,p)=>{const g=h.length;let y=c;for(let _=0;_<g;_+=1){let w=t[0]*h[_];for(let E=1;E<s;E+=1){const S=y-E&d-1;w+=t[E]*a[S],w-=n[E]*u[S]}for(let E=s;E<r;E+=1)w+=t[E]*a[y-E&d-1];for(let E=s;E<e;E+=1)w-=n[E]*u[y-E&d-1];a[y]=h[_],u[y]=w,y=y+1&d-1,p[_]=w}return y},m3=(n,e,t,r)=>{const s=t instanceof Float64Array?t:new Float64Array(t),a=r instanceof Float64Array?r:new Float64Array(r),u=s.length,c=a.length,d=Math.min(u,c);if(s[0]!==1){for(let w=0;w<u;w+=1)a[w]/=s[0];for(let w=1;w<c;w+=1)s[w]/=s[0]}const h=32,p=new Float32Array(h),g=new Float32Array(h),y=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),_=n.numberOfChannels;for(let w=0;w<_;w+=1){const E=n.getChannelData(w),S=y.getChannelData(w);p.fill(0),g.fill(0),ME(s,u,a,c,d,p,g,0,h,E,S)}return y},g3=(n,e,t,r,s)=>(a,u)=>{const c=new WeakMap;let d=null;const h=async(p,g)=>{let y=null,_=e(p);const w=Cn(_,g);if(g.createIIRFilter===void 0?y=n(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(_=g.createIIRFilter(u,a)),c.set(g,y===null?_:y),y!==null){if(d===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new t(p.context.destination.channelCount,p.context.length,g.sampleRate);d=(async()=>{await r(p,S,S.destination);const C=await s(S);return m3(C,g,a,u)})()}const E=await d;return y.buffer=E,y.start(0),y}return await r(p,g,_),_};return{render(p,g){const y=c.get(g);return y!==void 0?Promise.resolve(y):h(p,g)}}},v3=(n,e,t,r,s,a)=>u=>(c,d)=>{const h=n.get(c);if(h===void 0){if(!u&&a(c)){const p=r(c),{outputs:g}=t(c);for(const y of g)if(ou(y)){const _=r(y[0]);e(p,_,y[1],y[2])}else{const _=s(y[0]);p.disconnect(_,y[1])}}n.set(c,d)}else n.set(c,h+d)},y3=(n,e)=>t=>{const r=n.get(t);return e(r)||e(t)},_3=(n,e)=>t=>n.has(t)||e(t),w3=(n,e)=>t=>n.has(t)||e(t),S3=(n,e)=>t=>{const r=n.get(t);return e(r)||e(t)},E3=n=>e=>n!==null&&e instanceof n,M3=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,b3=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,T3=(n,e)=>t=>n(t)||e(t),x3=n=>e=>n!==null&&e instanceof n,C3=n=>n!==null&&n.isSecureContext,P3=(n,e,t,r)=>class extends n{constructor(a,u){const c=t(a),d=e(c,u);if(r(c))throw TypeError();super(a,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},N3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},A3=(n,e,t,r)=>class extends n{constructor(a,u){const c=t(a);if(r(c))throw new TypeError;const d={...N3,...u},h=e(c,d);super(a,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},k3=(n,e,t,r)=>class extends n{constructor(a,u){const c=t(a),d=e(c,u);if(r(c))throw new TypeError;super(a,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},O3=(n,e,t)=>class extends n{constructor(s,a){const u=t(s),c=e(u,a);super(s,!0,c,null)}},R3=(n,e,t,r,s,a)=>class extends t{constructor(c,d){super(c),this._nativeContext=c,Dd.set(this,c),r(c)&&s.set(c,new Set),this._destination=new n(this,d),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?a(this,c):null;this._nativeContext.onstatechange=d;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===d?c:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ql=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},I3=(n,e)=>(t,r,s)=>{const a=new Set;return t.connect=(u=>(c,d=0,h=0)=>{const p=a.size===0;if(e(c))return u.call(t,c,d,h),n(a,[c,d,h],g=>g[0]===c&&g[1]===d&&g[2]===h,!0),p&&r(),c;u.call(t,c,d),n(a,[c,d],g=>g[0]===c&&g[1]===d,!0),p&&r()})(t.connect),t.disconnect=(u=>(c,d,h)=>{const p=a.size>0;if(c===void 0)u.apply(t),a.clear();else if(typeof c=="number"){u.call(t,c);for(const y of a)y[1]===c&&a.delete(y)}else{e(c)?u.call(t,c,d,h):u.call(t,c,d);for(const y of a)y[0]===c&&(d===void 0||y[1]===d)&&(h===void 0||y[2]===h)&&a.delete(y)}const g=a.size===0;p&&g&&s()})(t.disconnect),t},$t=(n,e,t)=>{const r=e[t];r!==void 0&&r!==n[t]&&(n[t]=r)},ln=(n,e)=>{$t(n,e,"channelCount"),$t(n,e,"channelCountMode"),$t(n,e,"channelInterpretation")},tw=n=>typeof n.getFloatTimeDomainData=="function",D3=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const r=Math.max(t.length,n.fftSize);for(let s=0;s<r;s+=1)e[s]=(t[s]-128)*.0078125;return e}},L3=(n,e)=>(t,r)=>{const s=t.createAnalyser();if(ln(s,r),!(r.maxDecibels>r.minDecibels))throw e();return $t(s,r,"fftSize"),$t(s,r,"maxDecibels"),$t(s,r,"minDecibels"),$t(s,r,"smoothingTimeConstant"),n(tw,()=>tw(s))||D3(s),s},j3=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,qt=(n,e,t)=>{const r=e[t];r!==void 0&&r!==n[t].value&&(n[t].value=r)},F3=n=>{n.start=(e=>{let t=!1;return(r=0,s=0,a)=>{if(t)throw pn();e.call(n,r,s,a),t=!0}})(n.start)},Jm=n=>{n.start=(e=>(t=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,r,s)})(n.start)},eg=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},U3=(n,e,t,r,s,a,u,c,d,h,p)=>(g,y)=>{const _=g.createBufferSource();return ln(_,y),qt(_,y,"playbackRate"),$t(_,y,"buffer"),$t(_,y,"loop"),$t(_,y,"loopEnd"),$t(_,y,"loopStart"),e(t,()=>t(g))||F3(_),e(r,()=>r(g))||d(_),e(s,()=>s(g))||h(_,g),e(a,()=>a(g))||Jm(_),e(u,()=>u(g))||p(_,g),e(c,()=>c(g))||eg(_),n(g,_),_},$3=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,B3=(n,e)=>(t,r,s)=>{const a=t.destination;if(a.channelCount!==r)try{a.channelCount=r}catch{}s&&a.channelCountMode!=="explicit"&&(a.channelCountMode="explicit"),a.maxChannelCount===0&&Object.defineProperty(a,"maxChannelCount",{value:r});const u=n(t,{channelCount:r,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>d=>{c.call(u,d);try{a.channelCount=d}catch(h){if(d>a.maxChannelCount)throw h}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>d=>{c.call(u,d),a.channelCountMode=d}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>d=>{c.call(u,d),a.channelInterpretation=d}),Object.defineProperty(u,"maxChannelCount",{get:()=>a.maxChannelCount}),u.connect(a),u},V3=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,z3=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},W3=(n,e,t,r,s)=>(a,u,c,d,h,p)=>{if(c!==null)try{const g=new c(a,d,p),y=new Map;let _=null;if(Object.defineProperties(g,{channelCount:{get:()=>p.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>_,set:w=>{typeof _=="function"&&g.removeEventListener("processorerror",_),_=typeof w=="function"?w:null,typeof _=="function"&&g.addEventListener("processorerror",_)}}}),g.addEventListener=(w=>(...E)=>{if(E[0]==="processorerror"){const S=typeof E[1]=="function"?E[1]:typeof E[1]=="object"&&E[1]!==null&&typeof E[1].handleEvent=="function"?E[1].handleEvent:null;if(S!==null){const C=y.get(E[1]);C!==void 0?E[1]=C:(E[1]=O=>{O.type==="error"?(Object.defineProperties(O,{type:{value:"processorerror"}}),S(O)):S(new ErrorEvent(E[0],{...O}))},y.set(S,E[1]))}}return w.call(g,"error",E[1],E[2]),w.call(g,...E)})(g.addEventListener),g.removeEventListener=(w=>(...E)=>{if(E[0]==="processorerror"){const S=y.get(E[1]);S!==void 0&&(y.delete(E[1]),E[1]=S)}return w.call(g,"error",E[1],E[2]),w.call(g,E[0],E[1],E[2])})(g.removeEventListener),p.numberOfOutputs!==0){const w=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(w).connect(a.destination),s(g,()=>w.disconnect(),()=>w.connect(a.destination))}return g}catch(g){throw g.code===11?r():g}if(h===void 0)throw r();return z3(p),e(a,u,h,p)},bE=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),H3=n=>new Promise((e,t)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:a})=>{r.close(),s.close(),e(a)},r.onmessageerror=({data:a})=>{r.close(),s.close(),t(a)},s.postMessage(n)}),q3=async(n,e)=>{const t=await H3(e);return new n(t)},G3=(n,e,t,r)=>{let s=Wp.get(n);s===void 0&&(s=new WeakMap,Wp.set(n,s));const a=q3(t,r);return s.set(e,a),a},Y3=(n,e,t,r,s,a,u,c,d,h,p,g,y)=>(_,w,E,S)=>{if(S.numberOfInputs===0&&S.numberOfOutputs===0)throw d();const C=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(C.some(fe=>fe<1))throw d();if(C.length!==S.numberOfOutputs)throw e();if(S.channelCountMode!=="explicit")throw d();const O=S.channelCount*S.numberOfInputs,R=C.reduce((fe,xe)=>fe+xe,0),N=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length;if(O+N>6||R>6)throw d();const x=new MessageChannel,k=[],T=[];for(let fe=0;fe<S.numberOfInputs;fe+=1)k.push(u(_,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),T.push(s(_,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const A=[];if(E.parameterDescriptors!==void 0)for(const{defaultValue:fe,maxValue:xe,minValue:st,name:ut}of E.parameterDescriptors){const qe=a(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S.parameterData[ut]!==void 0?S.parameterData[ut]:fe===void 0?0:fe});Object.defineProperties(qe.offset,{defaultValue:{get:()=>fe===void 0?0:fe},maxValue:{get:()=>xe===void 0?On:xe},minValue:{get:()=>st===void 0?ar:st}}),A.push(qe)}const $=r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,O+N)}),L=bE(w,_.sampleRate),V=c(_,L,O+N,Math.max(1,R)),B=s(_,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),J=[];for(let fe=0;fe<S.numberOfOutputs;fe+=1)J.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[fe]}));for(let fe=0;fe<S.numberOfInputs;fe+=1){k[fe].connect(T[fe]);for(let xe=0;xe<S.channelCount;xe+=1)T[fe].connect($,xe,fe*S.channelCount+xe)}const ne=new SE(E.parameterDescriptors===void 0?[]:E.parameterDescriptors.map(({name:fe},xe)=>{const st=A[xe];return st.connect($,0,O+xe),st.start(0),[fe,st.offset]}));$.connect(V);let he=S.channelInterpretation,se=null;const oe=S.numberOfOutputs===0?[V]:J,q={get bufferSize(){return L},get channelCount(){return S.channelCount},set channelCount(fe){throw t()},get channelCountMode(){return S.channelCountMode},set channelCountMode(fe){throw t()},get channelInterpretation(){return he},set channelInterpretation(fe){for(const xe of k)xe.channelInterpretation=fe;he=fe},get context(){return V.context},get inputs(){return k},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get onprocessorerror(){return se},set onprocessorerror(fe){typeof se=="function"&&q.removeEventListener("processorerror",se),se=typeof fe=="function"?fe:null,typeof se=="function"&&q.addEventListener("processorerror",se)},get parameters(){return ne},get port(){return x.port2},addEventListener(...fe){return V.addEventListener(fe[0],fe[1],fe[2])},connect:n.bind(null,oe),disconnect:h.bind(null,oe),dispatchEvent(...fe){return V.dispatchEvent(fe[0])},removeEventListener(...fe){return V.removeEventListener(fe[0],fe[1],fe[2])}},ee=new Map;x.port1.addEventListener=(fe=>(...xe)=>{if(xe[0]==="message"){const st=typeof xe[1]=="function"?xe[1]:typeof xe[1]=="object"&&xe[1]!==null&&typeof xe[1].handleEvent=="function"?xe[1].handleEvent:null;if(st!==null){const ut=ee.get(xe[1]);ut!==void 0?xe[1]=ut:(xe[1]=qe=>{p(_.currentTime,_.sampleRate,()=>st(qe))},ee.set(st,xe[1]))}}return fe.call(x.port1,xe[0],xe[1],xe[2])})(x.port1.addEventListener),x.port1.removeEventListener=(fe=>(...xe)=>{if(xe[0]==="message"){const st=ee.get(xe[1]);st!==void 0&&(ee.delete(xe[1]),xe[1]=st)}return fe.call(x.port1,xe[0],xe[1],xe[2])})(x.port1.removeEventListener);let Q=null;Object.defineProperty(x.port1,"onmessage",{get:()=>Q,set:fe=>{typeof Q=="function"&&x.port1.removeEventListener("message",Q),Q=typeof fe=="function"?fe:null,typeof Q=="function"&&(x.port1.addEventListener("message",Q),x.port1.start())}}),E.prototype.port=x.port1;let D=null;G3(_,q,E,S).then(fe=>D=fe);const te=ld(S.numberOfInputs,S.channelCount),ye=ld(S.numberOfOutputs,C),ce=E.parameterDescriptors===void 0?[]:E.parameterDescriptors.reduce((fe,{name:xe})=>({...fe,[xe]:new Float32Array(128)}),{});let me=!0;const je=()=>{S.numberOfOutputs>0&&V.disconnect(B);for(let fe=0,xe=0;fe<S.numberOfOutputs;fe+=1){const st=J[fe];for(let ut=0;ut<C[fe];ut+=1)B.disconnect(st,xe+ut,ut);xe+=C[fe]}},de=new Map;V.onaudioprocess=({inputBuffer:fe,outputBuffer:xe})=>{if(D!==null){const st=g(q);for(let ut=0;ut<L;ut+=128){for(let qe=0;qe<S.numberOfInputs;qe+=1)for(let Xe=0;Xe<S.channelCount;Xe+=1)ad(fe,te[qe],Xe,Xe,ut);E.parameterDescriptors!==void 0&&E.parameterDescriptors.forEach(({name:qe},Xe)=>{ad(fe,ce,qe,O+Xe,ut)});for(let qe=0;qe<S.numberOfInputs;qe+=1)for(let Xe=0;Xe<C[qe];Xe+=1)ye[qe][Xe].byteLength===0&&(ye[qe][Xe]=new Float32Array(128));try{const qe=te.map((vt,Yt)=>{if(st[Yt].size>0)return de.set(Yt,L/128),vt;const Zt=de.get(Yt);return Zt===void 0?[]:(vt.every(Nn=>Nn.every(hr=>hr===0))&&(Zt===1?de.delete(Yt):de.set(Yt,Zt-1)),vt)});me=p(_.currentTime+ut/_.sampleRate,_.sampleRate,()=>D.process(qe,ye,ce));for(let vt=0,Yt=0;vt<S.numberOfOutputs;vt+=1){for(let Pn=0;Pn<C[vt];Pn+=1)EE(xe,ye[vt],Pn,Yt+Pn,ut);Yt+=C[vt]}}catch(qe){me=!1,q.dispatchEvent(new ErrorEvent("processorerror",{colno:qe.colno,filename:qe.filename,lineno:qe.lineno,message:qe.message}))}if(!me){for(let qe=0;qe<S.numberOfInputs;qe+=1){k[qe].disconnect(T[qe]);for(let Xe=0;Xe<S.channelCount;Xe+=1)T[ut].disconnect($,Xe,qe*S.channelCount+Xe)}if(E.parameterDescriptors!==void 0){const qe=E.parameterDescriptors.length;for(let Xe=0;Xe<qe;Xe+=1){const vt=A[Xe];vt.disconnect($,0,O+Xe),vt.stop()}}$.disconnect(V),V.onaudioprocess=null,He?je():lt();break}}}};let He=!1;const pt=u(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),mt=()=>V.connect(pt).connect(_.destination),lt=()=>{V.disconnect(pt),pt.disconnect()},Ot=()=>{if(me){lt(),S.numberOfOutputs>0&&V.connect(B);for(let fe=0,xe=0;fe<S.numberOfOutputs;fe+=1){const st=J[fe];for(let ut=0;ut<C[fe];ut+=1)B.connect(st,xe+ut,ut);xe+=C[fe]}}He=!0},un=()=>{me&&(mt(),je()),He=!1};return mt(),y(q,Ot,un)},TE=(n,e)=>{const t=n.createBiquadFilter();return ln(t,e),qt(t,e,"Q"),qt(t,e,"detune"),qt(t,e,"frequency"),qt(t,e,"gain"),$t(t,e,"type"),t},K3=(n,e)=>(t,r)=>{const s=t.createChannelMerger(r.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,s),ln(s,r),s},X3=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw pn()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw pn()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw pn()}})},au=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return ln(t,e),X3(t),t},Q3=(n,e,t,r,s)=>(a,u)=>{if(a.createConstantSource===void 0)return t(a,u);const c=a.createConstantSource();return ln(c,u),qt(c,u,"offset"),e(r,()=>r(a))||Jm(c),e(s,()=>s(a))||eg(c),n(a,c),c},Da=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),Z3=(n,e,t,r)=>(s,{offset:a,...u})=>{const c=s.createBuffer(1,2,44100),d=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=t(s,{...u,gain:a}),p=c.getChannelData(0);p[0]=1,p[1]=1,d.buffer=c,d.loop=!0;const g={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(w){h.channelCount=w},get channelCountMode(){return h.channelCountMode},set channelCountMode(w){h.channelCountMode=w},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(w){h.channelInterpretation=w},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return d.onended},set onended(w){d.onended=w},addEventListener(...w){return d.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return d.dispatchEvent(w[0])},removeEventListener(...w){return d.removeEventListener(w[0],w[1],w[2])},start(w=0){d.start.call(d,w)},stop(w=0){d.stop.call(d,w)}},y=()=>d.connect(h),_=()=>d.disconnect(h);return n(s,d),r(Da(g,h),y,_)},J3=(n,e)=>(t,r)=>{const s=t.createConvolver();if(ln(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),$t(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",a=>()=>a.call(s),a=>u=>{if(u>2)throw n();return a.call(s,u)}),r.channelCountMode==="max"))throw n();return e(s,"channelCountMode",a=>()=>a.call(s),a=>u=>{if(u==="max")throw n();return a.call(s,u)}),s},xE=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return ln(t,e),qt(t,e,"delayTime"),t},e2=n=>(e,t)=>{const r=e.createDynamicsCompressor();if(ln(r,t),t.channelCount>2||t.channelCountMode==="max")throw n();return qt(r,t,"attack"),qt(r,t,"knee"),qt(r,t,"ratio"),qt(r,t,"release"),qt(r,t,"threshold"),r},Jn=(n,e)=>{const t=n.createGain();return ln(t,e),qt(t,e,"gain"),t},t2=n=>(e,t,r)=>{if(e.createIIRFilter===void 0)return n(e,t,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return ln(s,r),s};function n2(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function r2(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function nw(n,e){let t=[0,0];for(let r=n.length-1;r>=0;r-=1)t=r2(t,e),t[0]+=n[r];return t}const i2=(n,e,t,r)=>(s,a,{channelCount:u,channelCountMode:c,channelInterpretation:d,feedback:h,feedforward:p})=>{const g=bE(a,s.sampleRate),y=h instanceof Float64Array?h:new Float64Array(h),_=p instanceof Float64Array?p:new Float64Array(p),w=y.length,E=_.length,S=Math.min(w,E);if(w===0||w>20)throw r();if(y[0]===0)throw e();if(E===0||E>20)throw r();if(_[0]===0)throw e();if(y[0]!==1){for(let A=0;A<E;A+=1)_[A]/=y[0];for(let A=1;A<w;A+=1)y[A]/=y[0]}const C=t(s,g,u,u);C.channelCount=u,C.channelCountMode=c,C.channelInterpretation=d;const O=32,R=[],N=[],x=[];for(let A=0;A<u;A+=1){R.push(0);const $=new Float32Array(O),L=new Float32Array(O);$.fill(0),L.fill(0),N.push($),x.push(L)}C.onaudioprocess=A=>{const $=A.inputBuffer,L=A.outputBuffer,V=$.numberOfChannels;for(let B=0;B<V;B+=1){const J=$.getChannelData(B),ne=L.getChannelData(B);R[B]=ME(y,w,_,E,S,N[B],x[B],R[B],O,J,ne)}};const k=s.sampleRate/2;return Da({get bufferSize(){return g},get channelCount(){return C.channelCount},set channelCount(A){C.channelCount=A},get channelCountMode(){return C.channelCountMode},set channelCountMode(A){C.channelCountMode=A},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(A){C.channelInterpretation=A},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...A){return C.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return C.dispatchEvent(A[0])},getFrequencyResponse(A,$,L){if(A.length!==$.length||$.length!==L.length)throw n();const V=A.length;for(let B=0;B<V;B+=1){const J=-Math.PI*(A[B]/k),ne=[Math.cos(J),Math.sin(J)],he=nw(_,ne),se=nw(y,ne),oe=n2(he,se);$[B]=Math.sqrt(oe[0]*oe[0]+oe[1]*oe[1]),L[B]=Math.atan2(oe[1],oe[0])}},removeEventListener(...A){return C.removeEventListener(A[0],A[1],A[2])}},C)},s2=(n,e)=>n.createMediaElementSource(e.mediaElement),o2=(n,e)=>{const t=n.createMediaStreamDestination();return ln(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},a2=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((a,u)=>a.id<u.id?-1:a.id>u.id?1:0);const r=t.slice(0,1),s=n.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},l2=(n,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const s=new MediaStream([r]),a=t.createMediaStreamSource(s);if(r.kind!=="audio")throw n();if(e(t))throw new TypeError;return a},u2=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,c2=(n,e,t,r,s,a)=>(u,c)=>{const d=u.createOscillator();return ln(d,c),qt(d,c,"detune"),qt(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):$t(d,c,"type"),e(t,()=>t(u))||Jm(d),e(r,()=>r(u))||a(d,u),e(s,()=>s(u))||eg(d),n(u,d),d},d2=n=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?n(e,t):(ln(r,t),qt(r,t,"orientationX"),qt(r,t,"orientationY"),qt(r,t,"orientationZ"),qt(r,t,"positionX"),qt(r,t,"positionY"),qt(r,t,"positionZ"),$t(r,t,"coneInnerAngle"),$t(r,t,"coneOuterAngle"),$t(r,t,"coneOuterGain"),$t(r,t,"distanceModel"),$t(r,t,"maxDistance"),$t(r,t,"panningModel"),$t(r,t,"refDistance"),$t(r,t,"rolloffFactor"),r)},f2=(n,e,t,r,s,a,u,c,d,h)=>(p,{coneInnerAngle:g,coneOuterAngle:y,coneOuterGain:_,distanceModel:w,maxDistance:E,orientationX:S,orientationY:C,orientationZ:O,panningModel:R,positionX:N,positionY:x,positionZ:k,refDistance:T,rolloffFactor:A,...$})=>{const L=p.createPanner();if($.channelCount>2||$.channelCountMode==="max")throw u();ln(L,$);const V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},B=t(p,{...V,channelInterpretation:"speakers",numberOfInputs:6}),J=r(p,{...$,gain:1}),ne=r(p,{...V,gain:1}),he=r(p,{...V,gain:0}),se=r(p,{...V,gain:0}),oe=r(p,{...V,gain:0}),q=r(p,{...V,gain:0}),ee=r(p,{...V,gain:0}),Q=s(p,256,6,1),D=a(p,{...V,curve:new Float32Array([1,1]),oversample:"none"});let Y=[S,C,O],te=[N,x,k];const ye=new Float32Array(1);Q.onaudioprocess=({inputBuffer:de})=>{const He=[d(de,ye,0),d(de,ye,1),d(de,ye,2)];He.some((mt,lt)=>mt!==Y[lt])&&(L.setOrientation(...He),Y=He);const pt=[d(de,ye,3),d(de,ye,4),d(de,ye,5)];pt.some((mt,lt)=>mt!==te[lt])&&(L.setPosition(...pt),te=pt)},Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(oe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0});const ce={get bufferSize(){},get channelCount(){return L.channelCount},set channelCount(de){if(de>2)throw u();J.channelCount=de,L.channelCount=de},get channelCountMode(){return L.channelCountMode},set channelCountMode(de){if(de==="max")throw u();J.channelCountMode=de,L.channelCountMode=de},get channelInterpretation(){return L.channelInterpretation},set channelInterpretation(de){J.channelInterpretation=de,L.channelInterpretation=de},get coneInnerAngle(){return L.coneInnerAngle},set coneInnerAngle(de){L.coneInnerAngle=de},get coneOuterAngle(){return L.coneOuterAngle},set coneOuterAngle(de){L.coneOuterAngle=de},get coneOuterGain(){return L.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();L.coneOuterGain=de},get context(){return L.context},get distanceModel(){return L.distanceModel},set distanceModel(de){L.distanceModel=de},get inputs(){return[J]},get maxDistance(){return L.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;L.maxDistance=de},get numberOfInputs(){return L.numberOfInputs},get numberOfOutputs(){return L.numberOfOutputs},get orientationX(){return ne.gain},get orientationY(){return he.gain},get orientationZ(){return se.gain},get panningModel(){return L.panningModel},set panningModel(de){L.panningModel=de},get positionX(){return oe.gain},get positionY(){return q.gain},get positionZ(){return ee.gain},get refDistance(){return L.refDistance},set refDistance(de){if(de<0)throw new RangeError;L.refDistance=de},get rolloffFactor(){return L.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;L.rolloffFactor=de},addEventListener(...de){return J.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return J.dispatchEvent(de[0])},removeEventListener(...de){return J.removeEventListener(de[0],de[1],de[2])}};g!==ce.coneInnerAngle&&(ce.coneInnerAngle=g),y!==ce.coneOuterAngle&&(ce.coneOuterAngle=y),_!==ce.coneOuterGain&&(ce.coneOuterGain=_),w!==ce.distanceModel&&(ce.distanceModel=w),E!==ce.maxDistance&&(ce.maxDistance=E),S!==ce.orientationX.value&&(ce.orientationX.value=S),C!==ce.orientationY.value&&(ce.orientationY.value=C),O!==ce.orientationZ.value&&(ce.orientationZ.value=O),R!==ce.panningModel&&(ce.panningModel=R),N!==ce.positionX.value&&(ce.positionX.value=N),x!==ce.positionY.value&&(ce.positionY.value=x),k!==ce.positionZ.value&&(ce.positionZ.value=k),T!==ce.refDistance&&(ce.refDistance=T),A!==ce.rolloffFactor&&(ce.rolloffFactor=A),(Y[0]!==1||Y[1]!==0||Y[2]!==0)&&L.setOrientation(...Y),(te[0]!==0||te[1]!==0||te[2]!==0)&&L.setPosition(...te);const me=()=>{J.connect(L),n(J,D,0,0),D.connect(ne).connect(B,0,0),D.connect(he).connect(B,0,1),D.connect(se).connect(B,0,2),D.connect(oe).connect(B,0,3),D.connect(q).connect(B,0,4),D.connect(ee).connect(B,0,5),B.connect(Q).connect(p.destination)},je=()=>{J.disconnect(L),c(J,D,0,0),D.disconnect(ne),ne.disconnect(B),D.disconnect(he),he.disconnect(B),D.disconnect(se),se.disconnect(B),D.disconnect(oe),oe.disconnect(B),D.disconnect(q),q.disconnect(B),D.disconnect(ee),ee.disconnect(B),B.disconnect(Q),Q.disconnect(p.destination)};return h(Da(ce,L),me,je)},h2=n=>(e,{disableNormalization:t,imag:r,real:s})=>{const a=r instanceof Float32Array?r:new Float32Array(r),u=s instanceof Float32Array?s:new Float32Array(s),c=e.createPeriodicWave(u,a,{disableNormalization:t});if(Array.from(r).length<2)throw n();return c},lu=(n,e,t,r)=>n.createScriptProcessor(e,t,r),p2=(n,e)=>(t,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,r);const a=t.createStereoPanner();return ln(a,r),qt(a,r,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>s,set:u=>{if(u!==s)throw e()}}),a},m2=(n,e,t,r,s,a)=>{const c=new Float32Array([1,1]),d=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...h,oversample:"none"},g=(w,E,S,C)=>{const O=new Float32Array(16385),R=new Float32Array(16385);for(let $=0;$<16385;$+=1){const L=$/16384*d;O[$]=Math.cos(L),R[$]=Math.sin(L)}const N=t(w,{...h,gain:0}),x=r(w,{...p,curve:O}),k=r(w,{...p,curve:c}),T=t(w,{...h,gain:0}),A=r(w,{...p,curve:R});return{connectGraph(){E.connect(N),E.connect(k.inputs===void 0?k:k.inputs[0]),E.connect(T),k.connect(S),S.connect(x.inputs===void 0?x:x.inputs[0]),S.connect(A.inputs===void 0?A:A.inputs[0]),x.connect(N.gain),A.connect(T.gain),N.connect(C,0,0),T.connect(C,0,1)},disconnectGraph(){E.disconnect(N),E.disconnect(k.inputs===void 0?k:k.inputs[0]),E.disconnect(T),k.disconnect(S),S.disconnect(x.inputs===void 0?x:x.inputs[0]),S.disconnect(A.inputs===void 0?A:A.inputs[0]),x.disconnect(N.gain),A.disconnect(T.gain),N.disconnect(C,0,0),T.disconnect(C,0,1)}}},y=(w,E,S,C)=>{const O=new Float32Array(16385),R=new Float32Array(16385),N=new Float32Array(16385),x=new Float32Array(16385),k=Math.floor(16385/2);for(let oe=0;oe<16385;oe+=1)if(oe>k){const q=(oe-k)/(16384-k)*d;O[oe]=Math.cos(q),R[oe]=Math.sin(q),N[oe]=0,x[oe]=1}else{const q=oe/(16384-k)*d;O[oe]=1,R[oe]=0,N[oe]=Math.cos(q),x[oe]=Math.sin(q)}const T=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=t(w,{...h,gain:0}),$=r(w,{...p,curve:O}),L=t(w,{...h,gain:0}),V=r(w,{...p,curve:R}),B=r(w,{...p,curve:c}),J=t(w,{...h,gain:0}),ne=r(w,{...p,curve:N}),he=t(w,{...h,gain:0}),se=r(w,{...p,curve:x});return{connectGraph(){E.connect(T),E.connect(B.inputs===void 0?B:B.inputs[0]),T.connect(A,0),T.connect(L,0),T.connect(J,1),T.connect(he,1),B.connect(S),S.connect($.inputs===void 0?$:$.inputs[0]),S.connect(V.inputs===void 0?V:V.inputs[0]),S.connect(ne.inputs===void 0?ne:ne.inputs[0]),S.connect(se.inputs===void 0?se:se.inputs[0]),$.connect(A.gain),V.connect(L.gain),ne.connect(J.gain),se.connect(he.gain),A.connect(C,0,0),J.connect(C,0,0),L.connect(C,0,1),he.connect(C,0,1)},disconnectGraph(){E.disconnect(T),E.disconnect(B.inputs===void 0?B:B.inputs[0]),T.disconnect(A,0),T.disconnect(L,0),T.disconnect(J,1),T.disconnect(he,1),B.disconnect(S),S.disconnect($.inputs===void 0?$:$.inputs[0]),S.disconnect(V.inputs===void 0?V:V.inputs[0]),S.disconnect(ne.inputs===void 0?ne:ne.inputs[0]),S.disconnect(se.inputs===void 0?se:se.inputs[0]),$.disconnect(A.gain),V.disconnect(L.gain),ne.disconnect(J.gain),se.disconnect(he.gain),A.disconnect(C,0,0),J.disconnect(C,0,0),L.disconnect(C,0,1),he.disconnect(C,0,1)}}},_=(w,E,S,C,O)=>{if(E===1)return g(w,S,C,O);if(E===2)return y(w,S,C,O);throw s()};return(w,{channelCount:E,channelCountMode:S,pan:C,...O})=>{if(S==="max")throw s();const R=n(w,{...O,channelCount:1,channelCountMode:S,numberOfInputs:2}),N=t(w,{...O,channelCount:E,channelCountMode:S,gain:1}),x=t(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:k,disconnectGraph:T}=_(w,E,N,x,R);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(B){N.channelCount!==B&&($&&T(),{connectGraph:k,disconnectGraph:T}=_(w,B,N,x,R),$&&k()),N.channelCount=B},get channelCountMode(){return N.channelCountMode},set channelCountMode(B){if(B==="clamped-max"||B==="max")throw s();N.channelCountMode=B},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(B){N.channelInterpretation=B},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get pan(){return x.gain},addEventListener(...B){return N.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return N.dispatchEvent(B[0])},removeEventListener(...B){return N.removeEventListener(B[0],B[1],B[2])}};let $=!1;const L=()=>{k(),$=!0},V=()=>{T(),$=!1};return a(Da(A,R),L,V)}},g2=(n,e,t,r,s,a,u)=>(c,d)=>{const h=c.createWaveShaper();if(a!==null&&a.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,d);ln(h,d);const p=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(p!==null&&p.length<2)throw e();$t(h,{curve:p},"curve"),$t(h,d,"oversample");let g=null,y=!1;return u(h,"curve",E=>()=>E.call(h),E=>S=>(E.call(h,S),y&&(r(S)&&g===null?g=n(c,h):!r(S)&&g!==null&&(g(),g=null)),S)),s(h,()=>{y=!0,r(h.curve)&&(g=n(c,h))},()=>{y=!1,g!==null&&(g(),g=null)})},v2=(n,e,t,r,s)=>(a,{curve:u,oversample:c,...d})=>{const h=a.createWaveShaper(),p=a.createWaveShaper();ln(h,d),ln(p,d);const g=t(a,{...d,gain:1}),y=t(a,{...d,gain:-1}),_=t(a,{...d,gain:1}),w=t(a,{...d,gain:-1});let E=null,S=!1,C=null;const O={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(x){g.channelCount=x,y.channelCount=x,h.channelCount=x,_.channelCount=x,p.channelCount=x,w.channelCount=x},get channelCountMode(){return h.channelCountMode},set channelCountMode(x){g.channelCountMode=x,y.channelCountMode=x,h.channelCountMode=x,_.channelCountMode=x,p.channelCountMode=x,w.channelCountMode=x},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(x){g.channelInterpretation=x,y.channelInterpretation=x,h.channelInterpretation=x,_.channelInterpretation=x,p.channelInterpretation=x,w.channelInterpretation=x},get context(){return h.context},get curve(){return C},set curve(x){if(x!==null&&x.length<2)throw e();if(x===null)h.curve=x,p.curve=x;else{const k=x.length,T=new Float32Array(k+2-k%2),A=new Float32Array(k+2-k%2);T[0]=x[0],A[0]=-x[k-1];const $=Math.ceil((k+1)/2),L=(k+1)/2-1;for(let V=1;V<$;V+=1){const B=V/$*L,J=Math.floor(B),ne=Math.ceil(B);T[V]=J===ne?x[J]:(1-(B-J))*x[J]+(1-(ne-B))*x[ne],A[V]=J===ne?-x[k-1-J]:-((1-(B-J))*x[k-1-J])-(1-(ne-B))*x[k-1-ne]}T[$]=k%2===1?x[$-1]:(x[$-2]+x[$-1])/2,h.curve=T,p.curve=A}C=x,S&&(r(C)&&E===null?E=n(a,g):E!==null&&(E(),E=null))},get inputs(){return[g]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(x){h.oversample=x,p.oversample=x},addEventListener(...x){return g.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return g.dispatchEvent(x[0])},removeEventListener(...x){return g.removeEventListener(x[0],x[1],x[2])}};u!==null&&(O.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==O.oversample&&(O.oversample=c);const R=()=>{g.connect(h).connect(_),g.connect(y).connect(p).connect(w).connect(_),S=!0,r(C)&&(E=n(a,g))},N=()=>{g.disconnect(h),h.disconnect(_),g.disconnect(y),y.disconnect(p),p.disconnect(w),w.disconnect(_),S=!1,E!==null&&(E(),E=null)};return s(Da(O,_),R,N)},Dn=()=>new DOMException("","NotSupportedError"),y2={numberOfChannels:1},_2=(n,e,t,r,s)=>class extends n{constructor(u,c,d){let h;if(typeof u=="number"&&c!==void 0&&d!==void 0)h={length:c,numberOfChannels:u,sampleRate:d};else if(typeof u=="object")h=u;else throw new Error("The given parameters are not valid.");const{length:p,numberOfChannels:g,sampleRate:y}={...y2,...h},_=r(g,p,y);e(ql,()=>ql(_))||_.addEventListener("statechange",(()=>{let w=0;const E=S=>{this._state==="running"&&(w>0?(_.removeEventListener("statechange",E),S.stopImmediatePropagation(),this._waitForThePromiseToSettle(S)):w+=1)};return E})()),super(_,g),this._length=p,this._nativeOfflineAudioContext=_,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,vE(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},w2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},S2=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),g={...w2,...h},y=t(p,g),_=a(p),w=_?r():null,E=d.sampleRate/2;super(d,!1,y,w),this._detune=e(this,_,y.detune,153600,-153600),this._frequency=e(this,_,y.frequency,E,-E),this._nativeOscillatorNode=y,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const h=typeof d=="function"?u(this,d):null;this._nativeOscillatorNode.onended=h;const p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===h?d:p}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){ga(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),Fi(this)&&iu(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},E2=(n,e,t,r,s)=>()=>{const a=new WeakMap;let u=null,c=null,d=null;const h=async(p,g)=>{let y=t(p);const _=Cn(y,g);if(!_){const w={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,detune:y.detune.value,frequency:y.frequency.value,periodicWave:u===null?void 0:u,type:y.type};y=e(g,w),c!==null&&y.start(c),d!==null&&y.stop(d)}return a.set(g,y),_?(await n(g,p.detune,y.detune),await n(g,p.frequency,y.frequency)):(await r(g,p.detune,y.detune),await r(g,p.frequency,y.frequency)),await s(p,g,y),y};return{set periodicWave(p){u=p},set start(p){c=p},set stop(p){d=p},render(p,g){const y=a.get(g);return y!==void 0?Promise.resolve(y):h(p,g)}}},M2={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},b2=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),g={...M2,...h},y=t(p,g),_=a(p),w=_?r():null;super(d,!1,y,w),this._nativePannerNode=y,this._orientationX=e(this,_,y.orientationX,On,ar),this._orientationY=e(this,_,y.orientationY,On,ar),this._orientationZ=e(this,_,y.orientationZ,On,ar),this._positionX=e(this,_,y.positionX,On,ar),this._positionY=e(this,_,y.positionY,On,ar),this._positionZ=e(this,_,y.positionZ,On,ar),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},T2=(n,e,t,r,s,a,u,c,d,h)=>()=>{const p=new WeakMap;let g=null;const y=async(_,w)=>{let E=null,S=a(_);const C={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation},O={...C,coneInnerAngle:S.coneInnerAngle,coneOuterAngle:S.coneOuterAngle,coneOuterGain:S.coneOuterGain,distanceModel:S.distanceModel,maxDistance:S.maxDistance,panningModel:S.panningModel,refDistance:S.refDistance,rolloffFactor:S.rolloffFactor},R=Cn(S,w);if("bufferSize"in S)E=r(w,{...C,gain:1});else if(!R){const N={...O,orientationX:S.orientationX.value,orientationY:S.orientationY.value,orientationZ:S.orientationZ.value,positionX:S.positionX.value,positionY:S.positionY.value,positionZ:S.positionZ.value};S=s(w,N)}if(p.set(w,E===null?S:E),E!==null){if(g===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=new u(6,_.context.length,w.sampleRate),B=e(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(V.destination),g=(async()=>{const J=await Promise.all([_.orientationX,_.orientationY,_.orientationZ,_.positionX,_.positionY,_.positionZ].map(async(ne,he)=>{const se=t(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he===0?1:0});return await c(V,ne,se.offset),se}));for(let ne=0;ne<6;ne+=1)J[ne].connect(B,0,ne),J[ne].start(0);return h(V)})()}const N=await g,x=r(w,{...C,gain:1});await d(_,w,x);const k=[];for(let V=0;V<N.numberOfChannels;V+=1)k.push(N.getChannelData(V));let T=[k[0][0],k[1][0],k[2][0]],A=[k[3][0],k[4][0],k[5][0]],$=r(w,{...C,gain:1}),L=s(w,{...O,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:A[0],positionY:A[1],positionZ:A[2]});x.connect($).connect(L.inputs[0]),L.connect(E);for(let V=128;V<N.length;V+=128){const B=[k[0][V],k[1][V],k[2][V]],J=[k[3][V],k[4][V],k[5][V]];if(B.some((ne,he)=>ne!==T[he])||J.some((ne,he)=>ne!==A[he])){T=B,A=J;const ne=V/w.sampleRate;$.gain.setValueAtTime(0,ne),$=r(w,{...C,gain:0}),L=s(w,{...O,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),$.gain.setValueAtTime(1,ne),x.connect($).connect(L.inputs[0]),L.connect(E)}}return E}return R?(await n(w,_.orientationX,S.orientationX),await n(w,_.orientationY,S.orientationY),await n(w,_.orientationZ,S.orientationZ),await n(w,_.positionX,S.positionX),await n(w,_.positionY,S.positionY),await n(w,_.positionZ,S.positionZ)):(await c(w,_.orientationX,S.orientationX),await c(w,_.orientationY,S.orientationY),await c(w,_.orientationZ,S.orientationZ),await c(w,_.positionX,S.positionX),await c(w,_.positionY,S.positionY),await c(w,_.positionZ,S.positionZ)),Ia(S)?await d(_,w,S.inputs[0]):await d(_,w,S),S};return{render(_,w){const E=p.get(w);return E!==void 0?Promise.resolve(E):y(_,w)}}},x2={disableNormalization:!1},C2=(n,e,t,r)=>class CE{constructor(a,u){const c=e(a),d=r({...x2,...u}),h=n(c,d);return t.add(h),h}static[Symbol.hasInstance](a){return a!==null&&typeof a=="object"&&Object.getPrototypeOf(a)===CE.prototype||t.has(a)}},P2=(n,e)=>(t,r,s)=>(n(r).replay(s),e(r,t,s)),N2=(n,e,t)=>async(r,s,a)=>{const u=n(r);await Promise.all(u.activeInputs.map((c,d)=>Array.from(c).map(async([h,p])=>{const y=await e(h).render(h,s),_=r.context.destination;!t(h)&&(r!==_||!t(r))&&y.connect(a,p,d)})).reduce((c,d)=>[...c,...d],[]))},A2=(n,e,t)=>async(r,s,a)=>{const u=e(r);await Promise.all(Array.from(u.activeInputs).map(async([c,d])=>{const p=await n(c).render(c,s);t(c)||p.connect(a,d)}))},k2=(n,e,t,r)=>s=>n(ql,()=>ql(s))?Promise.resolve(n(r,r)).then(a=>{if(!a){const u=t(s,512,0,1);s.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>s.currentTime,u.connect(s.destination)}return s.startRendering()}):new Promise(a=>{const u=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=c=>{u.disconnect(),a(c.renderedBuffer)},u.connect(s.destination),s.startRendering()}),O2=n=>(e,t)=>{n.set(e,t)},R2=n=>(e,t)=>n.set(e,t),I2=(n,e,t,r,s,a,u,c)=>(d,h)=>t(d).render(d,h).then(()=>Promise.all(Array.from(r(h)).map(p=>t(p).render(p,h)))).then(()=>s(h)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),Xm(p)):e(a,()=>a(p))||c(p),n.add(p),p)),D2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},L2=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=s(c),p={...D2,...d},g=t(h,p),y=a(h),_=y?r():null;super(c,!1,g,_),this._pan=e(this,y,g.pan)}get pan(){return this._pan}},j2=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=Cn(h,d);if(!p){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(d,g)}return a.set(d,h),p?await n(d,c.pan,h.pan):await r(d,c.pan,h.pan),Ia(h)?await s(c,d,h.inputs[0]):await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},F2=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},U2=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(t);let a=!1,u=!1;try{await r.audioWorklet.addModule(s);const c=new n(r,"a",{numberOfOutputs:0}),d=r.createOscillator();c.port.onmessage=()=>a=!0,c.onprocessorerror=()=>u=!0,d.connect(c),d.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(s)}return a&&!u},$2=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{t.oncomplete=()=>{r.disconnect(),s(t.currentTime!==0)},t.startRendering()})},B2=()=>new DOMException("","UnknownError"),V2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},z2=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),g={...V2,...h},y=t(p,g),w=a(p)?r():null;super(d,!0,y,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=y,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},W2=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!Cn(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,h)}return r.set(u,c),Ia(c)?await t(a,u,c.inputs[0]):await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},H2=()=>typeof window>"u"?null:window,q2=(n,e)=>t=>{t.copyFromChannel=(r,s,a=0)=>{const u=n(a),c=n(s);if(c>=t.numberOfChannels)throw e();const d=t.length,h=t.getChannelData(c),p=r.length;for(let g=u<0?-u:0;g+u<d&&g<p;g+=1)r[g]=h[g+u]},t.copyToChannel=(r,s,a=0)=>{const u=n(a),c=n(s);if(c>=t.numberOfChannels)throw e();const d=t.length,h=t.getChannelData(c),p=r.length;for(let g=u<0?-u:0;g+u<d&&g<p;g+=1)h[g+u]=r[g]}},G2=n=>e=>{e.copyFromChannel=(t=>(r,s,a=0)=>{const u=n(a),c=n(s);if(u<e.length)return t.call(e,r,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(r,s,a=0)=>{const u=n(a),c=n(s);if(u<e.length)return t.call(e,r,c,u)})(e.copyToChannel)},Y2=n=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),n(e,"buffer",s=>()=>{const a=s.call(e);return a===r?null:a},s=>a=>s.call(e,a===null?r:a))},K2=(n,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const s=t.createBufferSource();e(r,()=>{const c=r.numberOfInputs;for(let d=0;d<c;d+=1)s.connect(r,0,d)},()=>s.disconnect(r))},PE=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),NE=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},uu=(n,e,t,r)=>{let s=n;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:a,set:u}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(n,e,{get:t(a),set:r(u)})},X2=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),Q2=n=>({...n,channelCount:n.numberOfOutputs}),Z2=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},AE=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;AE(n,e,t+1e-7)}},J2=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},eL=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},tL=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},tg=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},kE=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},ng=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},nL=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},rL=n=>{n.start=(e=>(t=0,r=0,s)=>{const a=n.buffer,u=a===null?r:Math.min(a.duration,r);a!==null&&u>a.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,s)})(n.start)},OE=(n,e)=>{const t=e.createGain();n.connect(t);const r=(s=>()=>{s.call(n,t),n.removeEventListener("ended",r)})(n.disconnect);n.addEventListener("ended",r),Da(n,t),n.stop=(s=>{let a=!1;return(u=0)=>{if(a)try{s.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else s.call(n,u),a=!0}})(n.stop)},La=(n,e)=>t=>{const r={value:n};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},iL=bI(mo),sL=AI(mo),oL=VD(Ld),RE=new WeakMap,aL=o3(RE),Qr=yD(new Map,new WeakMap),hi=H2(),IE=L3(Qr,vi),rg=s3(Rn),wn=N2(Rn,rg,uo),lL=DI(IE,jt,wn),kt=u3(Dd),Vi=u2(hi),Et=x3(Vi),DE=new WeakMap,LE=ZD(La),cu=$3(hi),ig=E3(cu),sg=M3(hi),jE=b3(hi),Gl=V3(hi),Xt=oD(TI(cE),NI(iL,sL,id,oL,sd,Rn,aL,ru,jt,mo,Fi,uo,$c),Qr,v3(Vp,sd,Rn,jt,Hl,Fi),vi,jd,Dn,FD(id,Vp,Rn,jt,Hl,kt,Fi,Et),HD(DE,Rn,Yr),LE,kt,ig,sg,jE,Et,Gl),uL=II(Xt,lL,vi,IE,kt,Et),og=new WeakSet,rw=j3(hi),FE=kD(new Uint32Array(1)),ag=q2(FE,vi),lg=G2(FE),UE=jI(og,Qr,Dn,rw,Vi,F2(rw),ag,lg),Fd=kI(Jn),$E=A2(rg,su,uo),yi=TD($E),ja=U3(Fd,Qr,J2,eL,tL,tg,kE,ng,rL,Y2(uu),OE),_i=P2(a3(su),$E),cL=$I(yi,ja,jt,_i,wn),Zr=aD(xI(dE),DE,Km,lD,yI,_I,wI,SI,EI,Up,lE,cu,AE),dL=UI(Xt,cL,Zr,pn,ja,kt,Et,La),fL=KI(Xt,XI,vi,pn,B3(Jn,uu),kt,Et,wn),hL=vD(yi,TE,jt,_i,wn),go=R2(RE),pL=gD(Xt,Zr,hL,jd,TE,kt,Et,go),ks=I3(mo,sg),mL=K2(pn,ks),Os=K3(cu,mL),gL=SD(Os,jt,wn),vL=wD(Xt,gL,Os,kt,Et),yL=bD(au,jt,wn),_L=MD(Xt,yL,au,kt,Et,Q2),wL=Z3(Fd,ja,Jn,ks),Fa=Q3(Fd,Qr,wL,tg,ng),SL=AD(yi,Fa,jt,_i,wn),EL=ND(Xt,Zr,SL,Fa,kt,Et,La),BE=J3(Dn,uu),ML=ID(BE,jt,wn),bL=RD(Xt,ML,BE,kt,Et,go),TL=BD(yi,xE,jt,_i,wn),xL=$D(Xt,Zr,TL,xE,kt,Et,go),VE=e2(Dn),CL=KD(yi,VE,jt,_i,wn),PL=YD(Xt,Zr,CL,VE,Dn,kt,Et,go),NL=r3(yi,Jn,jt,_i,wn),AL=n3(Xt,Zr,NL,Jn,kt,Et),kL=i2(jd,pn,lu,Dn),Ud=k2(Qr,Jn,lu,$2(Jn,Vi)),OL=g3(ja,jt,Vi,wn,Ud),RL=t2(kL),IL=p3(Xt,RL,OL,kt,Et,go),DL=QI(Zr,Os,Fa,lu,Dn,PE,Et,uu),zE=new WeakMap,LL=R3(fL,DL,LE,Et,zE,La),WE=c2(Fd,Qr,tg,kE,ng,OE),jL=E2(yi,WE,jt,_i,wn),FL=S2(Xt,Zr,WE,jL,kt,Et,La),HE=CD(ja),UL=v2(HE,pn,Jn,NE,ks),$d=g2(HE,pn,UL,NE,ks,cu,uu),$L=f2(id,pn,Os,Jn,lu,$d,Dn,sd,PE,ks),qE=d2($L),BL=T2(yi,Os,Fa,Jn,qE,jt,Vi,_i,wn,Ud),VL=b2(Xt,Zr,qE,BL,kt,Et,go),zL=h2(vi),WL=C2(zL,kt,new WeakSet,Z2),HL=m2(Os,au,Jn,$d,Dn,ks),GE=p2(HL,Dn),qL=j2(yi,GE,jt,_i,wn),GL=L2(Xt,Zr,GE,qL,kt,Et),YL=W2($d,jt,wn),KL=z2(Xt,pn,$d,YL,kt,Et,go),YE=C3(hi),ug=JD(hi),KE=new WeakMap,XL=c3(KE,Vi),QL=YE?PI(Qr,Dn,QD(hi),ug,e3(MI),kt,XL,Et,Gl,new WeakMap,new WeakMap,U2(Gl,Vi),hi):void 0,ZL=T3(ig,Et),JL=jD(og,Qr,LD,XD,new WeakSet,kt,ZL,nd,ql,ag,lg),XE=pD(QL,uL,UE,dL,pL,vL,_L,EL,bL,JL,xL,PL,AL,IL,LL,FL,VL,WL,GL,KL),e7=P3(Xt,s2,kt,Et),t7=A3(Xt,o2,kt,Et),n7=k3(Xt,a2,kt,Et),r7=l2(pn,Et),i7=O3(Xt,r7,kt),s7=YI(XE,pn,Dn,B2,e7,t7,n7,i7,cu),cg=d3(zE),o7=OI(cg),QE=xD(vi),a7=zD(cg),ZE=qD(vi),JE=new WeakMap,l7=i3(JE,Yr),u7=Y3(QE,vi,pn,Os,au,Fa,Jn,lu,Dn,ZE,ug,l7,ks),c7=W3(pn,u7,Jn,Dn,ks),d7=hD(yi,QE,ja,Os,au,Fa,Jn,a7,ZE,ug,jt,Gl,Vi,_i,wn,Ud),f7=l3(KE),h7=O2(JE),iw=YE?cD(o7,Xt,Zr,d7,c7,Rn,f7,kt,Et,Gl,X2,h7,nL,La):void 0,p7=DD(Dn,Vi),m7=I2(og,Qr,rg,cg,Ud,nd,ag,lg),g7=_2(XE,Qr,pn,p7,m7),v7=y3(Dd,ig),y7=_3(Ym,sg),_7=w3(Km,jE),w7=S3(Dd,Et);function Tr(n){return n===void 0}function rt(n){return n!==void 0}function S7(n){return typeof n=="function"}function co(n){return typeof n=="number"}function io(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function E7(n){return typeof n=="boolean"}function Hr(n){return Array.isArray(n)}function Kr(n){return typeof n=="string"}function kc(n){return Kr(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Je(n,e){if(!n)throw new Error(e)}function xs(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function eM(n){!n.isOffline&&n.state!=="running"&&dg('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let tM=!1,sw=!1;function ow(n){tM=n}function M7(n){Tr(n)&&tM&&!sw&&(sw=!0,dg("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let nM=console;function b7(...n){nM.log(...n)}function dg(...n){nM.warn(...n)}function T7(n){return new s7(n)}function x7(n,e,t){return new g7(n,e,t)}const lr=typeof self=="object"?self:null,C7=lr&&(lr.hasOwnProperty("AudioContext")||lr.hasOwnProperty("webkitAudioContext"));function P7(n,e,t){return Je(rt(iw),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof(lr==null?void 0:lr.BaseAudioContext)?lr==null?void 0:lr.AudioWorkletNode:iw)(n,e,t)}function Jr(n,e,t,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(a=(s<3?u(a):s>3?u(e,t,a):u(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function nn(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(g){u(g)}}function d(p){try{h(r.throw(p))}catch(g){u(g)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})}class N7{constructor(e,t,r,s){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function fo(n){return _7(n)}function ws(n){return y7(n)}function Bc(n){return w7(n)}function Ko(n){return v7(n)}function A7(n){return n instanceof UE}function k7(n,e){return n==="value"||fo(e)||ws(e)||A7(e)}function ra(n,...e){if(!e.length)return n;const t=e.shift();if(io(n)&&io(t))for(const r in t)k7(r,t[r])?n[r]=t[r]:io(t[r])?(n[r]||Object.assign(n,{[r]:{}}),ra(n[r],t[r])):Object.assign(n,{[r]:t[r]});return ra(n,...e)}function O7(n,e){return n.length===e.length&&n.every((t,r)=>e[r]===t)}function Ye(n,e,t=[],r){const s={},a=Array.from(e);if(io(a[0])&&r&&!Reflect.has(a[0],r)&&(Object.keys(a[0]).some(c=>Reflect.has(n,c))||(ra(s,{[r]:a[0]}),t.splice(t.indexOf(r),1),a.shift())),a.length===1&&io(a[0]))ra(s,a[0]);else for(let u=0;u<t.length;u++)rt(a[u])&&(s[t[u]]=a[u]);return ra(n,s)}function R7(n){return n.constructor.getDefaults()}function ia(n,e){return Tr(n)?e:n}function aw(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class zi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||lr&&this.toString()===lr.TONE_DEBUG_CLASS)&&b7(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}zi.version=aE;const fg=1e-6;function va(n,e){return n>e+fg}function Gp(n,e){return va(n,e)||Vr(n,e)}function ud(n,e){return n+fg<e}function Vr(n,e){return Math.abs(n-e)<fg}function I7(n,e,t){return Math.max(Math.min(n,t),e)}class xr extends zi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Ye(xr.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Je(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Je(Gp(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Vr(this._timeline[t].time,e)){for(let r=t;r>=0&&Vr(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Gp(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let a=s;if(s>0&&this._timeline[s-1][t]<=e)return s-1;for(;r<a;){let u=Math.floor(r+(a-r)/2);const c=this._timeline[u],d=this._timeline[u+1];if(Vr(c[t],e)){for(let h=u;h<this._timeline.length;h++){const p=this._timeline[h];if(Vr(p[t],e))u=h;else break}return u}else{if(ud(c[t],e)&&va(d[t],e))return u;va(c[t],e)?a=u:r=u+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let s=this._search(e),a=this._search(t);return s!==-1&&a!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[a].time===t&&(a-=1),this._iterate(r,s,a)):s===-1&&this._iterate(r,0,a),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&Vr(this._timeline[r].time,e)){let s=r;for(let a=r;a>=0&&Vr(this._timeline[a].time,e);a--)s=a;this._iterate(a=>{t(a)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const rM=[];function Bd(n){rM.push(n)}function D7(n){rM.forEach(e=>e(n))}const iM=[];function Vd(n){iM.push(n)}function L7(n){iM.forEach(e=>e(n))}class du extends zi{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(s=>{Tr(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(t)}),this}once(e,t){const r=(...s)=>{t(...s),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(s=>{if(Tr(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Tr(t))this._events[s]=[];else{const a=this._events[s];for(let u=a.length-1;u>=0;u--)a[u]===t&&a.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,a=r.length;s<a;s++)r[s].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(du.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class sM extends du{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class fu extends sM{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new xr,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Ye(fu.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=T7({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new N7(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(D7(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Je(Ko(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Je(Ko(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Je(Ko(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Je(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Je(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Je(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Je(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return P7(this.rawContext,e,t)}addAudioWorkletModule(e){return nn(this,void 0,void 0,function*(){Je(rt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return nn(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ko(this._context)?this._context.resume():Promise.resolve()}close(){return nn(this,void 0,void 0,function*(){Ko(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&L7(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let a=0;a<r.length;a++)r[a]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=t,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,s=()=>{const a=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:a+t})};return s(),r}}class j7 extends sM{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return nn(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Gt(n,e){Hr(e)?e.forEach(t=>Gt(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function oM(n,e){Hr(e)?e.forEach(t=>oM(n,t)):Object.defineProperty(n,e,{writable:!0})}const St=()=>{};class Lt extends zi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=St;const e=Ye(Lt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Kr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:St,onload:St,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:In().sampleRate}set(e){return e instanceof Lt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return nn(this,void 0,void 0,function*(){const t=Lt.load(e).then(r=>{this.set(r),this.onload(this)});Lt.downloads.push(t);try{yield t}finally{const r=Lt.downloads.indexOf(t);Lt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Hr(e)&&e[0].length>0,r=t?e.length:1,s=t?e[0].length:e.length,a=In(),u=a.createBuffer(r,s,a.sampleRate),c=!t&&r===1?[e]:e;for(let d=0;d<r;d++)u.copyToChannel(c[d],d);return this._buffer=u,this}toMono(e){if(co(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const a=this.toArray(s);for(let u=0;u<a.length;u++)t[u]+=a[u]}t=t.map(s=>s/r),this.fromArray(t)}return this}toArray(e){if(co(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Je(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(t*this.sampleRate);Je(r<s,"The start time must be less than the end time");const a=s-r,u=In().createBuffer(this.numberOfChannels,a,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(r,s),c);return new Lt(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Lt().fromArray(e)}static fromUrl(e){return nn(this,void 0,void 0,function*(){return yield new Lt().load(e)})}static load(e){return nn(this,void 0,void 0,function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const d=t[1].split("|");let h=d[0];for(const p of d)if(Lt.supportsType(p)){h=p;break}e=e.replace(t[0],h)}const r=Lt.baseUrl===""||Lt.baseUrl.endsWith("/")?Lt.baseUrl:Lt.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const a=yield fetch(s.href);if(!a.ok)throw new Error(`could not load url: ${e}`);const u=yield a.arrayBuffer();return yield In().decodeAudioData(u)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return nn(this,void 0,void 0,function*(){for(yield Promise.resolve();Lt.downloads.length;)yield Lt.downloads[0]})}}Lt.baseUrl="";Lt.downloads=[];class hg extends fu{constructor(){super({clockSource:"offline",context:Bc(arguments[0])?arguments[0]:x7(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Bc(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Bc(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return nn(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return nn(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Lt(t)})}close(){return Promise.resolve()}}const aM=new j7;let Qs=aM;function In(){return Qs===aM&&C7&&F7(new fu),Qs}function F7(n,e=!1){e&&Qs.dispose(),Ko(n)?Qs=new fu(n):Bc(n)?Qs=new hg(n):Qs=n}function U7(){return Qs.resume()}if(lr&&!lr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${aE} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function $7(n){return Math.pow(10,n/20)}function B7(n){return 20*(Math.log(n)/Math.LN10)}function lM(n){return Math.pow(2,n/12)}let zd=440;function V7(){return zd}function z7(n){zd=n}function Zs(n){return Math.round(uM(n))}function uM(n){return 69+12*Math.log2(n/zd)}function cM(n){return zd*Math.pow(2,(n-69)/12)}class pg extends zi{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),s=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(s+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof pg&&this.fromType(this._val),Tr(this._val))return this._noArg();if(Kr(this._val)&&Tr(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(io(this._val)){let e=0;for(const t in this._val)if(rt(this._val[t])){const r=this._val[t],s=new this.constructor(this.context,t).valueOf()*r;e+=s}return e}if(rt(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Kr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class br extends pg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new br(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),c=Math.round(s/r)*r-s;return s+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let a=1;a<9;a++){const u=Math.pow(2,a);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let r=t[0],s=new br(this.context,t[0]).toSeconds();return t.forEach(a=>{const u=new br(this.context,a).toSeconds();Math.abs(u-e)<Math.abs(s-e)&&(r=a,s=u)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let s=t%1*4;t=Math.floor(t)%this._getTimeSignature();const a=s.toString();return a.length>3&&(s=parseFloat(parseFloat(a).toFixed(3))),[r,t,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Zs(this.toFrequency())}_now(){return this.context.now()}}function Ol(n,e){return new br(In(),n,e)}class qn extends br{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return V7()}static set A4(e){z7(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:qn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const s=W7[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?s:qn.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(s*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new qn(this.context,this.valueOf()*lM(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Zs(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/qn.A4);let r=Math.round(12*t)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),H7[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return cM(e)}static ftom(e){return Zs(e)}}const W7={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},H7=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function q7(n,e){return new qn(In(),n,e)}class jl extends br{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Xn extends zi{constructor(){super();const e=Ye(Xn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:In()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return M7(e),new br(this.context,e).toSeconds()}toFrequency(e){return new qn(this.context,e).toFrequency()}toTicks(e){return new jl(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{Tr(e[r])&&delete t[r]}),t}get(){const e=R7(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];rt(r)&&rt(r.value)&&rt(r.setValueAtTime)?e[t]=r.value:r instanceof Xn?e[t]=r._getPartialProperties(e[t]):Hr(r)||co(r)||Kr(r)||E7(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&rt(this[t])&&(this[t]&&rt(this[t].value)&&rt(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Xn?this[t].set(e[t]):this[t]=e[t])}),this}}class mg extends xr{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return xs(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let s=r;s>=0;s--){const a=this._timeline[s];if(a.state===e)return a}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const a=this._timeline[s];if(a.state===e)return a}}}class Wt extends Xn{constructor(){const e=Ye(Wt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Je(rt(e.param)&&(fo(e.param)||e.param instanceof Wt),"param must be an AudioParam");!fo(e.param);)e.param=e.param._param;this._swappable=rt(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new xr(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,rt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Xn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return rt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return rt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return rt(this.maxValue)&&rt(this.minValue)&&xs(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?$7(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?B7(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),s=this._fromType(e);return Je(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),s=this._events.get(t);let a=this._initialValue;if(s===null)a=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const u=this._events.getBefore(s.time);let c;u===null?c=this._initialValue:c=u.value,s.type==="setTargetAtTime"&&(a=this._exponentialApproach(s.time,c,s.value,s.constant,t))}else if(r===null)a=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let u=s.value;if(s.type==="setTargetAtTime"){const c=this._events.getBefore(s.time);c===null?u=this._initialValue:u=c.value}r.type==="linearRampToValueAtTime"?a=this._linearInterpolate(s.time,u,r.time,r.value,t):a=this._exponentialInterpolate(s.time,u,r.time,r.value,t)}else a=s.value;return this._toType(a)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),s=this.toSeconds(t);return Je(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=Vr(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(t);return Je(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,s),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const s=this._fromType(e);Je(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const a=this.toSeconds(t);return this._assertRange(s),Je(isFinite(s)&&isFinite(a),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:a,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,a,r),this._param.setTargetAtTime(s,a,r),this}setValueCurveAtTime(e,t,r,s=1){r=this.toSeconds(r),t=this.toSeconds(t);const a=this._fromType(e[0])*s;this.setValueAtTime(this._toType(a),t);const u=r/(e.length-1);for(let c=1;c<e.length;c++){const d=this._fromType(e[c])*s;this.linearRampToValueAtTime(this._toType(d),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Je(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));Je(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const s=this._events.get(t),a=this._events.getAfter(t);return s&&Vr(s.time,t)?a?(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):a&&(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time),a.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):a.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),a=s?s.time:t+2,u=(a-t)/10;for(let c=t;c<a;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){Je(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,s,a){return r+(t-r)*Math.exp(-(a-e)/s)}_linearInterpolate(e,t,r,s,a){return t+(s-t)*((a-e)/(r-e))}_exponentialInterpolate(e,t,r,s,a){return t*Math.pow(s/t,(a-e)/(r-e))}}class Qe extends Xn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return rt(this.input)?fo(this.input)||this.input instanceof Wt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return rt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return rt(e)&&(e instanceof Qe||ws(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Je(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return Ua(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return dg("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return G7(this,e,t,r),this}chain(...e){return Yp(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),rt(this.input)&&(this.input instanceof Qe?this.input.dispose():ws(this.input)&&this.input.disconnect()),rt(this.output)&&(this.output instanceof Qe?this.output.dispose():ws(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Yp(...n){const e=n.shift();n.reduce((t,r)=>(t instanceof Qe?t.connect(r):ws(t)&&Ua(t,r),r),e)}function Ua(n,e,t=0,r=0){for(Je(rt(n),"Cannot connect from undefined node"),Je(rt(e),"Cannot connect to undefined node"),(e instanceof Qe||ws(e))&&Je(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Je(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Qe||e instanceof Wt;)rt(e.input)&&(e=e.input);for(;n instanceof Qe;)rt(n.output)&&(n=n.output);fo(e)?n.connect(e,t):n.connect(e,t,r)}function G7(n,e,t=0,r=0){if(rt(e))for(;e instanceof Qe;)e=e.input;for(;!ws(n);)rt(n.output)&&(n=n.output);fo(e)?n.disconnect(e,t):ws(e)?n.disconnect(e,t,r):n.disconnect()}class _n extends Qe{constructor(){const e=Ye(_n.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Wt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Gt(this,"gain")}static getDefaults(){return Object.assign(Qe.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ya extends Qe{constructor(e){super(e),this.onended=St,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new _n({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Qe.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:St})}_startGain(e,t=1){Je(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Je(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==St&&(this.onended(this),this.onended=St,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Je(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=St,this}}class gg extends ya{constructor(){const e=Ye(gg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ua(this._source,this._gainNode),this.offset=new Wt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ya.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class mn extends Qe{constructor(){const e=Ye(mn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new gg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Qe.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return vg(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,s){return this._param.setValueCurveAtTime(e,t,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function vg(n,e,t,r){(e instanceof Wt||fo(e)||e instanceof mn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof mn&&(e.overridden=!0)),Ua(n,e,t,r)}class yg extends Wt{constructor(){const e=Ye(yg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new xr(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Wt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const s=this._fromType(e),a=this._events.get(t),u=Math.round(Math.max(1/r,1));for(let c=0;c<=u;c++){const d=r*c+t,h=this._exponentialApproach(a.time,a.value,s,r,d);this.linearRampToValueAtTime(this._toType(h),d)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const s=this._events.get(r),a=this._events.previousEvent(s),u=this._getTicksUntilEvent(a,r);return s.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const s=this._events.get(r),a=this._events.previousEvent(s),u=this._getTicksUntilEvent(a,r);return s.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),s=this._events.get(t),a=Math.round(Math.max((t-s.time)*10,1)),u=(t-s.time)/a;for(let c=0;c<=a;c++){const d=u*c+s.time,h=this._exponentialInterpolate(s.time,s.value,t,r,d);this.linearRampToValueAtTime(this._toType(h),d)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Tr(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(t));const a=this._events.get(t);return a&&a.time===t&&a.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),s=this.getTicksAtTime(t);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const s=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-t.time),c=Math.sqrt(Math.pow(s,2)-2*u*(t.ticks-e)),d=(-s+c)/u,h=(-s-c)/u;return(d>0?d:h)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),s=this.toSeconds(e),a=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-a}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class _g extends mn{constructor(){const e=Ye(_g.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new yg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(mn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class wg extends Xn{constructor(){const e=Ye(wg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new mg,this._tickOffset=new xr,this._ticksAtTime=new xr,this._secondsAtTime=new xr,this.frequency=new _g({context:this.context,units:e.units,value:e.frequency}),Gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Xn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),rt(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),s=this._ticksAtTime.get(t),a={state:"paused",time:t};this._state.add(a);let u=s||r,c=s?s.ticks:0,d=null;return this._state.forEachBetween(u.time,t+this.sampleTime,h=>{let p=u.time;const g=this._tickOffset.get(h.time);g&&g.time>=u.time&&(c=g.ticks,p=g.time),u.state==="started"&&h.state!=="started"&&(c+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(p),h.time!==a.time&&(d={state:h.state,time:h.time,ticks:c})),u=h}),this._state.remove(a),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let a=s||t,u=s?s.seconds:0,c=null;return this._state.forEachBetween(a.time,e+this.sampleTime,d=>{let h=a.time;const p=this._tickOffset.get(d.time);p&&p.time>=a.time&&(u=p.seconds,h=p.time),a.state==="started"&&d.state!=="started"&&(u+=d.time-h,d.time!==r.time&&(c={state:d.state,time:d.time,seconds:u})),a=d}),this._state.remove(r),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),s=this._state.get(t),a=Math.max(r.time,s.time),u=this.frequency.getTicksAtTime(a)+e-r.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,r){let s=this._state.get(e);this._state.forEachBetween(e,t,u=>{s&&s.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),u.time-this.sampleTime,r),s=u});let a=null;if(s&&s.state==="started"){const u=Math.max(s.time,e),c=this.frequency.getTicksAtTime(u),d=this.frequency.getTicksAtTime(s.time),h=c-d;let p=Math.ceil(h)-h;p=Vr(p,1)?0:p;let g=this.frequency.getTimeOfTick(c+p);for(;g<t;){try{r(g,Math.round(this.getTicksAtTime(g)))}catch(y){a=y;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(a)throw a;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Wd extends Xn{constructor(){const e=Ye(Wd.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=St,this._lastUpdate=0,this._state=new mg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new wg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Xn.getDefaults(),{callback:St,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){eM(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}du.mixin(Wd);class vo extends Qe{constructor(){const e=Ye(vo.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new _n({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Gt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Qe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Sg extends Qe{constructor(){const e=Ye(Sg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new vo({context:this.context}),this.output=new _n({context:this.context}),this.volume=this.input.volume,Yp(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Qe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Yp(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Bd(n=>{n.destination=new Sg({context:n})});Vd(n=>{n.destination.dispose()});class Y7 extends Qe{constructor(){super(...arguments),this.name="Listener",this.positionX=new Wt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Wt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Wt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Wt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Wt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Wt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Wt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Wt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Wt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Qe.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Bd(n=>{n.listener=new Y7({context:n})});Vd(n=>{n.listener.dispose()});class hu extends zi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Ye(hu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:St,onload:St,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Je(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=St,s=St){return Kr(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Lt(this.baseUrl+t,r,s))):this._buffers.set(e.toString(),new Lt(t,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Eg extends qn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Zs(super._frequencyToUnits(e))}_ticksToUnits(e){return Zs(super._ticksToUnits(e))}_beatsToUnits(e){return Zs(super._beatsToUnits(e))}_secondsToUnits(e){return Zs(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return cM(this.toMidi())}transpose(e){return new Eg(this.context,this.toMidi()+e)}}function Yl(n,e){return new Eg(In(),n,e)}class Qo extends jl{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class K7 extends Xn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Bd(n=>{n.draw=new K7({context:n})});Vd(n=>{n.draw.dispose()});class X7 extends zi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Je(rt(e.time),"Events must have a time property"),Je(rt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new Q7(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,s=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),t!==null?r?t.left=s:t.right=s:this._setRoot(s)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),t!==null?r?t.left=s:t.right=s:this._setRoot(s)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let s=1;s<t.length;s++)t[s].low>r.low&&(r=t[s]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&t(s.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&t(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Q7{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Z7 extends zi{constructor(e){super(),this.name="TimelineValue",this._timeline=new xr({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class _a extends Qe{constructor(){super(Ye(_a.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return vg(this,e,t,r),this}}class pu extends _a{constructor(){const e=Ye(pu.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Hr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):S7(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(mn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let s=0,a=t;s<a;s++){const u=s/(a-1)*2-1;r[s]=e(u,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));Je(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Mg extends _a{constructor(){const e=Ye(Mg.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new pu({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(_a.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Cs{constructor(e,t){this.id=Cs._eventId++,this._remainderTime=0;const r=Object.assign(Cs.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:St,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Cs._eventId=0;class bg extends Cs{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(bg.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Cs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return ud(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Qo(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){ud(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Qo(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);va(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Hd extends Xn{constructor(){const e=Ye(Hd.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Z7(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xr,this._repeatedEvents=new X7,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Wd({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Gt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Xn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Qo(this.context,this._swingTicks*2/3).toSeconds()*s}ow(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),ow(!1)}schedule(e,t){const r=new Cs(this,{callback:e,time:new jl(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,s=1/0){const a=new bg(this,{callback:e,duration:new br(this.context,s).toTicks(),interval:new br(this.context,t).toTicks(),time:new jl(this.context,r).toTicks()});return this._addEvent(a,this._repeatedEvents)}scheduleOnce(e,t){const r=new Cs(this,{callback:e,once:!0,time:new jl(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new Qo(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return rt(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Hr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new br(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new br(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Qo(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Qo(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),a=t+s;this.emit("stop",a),this._clock.setTicksAtTime(e,a),this.emit("start",a,this._clock.getSecondsAtTime(a))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),s=e-r%e;return this._clock.nextTickTime(s,t)}}syncSignal(e,t){const r=this.now();let s=this.bpm,a=1/(60/s.getValueAtTime(r)/this.PPQ),u=[];if(e.units==="time"){const d=.015625/a,h=new _n(d),p=new Mg(-1),g=new _n(d);s.chain(h,p,g),s=g,a=1/a,u=[h,p,g]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/a:t=0);const c=new _n(t);return s.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),oM(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}du.mixin(Hd);Bd(n=>{n.transport=new Hd({context:n})});Vd(n=>{n.transport.dispose()});class cr extends Qe{constructor(e){super(e),this.input=void 0,this._state=new mg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=St,this._syncedStop=St,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new vo({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Gt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Qe.getDefaults(),{mute:!1,onstop:St,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let s=Tr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")Je(va(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,t,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const a=this._state.get(s);a&&(a.offset=this.toSeconds(ia(t,0)),a.duration=r?this.toSeconds(r):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,r)},s);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else eM(this.context),this._start(s,t,r);return this}stop(e){let t=Tr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||rt(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(va(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const s=t-this.toSeconds(r.time);let a;r.duration&&(a=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,a)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=St,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class $a extends ya{constructor(){const e=Ye($a.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ua(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Wt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Lt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ya.getDefaults(),{url:new Lt,loop:!1,loopEnd:0,loopStart:0,onload:St,onerror:St,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,s=1){Je(this.buffer.loaded,"buffer is either not set or not loaded");const a=this.toSeconds(e);this._startGain(a,s),this.loop?t=ia(t,this.loopStart):t=ia(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),h=c-d;Gp(u,c)&&(u=(u-d)%h+d),Vr(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ud(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(a,u)),rt(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(a+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function yo(n,e){return nn(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,r=new hg(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Tg extends ya{constructor(){const e=Ye(Tg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ua(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Wt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Wt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(ya.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class tn extends cr{constructor(){const e=Ye(tn.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new mn({context:this.context,units:"frequency",value:e.frequency}),Gt(this,"frequency"),this.detune=new mn({context:this.context,units:"cents",value:e.detune}),Gt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(cr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new Tg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return tn._periodicWaveCache.find(t=>t.phase===this._phase&&O7(t.partials,this._partials));{const e=tn._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(rt(r)){const{partials:s,wave:a}=r;this._wave=a,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,a]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(s,a);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),tn._periodicWaveCache.push({imag:a,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),tn._periodicWaveCache.length>100&&tn._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){xs(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const s=new Float32Array(e);this._partials.forEach((a,u)=>s[u]=a),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,t){let s=2048;const a=new Float32Array(s),u=new Float32Array(s);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,s=c,this._partials.length===0)return[a,u]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],c=Math.max(c,2),s=c):this._partialCount=0,this._partials=[]}for(let d=1;d<s;++d){const h=2/(d*Math.PI);let p;switch(e){case"sine":p=d<=c?1:0,this._partials[d-1]=p;break;case"square":p=d&1?2*h:0,this._partials[d-1]=p;break;case"sawtooth":p=h*(d&1?1:-1),this._partials[d-1]=p;break;case"triangle":d&1?p=2*(h*h)*(d-1>>1&1?-1:1):p=0,this._partials[d-1]=p;break;case"custom":p=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}p!==0?(a[d]=-p*Math.sin(t*d),u[d]=p*Math.cos(t*d)):(a[d]=0,u[d]=0)}return[a,u]}_inverseFFT(e,t,r){let s=0;const a=e.length;for(let u=0;u<a;u++)s+=e[u]*Math.cos(u*r)+t[u]*Math.sin(u*r);return s}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,a=32;for(let u=0;u<a;u++)r=Math.max(this._inverseFFT(e,t,u/a*s),r);return I7(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}tn._periodicWaveCache=[];class J7 extends _a{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new pu({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class wa extends mn{constructor(){const e=Ye(wa.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new _n({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(mn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class qd extends cr{constructor(){const e=Ye(qd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new J7({context:this.context}),this._modulationNode=new _n({context:this.context}),this._carrier=new tn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new tn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new wa({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Gt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(tn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Gd extends cr{constructor(){const e=Ye(Gd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new _n({context:this.context,gain:0}),this._carrier=new tn({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new mn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new tn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new wa({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new wa({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Gt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(tn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class mu extends cr{constructor(){const e=Ye(mu.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new _n({context:this.context,gain:0}),this._thresh=new pu({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new mn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new tn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Gt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(cr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Yd extends cr{constructor(){const e=Ye(Yd.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new mn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new mn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(tn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,a)=>s.detune.value=t+r*a)}}get count(){return this._oscillators.length}set count(e){if(xs(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new tn({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):St});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Kd extends cr{constructor(){const e=Ye(Kd.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new wa({context:this.context,value:2}),this._pulse=new mu({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new tn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Gt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(cr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const lw={am:qd,fat:Yd,fm:Gd,oscillator:tn,pulse:mu,pwm:Kd};class cd extends cr{constructor(){const e=Ye(cd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new mn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new mn({context:this.context,units:"cents",value:e.detune}),Gt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(tn.getDefaults(),Gd.getDefaults(),qd.getDefaults(),Yd.getDefaults(),mu.getDefaults(),Kd.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=lw[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof lw[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&co(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&co(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Kr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return nn(this,arguments,void 0,function*(e=1024){return yo(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function dM(n,e=1/0){const t=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(a){xs(a,n,e),t.set(this,a)}})}}function Wi(n,e=1/0){const t=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(a){xs(this.toSeconds(a),n,e),t.set(this,a)}})}}class Xd extends cr{constructor(){const e=Ye(Xd.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Lt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(cr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:St,onerror:St,playbackRate:1,reverse:!1})}load(e){return nn(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=St){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=ia(t,this._loopStart):t=ia(t,0);const s=this.toSeconds(t),a=r;r=ia(r,Math.max(this._buffer.duration-s,0));let u=this.toSeconds(r);u=u/this._playbackRate,e=this.toSeconds(e);const c=new $a({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Tr(a)?c.start(e,s):c.start(e,s,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&xs(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&xs(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Jr([Wi(0)],Xd.prototype,"fadeIn",void 0);Jr([Wi(0)],Xd.prototype,"fadeOut",void 0);class Rs extends Qe{constructor(){const e=Ye(Rs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new mn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Qe.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Kr(e))return e;{let r;for(r in Oc)if(Oc[r][t]===e)return r;return e}}_setCurve(e,t,r){if(Kr(r)&&Reflect.has(Oc,r)){const s=Oc[r];io(s)?e!=="_decayCurve"&&(this[e]=s[t]):this[e]=s}else if(Hr(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const a=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/s;s=(1-u)/c}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,s,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=u&&u<=c[d]){c=this._attackCurve.slice(d),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,s,t)}if(a&&this.sustain<1){const c=t*this.sustain,d=e+s;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,a+d):this._sig.exponentialApproachValueAtTime(c,d,a)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Je(Hr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return vg(this,e,t,r),this}asArray(){return nn(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new hg(1,t,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),a=s+this.toSeconds(this.release),u=a*.1,c=a+u,d=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:r}));return d._sig.toDestination(),d.triggerAttackRelease(t*(s+u)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Jr([Wi(0)],Rs.prototype,"attack",void 0);Jr([Wi(0)],Rs.prototype,"decay",void 0);Jr([dM(0,1)],Rs.prototype,"sustain",void 0);Jr([Wi(0)],Rs.prototype,"release",void 0);const Oc=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],a=6.4;for(e=0;e<127;e++){t=e/127;const y=Math.sin(t*(Math.PI*2)*a-Math.PI/2)+1;s[e]=y/10+t*.83}s[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const d=[];for(e=0;e<128;e++)t=e/127,d[e]=.5*(1-Math.cos(Math.PI*t));const h=[];for(e=0;e<128;e++){t=e/127;const y=Math.pow(t,3)*4+.2,_=Math.cos(y*Math.PI*2*t);h[e]=Math.abs(_*(1-t))}function p(y){const _=new Array(y.length);for(let w=0;w<y.length;w++)_[w]=1-y[w];return _}function g(y){return y.slice(0).reverse()}return{bounce:{In:p(h),Out:h},cosine:{In:r,Out:g(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:p(s)},sine:{In:d,Out:p(d)},step:{In:u,Out:p(u)}}})();class Sa extends Qe{constructor(){const e=Ye(Sa.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new vo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Gt(this,"volume")}static getDefaults(){return Object.assign(Qe.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const a=s[t],u=this.context.transport.schedule(c=>{s[t]=c,r.apply(this,s)},a);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,s){const a=this.toSeconds(r),u=this.toSeconds(t);return this.triggerAttack(e,a,s),this.triggerRelease(a+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ea extends Sa{constructor(){const e=Ye(Ea.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Sa.getDefaults(),{detune:0,onsilence:St,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const s=this.toSeconds(t);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),s=e instanceof qn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const a=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,a,r)}else this.frequency.setValueAtTime(s,r);return this}}Jr([Wi(0)],Ea.prototype,"portamento",void 0);class xg extends Rs{constructor(){super(Ye(xg.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new _n({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class dd extends Ea{constructor(){const e=Ye(dd.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new cd(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new xg(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Gt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ea.getDefaults(),{envelope:Object.assign(aw(Rs.getDefaults(),Object.keys(Qe.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(aw(cd.getDefaults(),[...Object.keys(cr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Qd extends dd{constructor(){const e=Ye(Qd.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Gt(this,["oscillator","envelope"])}static getDefaults(){return ra(Ea.getDefaults(),dd.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),s=this.toFrequency(e instanceof qn?e.toFrequency():e),a=s*this.octaves;return this.oscillator.frequency.setValueAtTime(a,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Jr([dM(0)],Qd.prototype,"octaves",void 0);Jr([Wi(0)],Qd.prototype,"pitchDecay",void 0);const fM=new Set;function Cg(n){fM.add(n)}function hM(n,e){const t=`registerProcessor("${n}", ${e})`;fM.add(t)}const ej=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Cg(ej);const tj=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Cg(tj);const nj=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Cg(nj);const rj="feedback-comb-filter",ij=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;hM(rj,ij);class Ba extends Sa{constructor(){const e=Ye(Ba.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(Je(kc(r)||co(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),kc(r)){const a=new qn(this.context,r).toMidi();t[a]=e.urls[r]}else co(s)&&isFinite(s)&&(t[s]=e.urls[s])}),this._buffers=new hu({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Sa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:St,onerror:St,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=uM(new qn(this.context,s).toFrequency()),u=Math.round(a),c=a-u,d=this._findClosest(u),h=u-d,p=this._buffers.get(h),g=lM(d+c),y=new $a({url:p,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);y.start(t,0,p.duration/g,r),Hr(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(y),y.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const _=this._activeSources.get(u),w=_.indexOf(y);w!==-1&&_.splice(w,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new qn(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const a=this._activeSources.get(s);t=this.toSeconds(t),a.forEach(u=>{u.stop(t)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,s=1){const a=this.toSeconds(r);return this.triggerAttack(e,a,s),Hr(t)?(Je(Hr(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const d=t[Math.min(c,t.length-1)];this.triggerRelease(u,a+this.toSeconds(d))})):this.triggerRelease(e,a+this.toSeconds(t)),this}add(e,t,r){if(Je(kc(e)||isFinite(e),`note must be a pitch or midi: ${e}`),kc(e)){const s=new qn(this.context,e).toMidi();this._buffers.add(s,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Jr([Wi(0)],Ba.prototype,"attack",void 0);Jr([Wi(0)],Ba.prototype,"release",void 0);class Pg extends Qe{constructor(){const e=Ye(Pg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Wt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Gt(this,"pan")}static getDefaults(){return Object.assign(Qe.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const sj="bit-crusher",oj=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;hM(sj,oj);class en extends Qe{constructor(){const e=Ye(en.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new _n({context:this.context}),en._allSolos.has(this.context)||en._allSolos.set(this.context,new Set),en._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Qe.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),en._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){en._soloed.has(this.context)||en._soloed.set(this.context,new Set),en._soloed.get(this.context).add(this)}_removeSolo(){en._soloed.has(this.context)&&en._soloed.get(this.context).delete(this)}_isSoloed(){return en._soloed.has(this.context)&&en._soloed.get(this.context).has(this)}_noSolos(){return!en._soloed.has(this.context)||en._soloed.has(this.context)&&en._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),en._allSolos.get(this.context).delete(this),this._removeSolo(),this}}en._allSolos=new Map;en._soloed=new Map;class Ng extends Qe{constructor(){const e=Ye(Ng.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Pg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new vo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Gt(this,["pan","volume"])}static getDefaults(){return Object.assign(Qe.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Zo extends Qe{constructor(){const e=Ye(Zo.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new en({solo:e.solo,context:this.context}),this._panVol=this.output=new Ng({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Gt(this,["pan","volume"])}static getDefaults(){return Object.assign(Qe.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Zo.buses.has(e)||Zo.buses.set(e,new _n({context:this.context})),Zo.buses.get(e)}send(e,t=0){const r=this._getBus(e),s=new _n({context:this.context,units:"decibels",gain:t});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Zo.buses=new Map;function Kp(){return In().now()}In().transport;In().destination;In().destination;In().listener;In().draw;In();var aj=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(g){u(g)}}function d(p){try{h(r.throw(p))}catch(g){u(g)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class Zd extends Qe{constructor(e){super(e),this.name="PianoComponent",this.input=void 0,this.output=new vo({context:this.context}),this._enabled=!1,this.volume=this.output.volume,this._loaded=!1,this.volume.value=e.volume,this._enabled=e.enabled,this.samples=e.samples}get loaded(){return this._loaded}load(){return aj(this,void 0,void 0,function*(){if(this._enabled)yield this._internalLoad(),this._loaded=!0;else return Promise.resolve()})}}function pM(n){return q7(n,"midi").toNote()}function fd(n,e){return Math.random()*(e-n)+n}function lj(n){return`rel${n-20}.[mp3|ogg]`}function uj(n){return`harmS${pM(n).replace("#","s")}.[mp3|ogg]`}function cj(n,e){return`${pM(n).replace("#","s")}v${e}.[mp3|ogg]`}const dj={1:[8],2:[6,12],3:[1,7,15],4:[1,5,10,15],5:[1,4,8,12,16],6:[1,3,7,10,13,16],7:[1,3,6,9,11,13,16],8:[1,3,5,7,9,11,13,16],9:[1,3,5,7,9,11,13,15,16],10:[1,2,3,5,7,9,11,13,15,16],11:[1,2,3,5,7,9,11,13,14,15,16],12:[1,2,3,4,5,7,9,11,13,14,15,16],13:[1,2,3,4,5,7,9,11,12,13,14,15,16],14:[1,2,3,4,5,6,7,9,11,12,13,14,15,16],15:[1,2,3,4,5,6,7,9,10,11,12,13,14,15,16],16:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]},fj=[21,24,27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87,90,93,96,99,102,105,108];function hj(n,e){return fj.filter(t=>n<=t&&t<=e)}const Vc=[21,24,27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87];function pj(n,e){return Vc.filter(t=>n<=t&&t<=e)}function mj(n){return Vc[0]<=n&&n<=Vc[Vc.length-1]}class gj extends Zd{constructor(e){super(e),this._urls={};const t=pj(e.minNote,e.maxNote);for(const r of t)this._urls[r]=uj(r)}triggerAttack(e,t,r){this._enabled&&mj(e)&&this._sampler.triggerAttack(Yl(e).toNote(),t,r*fd(.5,1))}_internalLoad(){return new Promise(e=>{this._sampler=new Ba({baseUrl:this.samples,onload:e,urls:this._urls}).connect(this.output)})}}class vj extends Zd{constructor(e){super(e),this._urls={};for(let t=e.minNote;t<=e.maxNote;t++)this._urls[t]=lj(t)}_internalLoad(){return new Promise(e=>{this._buffers=new hu(this._urls,e,this.samples)})}start(e,t,r){this._enabled&&this._buffers.has(e)&&new $a({url:this._buffers.get(e),context:this.context}).connect(this.output).start(t,0,void 0,.015*r*fd(.5,1))}}class yj extends Zd{constructor(e){super(e),this._downTime=1/0,this._currentSound=null,this._downTime=1/0}_internalLoad(){return new Promise(e=>{this._buffers=new hu({down1:"pedalD1.mp3",down2:"pedalD2.mp3",up1:"pedalU1.mp3",up2:"pedalU2.mp3"},e,this.samples)})}_squash(e){this._currentSound&&this._currentSound.state!=="stopped"&&this._currentSound.stop(e),this._currentSound=null}_playSample(e,t){this._enabled&&(this._currentSound=new $a({url:this._buffers.get(`${t}${Math.random()>.5?1:2}`),context:this.context,curve:"exponential",fadeIn:.05,fadeOut:.1}).connect(this.output),this._currentSound.start(e,fd(0,.01),void 0,.1*fd(.5,1)))}down(e){this._squash(e),this._downTime=e,this._playSample(e,"down")}up(e){this._squash(e),this._downTime=1/0,this._playSample(e,"up")}isDown(e){return e>this._downTime}}class _j extends Qe{constructor(e){super(e),this.name="PianoString",this._urls={},e.notes.forEach(t=>this._urls[t]=cj(t,e.velocity)),this.samples=e.samples}load(){return new Promise(e=>{this._sampler=this.output=new Ba({attack:0,baseUrl:this.samples,curve:"exponential",onload:e,release:.4,urls:this._urls,volume:3})})}triggerAttack(e,t,r){this._sampler.triggerAttack(e,t,r)}triggerRelease(e,t){this._sampler.triggerRelease(e,t)}}var uw=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(g){u(g)}}function d(p){try{h(r.throw(p))}catch(g){u(g)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class wj extends Zd{constructor(e){super(e);const t=hj(e.minNote,e.maxNote),r=dj[e.velocities].slice();this._strings=r.map(s=>new _j(Object.assign(e,{notes:t,velocity:s}))),this._activeNotes=new Map}scale(e,t,r,s,a){return(e-t)/(r-t)*(a-s)+s}triggerAttack(e,t,r){const s=this.scale(r,0,1,-.5,this._strings.length-.51),a=Math.max(Math.round(s),0);let u=1+s-a;this._strings.length===1&&(u=r);const c=this._strings[a];this._activeNotes.has(e)&&this.triggerRelease(e,t),this._activeNotes.set(e,c),c.triggerAttack(Yl(e).toNote(),t,u)}triggerRelease(e,t){this._activeNotes.has(e)&&(this._activeNotes.get(e).triggerRelease(Yl(e).toNote(),t),this._activeNotes.delete(e))}_internalLoad(){return uw(this,void 0,void 0,function*(){yield Promise.all(this._strings.map(e=>uw(this,void 0,void 0,function*(){yield e.load(),e.connect(this.output)})))})}}var Sj=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(g){u(g)}}function d(p){try{h(r.throw(p))}catch(g){u(g)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class hd extends Qe{constructor(){super(Ye(hd.getDefaults(),arguments)),this.name="Piano",this.input=void 0,this.output=new _n({context:this.context}),this._heldNotes=new Map,this._loaded=!1;const e=Ye(hd.getDefaults(),arguments);e.url.endsWith("/")||(e.url+="/"),this.maxPolyphony=e.maxPolyphony,this._heldNotes=new Map,this._sustainedNotes=new Map,this._strings=new wj(Object.assign({},e,{enabled:!0,samples:e.url,volume:e.volume.strings})).connect(this.output),this.strings=this._strings.volume,this._pedal=new yj(Object.assign({},e,{enabled:e.pedal,samples:e.url,volume:e.volume.pedal})).connect(this.output),this.pedal=this._pedal.volume,this._keybed=new vj(Object.assign({},e,{enabled:e.release,samples:e.url,volume:e.volume.keybed})).connect(this.output),this.keybed=this._keybed.volume,this._harmonics=new gj(Object.assign({},e,{enabled:e.release,samples:e.url,volume:e.volume.harmonics})).connect(this.output),this.harmonics=this._harmonics.volume}static getDefaults(){return Object.assign(Qe.getDefaults(),{maxNote:108,minNote:21,pedal:!0,release:!1,url:"https://tambien.github.io/Piano/audio/",velocities:1,maxPolyphony:32,volume:{harmonics:0,keybed:0,pedal:0,strings:0}})}load(){return Sj(this,void 0,void 0,function*(){yield Promise.all([this._strings.load(),this._pedal.load(),this._keybed.load(),this._harmonics.load()]),this._loaded=!0})}get loaded(){return this._loaded}pedalDown({time:e=this.immediate()}={}){return this.loaded&&(e=this.toSeconds(e),this._pedal.isDown(e)||this._pedal.down(e)),this}pedalUp({time:e=this.immediate()}={}){if(this.loaded){const t=this.toSeconds(e);this._pedal.isDown(t)&&(this._pedal.up(t),this._sustainedNotes.forEach((r,s)=>{this._heldNotes.has(s)||this._strings.triggerRelease(s,t)}),this._sustainedNotes.clear())}return this}keyDown({note:e,midi:t,time:r=this.immediate(),velocity:s=.8}){return this.loaded&&this.maxPolyphony>this._heldNotes.size+this._sustainedNotes.size?(r=this.toSeconds(r),Kr(e)&&(t=Math.round(Yl(e).toMidi())),this._heldNotes.has(t)||(this._heldNotes.set(t,{time:r,velocity:s}),this._strings.triggerAttack(t,r,s))):console.warn("samples not loaded"),this}keyUp({note:e,midi:t,time:r=this.immediate(),velocity:s=.8}){if(this.loaded&&(r=this.toSeconds(r),Kr(e)&&(t=Math.round(Yl(e).toMidi())),this._heldNotes.has(t))){const a=this._heldNotes.get(t);this._heldNotes.delete(t);const u=Math.pow(Math.max(r-a.time,.1),.7),c=a.velocity;let d=3/u*c*s;d=Math.max(d,.4),d=Math.min(d,4),this._pedal.isDown(r)?this._sustainedNotes.has(t)||this._sustainedNotes.set(t,r):(this._strings.triggerRelease(t,r),this._harmonics.triggerAttack(t,r,d)),this._keybed.start(t,r,s)}return this}stopAll(){return this.pedalUp(),this._heldNotes.forEach((e,t)=>{this.keyUp({midi:t})}),this}}var Rc={exports:{}},cw;function Ej(){if(cw)return Rc.exports;cw=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(x,k,T){return Function.prototype.apply.call(x,k,T)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:t=function(x){return Object.getOwnPropertyNames(x)};function r(N){console&&console.warn&&console.warn(N)}var s=Number.isNaN||function(x){return x!==x};function a(){a.init.call(this)}Rc.exports=a,Rc.exports.once=C,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");u=N}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||s(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function d(N){return N._maxListeners===void 0?a.defaultMaxListeners:N._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(x){for(var k=[],T=1;T<arguments.length;T++)k.push(arguments[T]);var A=x==="error",$=this._events;if($!==void 0)A=A&&$.error===void 0;else if(!A)return!1;if(A){var L;if(k.length>0&&(L=k[0]),L instanceof Error)throw L;var V=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw V.context=L,V}var B=$[x];if(B===void 0)return!1;if(typeof B=="function")e(B,this,k);else for(var J=B.length,ne=w(B,J),T=0;T<J;++T)e(ne[T],this,k);return!0};function h(N,x,k,T){var A,$,L;if(c(k),$=N._events,$===void 0?($=N._events=Object.create(null),N._eventsCount=0):($.newListener!==void 0&&(N.emit("newListener",x,k.listener?k.listener:k),$=N._events),L=$[x]),L===void 0)L=$[x]=k,++N._eventsCount;else if(typeof L=="function"?L=$[x]=T?[k,L]:[L,k]:T?L.unshift(k):L.push(k),A=d(N),A>0&&L.length>A&&!L.warned){L.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=N,V.type=x,V.count=L.length,r(V)}return N}a.prototype.addListener=function(x,k){return h(this,x,k,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(x,k){return h(this,x,k,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(N,x,k){var T={fired:!1,wrapFn:void 0,target:N,type:x,listener:k},A=p.bind(T);return A.listener=k,T.wrapFn=A,A}a.prototype.once=function(x,k){return c(k),this.on(x,g(this,x,k)),this},a.prototype.prependOnceListener=function(x,k){return c(k),this.prependListener(x,g(this,x,k)),this},a.prototype.removeListener=function(x,k){var T,A,$,L,V;if(c(k),A=this._events,A===void 0)return this;if(T=A[x],T===void 0)return this;if(T===k||T.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete A[x],A.removeListener&&this.emit("removeListener",x,T.listener||k));else if(typeof T!="function"){for($=-1,L=T.length-1;L>=0;L--)if(T[L]===k||T[L].listener===k){V=T[L].listener,$=L;break}if($<0)return this;$===0?T.shift():E(T,$),T.length===1&&(A[x]=T[0]),A.removeListener!==void 0&&this.emit("removeListener",x,V||k)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(x){var k,T,A;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[x]),this;if(arguments.length===0){var $=Object.keys(T),L;for(A=0;A<$.length;++A)L=$[A],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=T[x],typeof k=="function")this.removeListener(x,k);else if(k!==void 0)for(A=k.length-1;A>=0;A--)this.removeListener(x,k[A]);return this};function y(N,x,k){var T=N._events;if(T===void 0)return[];var A=T[x];return A===void 0?[]:typeof A=="function"?k?[A.listener||A]:[A]:k?S(A):w(A,A.length)}a.prototype.listeners=function(x){return y(this,x,!0)},a.prototype.rawListeners=function(x){return y(this,x,!1)},a.listenerCount=function(N,x){return typeof N.listenerCount=="function"?N.listenerCount(x):_.call(N,x)},a.prototype.listenerCount=_;function _(N){var x=this._events;if(x!==void 0){var k=x[N];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function w(N,x){for(var k=new Array(x),T=0;T<x;++T)k[T]=N[T];return k}function E(N,x){for(;x+1<N.length;x++)N[x]=N[x+1];N.pop()}function S(N){for(var x=new Array(N.length),k=0;k<x.length;++k)x[k]=N[k].listener||N[k];return x}function C(N,x){return new Promise(function(k,T){function A(L){N.removeListener(x,$),T(L)}function $(){typeof N.removeListener=="function"&&N.removeListener("error",A),k([].slice.call(arguments))}R(N,x,$,{once:!0}),x!=="error"&&O(N,A,{once:!0})})}function O(N,x,k){typeof N.on=="function"&&R(N,"error",x,k)}function R(N,x,k,T){if(typeof N.on=="function")T.once?N.once(x,k):N.on(x,k);else if(typeof N.addEventListener=="function")N.addEventListener(x,function A($){T.once&&N.removeEventListener(x,A),k($)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return Rc.exports}var Mj=Ej();function bj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mM={exports:{}},Qt=mM.exports={},ai,li;function Xp(){throw new Error("setTimeout has not been defined")}function Qp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ai=setTimeout:ai=Xp}catch{ai=Xp}try{typeof clearTimeout=="function"?li=clearTimeout:li=Qp}catch{li=Qp}})();function gM(n){if(ai===setTimeout)return setTimeout(n,0);if((ai===Xp||!ai)&&setTimeout)return ai=setTimeout,setTimeout(n,0);try{return ai(n,0)}catch{try{return ai.call(null,n,0)}catch{return ai.call(this,n,0)}}}function Tj(n){if(li===clearTimeout)return clearTimeout(n);if((li===Qp||!li)&&clearTimeout)return li=clearTimeout,clearTimeout(n);try{return li(n)}catch{try{return li.call(null,n)}catch{return li.call(this,n)}}}var Di=[],sa=!1,Js,zc=-1;function xj(){!sa||!Js||(sa=!1,Js.length?Di=Js.concat(Di):zc=-1,Di.length&&vM())}function vM(){if(!sa){var n=gM(xj);sa=!0;for(var e=Di.length;e;){for(Js=Di,Di=[];++zc<e;)Js&&Js[zc].run();zc=-1,e=Di.length}Js=null,sa=!1,Tj(n)}}Qt.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Di.push(new yM(n,e)),Di.length===1&&!sa&&gM(vM)};function yM(n,e){this.fun=n,this.array=e}yM.prototype.run=function(){this.fun.apply(null,this.array)};Qt.title="browser";Qt.browser=!0;Qt.env={};Qt.argv=[];Qt.version="";Qt.versions={};function Hi(){}Qt.on=Hi;Qt.addListener=Hi;Qt.once=Hi;Qt.off=Hi;Qt.removeListener=Hi;Qt.removeAllListeners=Hi;Qt.emit=Hi;Qt.prependListener=Hi;Qt.prependOnceListener=Hi;Qt.listeners=function(n){return[]};Qt.binding=function(n){throw new Error("process.binding is not supported")};Qt.cwd=function(){return"/"};Qt.chdir=function(n){throw new Error("process.chdir is not supported")};Qt.umask=function(){return 0};var Cj=mM.exports;const pp=bj(Cj);class Wr{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,t,r={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==Wr.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof t!="function")throw new TypeError("The callback must be a function.");const s=new dw(e,this,t,r);return this.eventMap[e]||(this.eventMap[e]=[]),r.prepend?this.eventMap[e].unshift(s):this.eventMap[e].push(s),s}addOneTimeListener(e,t,r={}){r.remaining=1,this.addListener(e,t,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,t){return e===void 0?this.eventMap[Wr.ANY_EVENT]&&this.eventMap[Wr.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[e]&&this.eventMap[e].length>0?t instanceof dw?this.eventMap[e].filter(s=>s===t).length>0:typeof t=="function"?this.eventMap[e].filter(s=>s.callback===t).length>0:t==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(t=>{t.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(t=>{t.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...t){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],s=this.eventMap[Wr.ANY_EVENT]||[];return this.eventMap[e]&&(s=s.concat(this.eventMap[e])),s.forEach(a=>{if(a.suspended)return;let u=[...t];Array.isArray(a.arguments)&&(u=u.concat(a.arguments)),a.remaining>0&&(r.push(a.callback.apply(a.context,u)),a.count++),--a.remaining<1&&a.remove()}),r}removeListener(e,t,r={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let s=this.eventMap[e].filter(a=>t&&a.callback!==t||r.remaining&&r.remaining!==a.remaining||r.context&&r.context!==a.context);s.length?this.eventMap[e]=s:delete this.eventMap[e]}async waitFor(e,t={}){return t.duration=parseInt(t.duration),(isNaN(t.duration)||t.duration<=0)&&(t.duration=1/0),new Promise((r,s)=>{let a,u=this.addListener(e,()=>{clearTimeout(a),r()},{remaining:1});t.duration!==1/0&&(a=setTimeout(()=>{u.remove(),s("The duration expired before the event was emitted.")},t.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class dw{constructor(e,t,r,s={}){if(typeof e!="string"&&!(e instanceof String)&&e!==Wr.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!t)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");s.arguments!==void 0&&!Array.isArray(s.arguments)&&(s.arguments=[s.arguments]),s=Object.assign({context:t,remaining:1/0,arguments:void 0,duration:1/0},s),s.duration!==1/0&&setTimeout(()=>this.remove(),s.duration),this.arguments=s.arguments,this.callback=r,this.context=s.context,this.count=0,this.event=e,this.remaining=parseInt(s.remaining)>=1?parseInt(s.remaining):1/0,this.suspended=!1,this.target=t}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class ie{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),ie.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),ie.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),ie.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),ie.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */let Jo=class{constructor(e,t={}){this.duration=ve.defaults.note.duration,this.attack=ve.defaults.note.attack,this.release=ve.defaults.note.release,t.duration!=null&&(this.duration=t.duration),t.attack!=null&&(this.attack=t.attack),t.rawAttack!=null&&(this.attack=_e.from7bitToFloat(t.rawAttack)),t.release!=null&&(this.release=t.release),t.rawRelease!=null&&(this.release=_e.from7bitToFloat(t.rawRelease)),Number.isInteger(e)?this.identifier=_e.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const t=_e.getNoteDetails(e);if(ve.validation&&!e)throw new Error("Invalid note identifier");this._name=t.name,this._accidental=t.accidental,this._octave=t.octave}get name(){return this._name}set name(e){if(ve.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(ve.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(ve.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(ve.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(ve.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(ve.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return _e.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=_e.from7bitToFloat(e)}get rawRelease(){return _e.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=_e.from7bitToFloat(e)}get number(){return _e.toNoteNumber(this.identifier)}getOffsetNumber(e=0,t=0){return ve.validation&&(e=parseInt(e)||0,t=parseInt(t)||0),Math.min(Math.max(this.number+e*12+t,0),127)}};/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class _e{static toNoteNumber(e,t=0){if(t=t==null?0:parseInt(t),isNaN(t))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const r=this.getNoteDetails(e);if(!r)throw new TypeError("Invalid note identifier");const s={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let a=(r.octave+1+t)*12;if(a+=s[r.name],r.accidental&&(r.accidental.startsWith("b")?a-=r.accidental.length:a+=r.accidental.length),a<0||a>127)throw new RangeError("Invalid octaveOffset value");return a}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const t=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!t)throw new TypeError("Invalid note identifier");const r=t[1].toUpperCase(),s=parseInt(t[3]);let a=t[2].toLowerCase();return a=a===""?void 0:a,{accidental:a,identifier:r+(a||"")+s,name:r,octave:s}}static sanitizeChannels(e){let t;if(ve.validation){if(e==="all")t=["all"];else if(e==="none")return[]}return Array.isArray(e)?t=e:t=[e],t.indexOf("all")>-1&&(t=ie.MIDI_CHANNEL_NUMBERS),t.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(e){let t=!1;const r=parseFloat(e);return isNaN(r)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?r>=0&&(t=ve.time+r):r>=0&&(t=r),t)}static guessNoteNumber(e,t){t=parseInt(t)||0;let r=!1;if(Number.isInteger(e)&&e>=0&&e<=127)r=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)r=parseInt(e);else if(typeof e=="string"||e instanceof String)try{r=this.toNoteNumber(e.trim(),t)}catch{return!1}return r}static toNoteIdentifier(e,t){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(t=t==null?0:parseInt(t),isNaN(t))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s=Math.floor(e/12-1)+t;return r[e%12]+s.toString()}static buildNote(e,t={}){if(t.octaveOffset=parseInt(t.octaveOffset)||0,e instanceof Jo)return e;let r=this.guessNoteNumber(e,t.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return t.octaveOffset=void 0,new Jo(r,t)}static buildNoteArray(e,t={}){let r=[];return Array.isArray(e)||(e=[e]),e.forEach(s=>{r.push(this.buildNote(s,t))}),r}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,t=0){ve.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),t=Math.min(Math.max(parseInt(t)||0,0),127));const r=((e<<7)+t)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(e){ve.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const t=Math.round(e*16383);return{msb:t>>7,lsb:t&127}}static offsetNumber(e,t=0,r=0){if(ve.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");t=parseInt(t)||0,r=parseInt(r)||0}return Math.min(Math.max(e+t*12+r,0),127)}static getPropertyByValue(e,t){return Object.keys(e).find(r=>e[r]===t)}static getCcNameByNumber(e){if(!(ve.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return ie.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let t=ie.CONTROL_CHANGE_MESSAGES.find(r=>r.name===e);return t?t.number:ie.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let t in ie.CHANNEL_MODE_MESSAGES)if(ie.CHANNEL_MODE_MESSAGES.hasOwnProperty(t)&&e===ie.CHANNEL_MODE_MESSAGES[t])return t;return!1}static get isNode(){return typeof pp<"u"&&pp.versions!=null&&pp.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Pj extends Wr{constructor(e,t){super(),this._output=e,this._number=t,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,t={time:0}){return this.output.send(e,t),this}sendKeyAftertouch(e,t,r={}){if(ve.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(t)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(t=_e.fromFloatTo7Bit(t));const s=ve.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),_e.buildNoteArray(e).forEach(a=>{this.send([(ie.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),a.getOffsetNumber(s),t],{time:_e.toTimestamp(r.time)})}),this}sendControlChange(e,t,r={}){if(typeof e=="string"&&(e=_e.getCcNumberByName(e)),Array.isArray(t)||(t=[t]),ve.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(t=t.map(s=>{const a=Math.min(Math.max(parseInt(s),0),127);if(isNaN(a))throw new TypeError("Values must be integers between 0 and 127");return a}),t.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return t.forEach((s,a)=>{this.send([(ie.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+a*32,t[a]],{time:_e.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(e,t={}){return this.sendControlChange(99,e[0],t),this.sendControlChange(98,e[1],t),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,t={}){return this.sendControlChange(101,e[0],t),this.sendControlChange(100,e[1],t),this}_setCurrentParameter(e,t={}){return e=[].concat(e),this.sendControlChange(6,e[0],t),e.length<2?this:(this.sendControlChange(38,e[1],t),this)}sendRpnDecrement(e,t={}){if(Array.isArray(e)||(e=ie.REGISTERED_PARAMETERS[e]),ve.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(ie.REGISTERED_PARAMETERS).forEach(s=>{ie.REGISTERED_PARAMETERS[s][0]===e[0]&&ie.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,t),this.sendControlChange(97,0,t),this._deselectRegisteredParameter(t),this}sendRpnIncrement(e,t={}){if(Array.isArray(e)||(e=ie.REGISTERED_PARAMETERS[e]),ve.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(ie.REGISTERED_PARAMETERS).forEach(s=>{ie.REGISTERED_PARAMETERS[s][0]===e[0]&&ie.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,t),this.sendControlChange(96,0,t),this._deselectRegisteredParameter(t),this}playNote(e,t={}){this.sendNoteOn(e,t);const r=Array.isArray(e)?e:[e];for(let s of r)if(parseInt(s.duration)>0){const a={time:(_e.toTimestamp(t.time)||ve.time)+parseInt(s.duration),release:s.release,rawRelease:s.rawRelease};this.sendNoteOff(s,a)}else if(parseInt(t.duration)>0){const a={time:(_e.toTimestamp(t.time)||ve.time)+parseInt(t.duration),release:t.release,rawRelease:t.rawRelease};this.sendNoteOff(s,a)}return this}sendNoteOff(e,t={}){if(ve.validation){if(t.rawRelease!=null&&!(t.rawRelease>=0&&t.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(t.release!=null&&!(t.release>=0&&t.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");t.rawVelocity&&(t.rawRelease=t.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),t.velocity&&(t.release=t.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;t.rawRelease!=null?r=t.rawRelease:isNaN(t.release)||(r=Math.round(t.release*127));const s=ve.octaveOffset+this.output.octaveOffset+this.octaveOffset;return _e.buildNoteArray(e,{rawRelease:parseInt(r)}).forEach(a=>{this.send([(ie.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),a.getOffsetNumber(s),a.rawRelease],{time:_e.toTimestamp(t.time)})}),this}stopNote(e,t={}){return this.sendNoteOff(e,t)}sendNoteOn(e,t={}){if(ve.validation){if(t.rawAttack!=null&&!(t.rawAttack>=0&&t.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(t.attack!=null&&!(t.attack>=0&&t.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");t.rawVelocity&&(t.rawAttack=t.velocity,t.rawRelease=t.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),t.velocity&&(t.attack=t.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;t.rawAttack!=null?r=t.rawAttack:isNaN(t.attack)||(r=Math.round(t.attack*127));const s=ve.octaveOffset+this.output.octaveOffset+this.octaveOffset;return _e.buildNoteArray(e,{rawAttack:r}).forEach(a=>{this.send([(ie.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),a.getOffsetNumber(s),a.rawAttack],{time:_e.toTimestamp(t.time)})}),this}sendChannelMode(e,t=0,r={}){if(typeof e=="string"&&(e=ie.CHANNEL_MODE_MESSAGES[e]),ve.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(t))||t<0||t>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(ie.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,t],{time:_e.toTimestamp(r.time)}),this}sendOmniMode(e,t={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,t):this.sendChannelMode("omnimodeoff",0,t),this}sendChannelAftertouch(e,t={}){if(ve.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(t.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return t.rawValue||(e=_e.fromFloatTo7Bit(e)),this.send([(ie.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e)],{time:_e.toTimestamp(t.time)}),this}sendMasterTuning(e,t={}){if(e=parseFloat(e)||0,ve.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(e)+64,s=e-Math.floor(e);s=Math.round((s+1)/2*16383);let a=s>>7&127,u=s&127;return this.sendRpnValue("channelcoarsetuning",r,t),this.sendRpnValue("channelfinetuning",[a,u],t),this}sendModulationRange(e,t,r={}){if(ve.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(t!=null&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return t>=0&&t<=127||(t=0),this.sendRpnValue("modulationrange",[e,t],r),this}sendNrpnValue(e,t,r={}){if(t=[].concat(t),ve.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");t.forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,r),this._setCurrentParameter(t,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(e,t={}){if(ve.validation)if(t.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(t.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,s=0;if(t.rawValue&&Array.isArray(e))r=e[0],s=e[1];else if(t.rawValue&&!Array.isArray(e))r=e;else{const a=_e.fromFloatToMsbLsb((e+1)/2);r=a.msb,s=a.lsb}return this.send([(ie.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),s,r],{time:_e.toTimestamp(t.time)}),this}sendPitchBendRange(e,t,r={}){if(ve.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,t],r),this}sendProgramChange(e,t={}){if(e=parseInt(e)||0,ve.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(ie.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:_e.toTimestamp(t.time)}),this}sendRpnValue(e,t,r={}){if(Array.isArray(e)||(e=ie.REGISTERED_PARAMETERS[e]),ve.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(t).forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,r),this._setCurrentParameter(t,r),this._deselectRegisteredParameter(r),this}sendTuningBank(e,t={}){if(ve.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,t),this}sendTuningProgram(e,t={}){if(ve.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,t),this}sendLocalControl(e,t={}){return e?this.sendChannelMode("localcontrol",127,t):this.sendChannelMode("localcontrol",0,t)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,t={}){return e==="mono"?this.sendChannelMode("monomodeon",0,t):this.sendChannelMode("polymodeon",0,t)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Zp extends Wr{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let t=1;t<=16;t++)this.channels[t]=new Pj(this,t);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let t={timestamp:ve.time};e.port.connection==="open"?(t.type="opened",t.target=this,t.port=t.target,this.emit("opened",t)):e.port.connection==="closed"&&e.port.state==="connected"?(t.type="closed",t.target=this,t.port=t.target,this.emit("closed",t)):e.port.connection==="closed"&&e.port.state==="disconnected"?(t.type="disconnected",t.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",t)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,t={time:0},r=0){if(e instanceof _M&&(e=_e.isNode?e.data:e.rawData),e instanceof Uint8Array&&_e.isNode&&(e=Array.from(e)),ve.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(t)&&(e=e.concat(t)),t=isNaN(r)?{time:0}:{time:r}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(s=>{if(s=parseInt(s),!(s>=0&&s<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),t||(t={time:0})}return this._midiOutput.send(e,_e.toTimestamp(t.time)),this}sendSysex(e,t=[],r={}){if(e=[].concat(e),t instanceof Uint8Array){const s=new Uint8Array(1+e.length+t.length+1);s[0]=ie.SYSTEM_MESSAGES.sysex,s.set(Uint8Array.from(e),1),s.set(t,1+e.length),s[s.length-1]=ie.SYSTEM_MESSAGES.sysexend,this.send(s,{time:r.time})}else{const s=e.concat(t,ie.SYSTEM_MESSAGES.sysexend);this.send([ie.SYSTEM_MESSAGES.sysex].concat(s),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():ve.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,t={}){if(ve.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([ie.SYSTEM_MESSAGES.timecode,e],{time:t.time}),this}sendSongPosition(e=0,t={}){e=Math.floor(e)||0;var r=e>>7&127,s=e&127;return this.send([ie.SYSTEM_MESSAGES.songposition,r,s],{time:t.time}),this}sendSongSelect(e=0,t={}){if(ve.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([ie.SYSTEM_MESSAGES.songselect,e],{time:t.time}),this}sendTuneRequest(e={}){return this.send([ie.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([ie.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([ie.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([ie.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([ie.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([ie.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([ie.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return ve.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendKeyAftertouch(e,t,r)}),this}sendControlChange(e,t,r={},s={}){if(ve.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const a=r;r=s,r.channels=a,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(a=>{this.channels[a].sendControlChange(e,t,r)}),this}sendPitchBendRange(e=0,t=0,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendPitchBendRange(e,t,r)}),this}setPitchBendRange(e=0,t=0,r="all",s={}){return ve.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,t,s)}sendRpnValue(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendRpnValue(e,t,r)}),this}setRegisteredParameter(e,t=[],r="all",s={}){return ve.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,t,s)}sendChannelAftertouch(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendChannelAftertouch(e,t)}),this}sendPitchBend(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendPitchBend(e,t)}),this}sendProgramChange(e=0,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendProgramChange(e,t)}),this}sendModulationRange(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendModulationRange(e,t,r)}),this}setModulationRange(e=0,t=0,r="all",s={}){return ve.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,t,s)}sendMasterTuning(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendMasterTuning(e,t)}),this}setMasterTuning(e,t={},r={}){return ve.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,r)}sendTuningProgram(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendTuningProgram(e,t)}),this}setTuningProgram(e,t="all",r={}){return ve.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,r)}sendTuningBank(e=0,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendTuningBank(e,t)}),this}setTuningBank(e,t="all",r={}){return ve.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,r)}sendChannelMode(e,t=0,r={},s={}){if(ve.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const a=r;r=s,r.channels=a,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(a=>{this.channels[a].sendChannelMode(e,t,r)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(e.channels).forEach(t=>{this.channels[t].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(e.channels).forEach(t=>{this.channels[t].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},t={}){if(ve.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const r=e;e=t,e.channels=r,e.channels==="all"&&(e.channels=ie.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(e.channels).forEach(r=>{this.channels[r].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendPolyphonicMode(e,t)}),this}sendLocalControl(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendLocalControl(e,t)}),this}sendOmniMode(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendOmniMode(e,t)}),this}sendNrpnValue(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendNrpnValue(e,t,r)}),this}setNonRegisteredParameter(e,t=[],r="all",s={}){return ve.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,t,s)}sendRpnIncrement(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendRpnIncrement(e,t)}),this}incrementRegisteredParameter(e,t="all",r={}){return ve.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,r)}sendRpnDecrement(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendRpnDecrement(e,t)}),this}decrementRegisteredParameter(e,t="all",r={}){return ve.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,r)}sendNoteOff(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendNoteOff(e,t)}),this}stopNote(e,t){return this.sendNoteOff(e,t)}playNote(e,t={},r={}){if(ve.validation&&(t.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),t.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].playNote(e,t)}),this}sendNoteOn(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendNoteOn(e,t)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class fw{constructor(e=[],t={}){this.destinations=[],this.types=[...Object.keys(ie.SYSTEM_MESSAGES),...Object.keys(ie.CHANNEL_MESSAGES)],this.channels=ie.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),t.types&&!Array.isArray(t.types)&&(t.types=[t.types]),t.channels&&!Array.isArray(t.channels)&&(t.channels=[t.channels]),ve.validation&&(e.forEach(r=>{if(!(r instanceof Zp))throw new TypeError("Destinations must be of type 'Output'.")}),t.types!==void 0&&t.types.forEach(r=>{if(!ie.SYSTEM_MESSAGES.hasOwnProperty(r)&&!ie.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),t.channels!==void 0&&t.channels.forEach(r=>{if(!ie.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,t.types&&(this.types=t.types),t.channels&&(this.channels=t.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(t=>{ve.validation&&!(t instanceof Zp)||t.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Nj extends Wr{constructor(e,t){super(),this._input=e,this._number=t,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const t=Object.assign({},e);t.port=this.input,t.target=this,t.type="midimessage",this.emit(t.type,t),this._parseEventForStandardMessages(t)}_parseEventForStandardMessages(e){const t=Object.assign({},e);t.type=t.message.type||"unknownmessage";const r=e.message.dataBytes[0],s=e.message.dataBytes[1];if(t.type==="noteoff"||t.type==="noteon"&&s===0)this.notesState[r]=!1,t.type="noteoff",t.note=new Jo(_e.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ve.octaveOffset),{rawAttack:0,rawRelease:s}),t.value=_e.from7bitToFloat(s),t.rawValue=s,t.velocity=t.note.release,t.rawVelocity=t.note.rawRelease;else if(t.type==="noteon")this.notesState[r]=!0,t.note=new Jo(_e.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ve.octaveOffset),{rawAttack:s}),t.value=_e.from7bitToFloat(s),t.rawValue=s,t.velocity=t.note.attack,t.rawVelocity=t.note.rawAttack;else if(t.type==="keyaftertouch")t.note=new Jo(_e.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ve.octaveOffset)),t.value=_e.from7bitToFloat(s),t.rawValue=s,t.identifier=t.note.identifier,t.key=t.note.number,t.rawKey=r;else if(t.type==="controlchange"){t.controller={number:r,name:ie.CONTROL_CHANGE_MESSAGES[r].name,description:ie.CONTROL_CHANGE_MESSAGES[r].description,position:ie.CONTROL_CHANGE_MESSAGES[r].position},t.subtype=t.controller.name||"controller"+r,t.value=_e.from7bitToFloat(s),t.rawValue=s;const a=Object.assign({},t);a.type=`${t.type}-controller${r}`,delete a.subtype,this.emit(a.type,a);const u=Object.assign({},t);u.type=`${t.type}-`+ie.CONTROL_CHANGE_MESSAGES[r].name,delete u.subtype,u.type.indexOf("controller")!==0&&this.emit(u.type,u),t.message.dataBytes[0]>=120&&this._parseChannelModeMessage(t),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(t.message.dataBytes[0])&&this._parseEventForParameterNumber(t)}else t.type==="programchange"?(t.value=r,t.rawValue=t.value):t.type==="channelaftertouch"?(t.value=_e.from7bitToFloat(r),t.rawValue=r):t.type==="pitchbend"?(t.value=((s<<7)+r-8192)/8192,t.rawValue=(s<<7)+r):t.type="unknownmessage";this.emit(t.type,t)}_parseChannelModeMessage(e){const t=Object.assign({},e);t.type=t.controller.name,t.type==="localcontrol"&&(t.value=t.message.data[2]===127,t.rawValue=t.message.data[2]),t.type==="omnimodeon"?(t.type="omnimode",t.value=!0,t.rawValue=t.message.data[2]):t.type==="omnimodeoff"&&(t.type="omnimode",t.value=!1,t.rawValue=t.message.data[2]),t.type==="monomodeon"?(t.type="monomode",t.value=!0,t.rawValue=t.message.data[2]):t.type==="polymodeon"&&(t.type="monomode",t.value=!1,t.rawValue=t.message.data[2]),this.emit(t.type,t)}_parseEventForParameterNumber(e){const t=e.message.dataBytes[0],r=e.message.dataBytes[1];t===99||t===101?(this._nrpnBuffer=[],this._rpnBuffer=[],t===99?this._nrpnBuffer=[e.message]:r!==127&&(this._rpnBuffer=[e.message])):t===98||t===100?t===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(t===6||t===38||t===96||t===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,t,r,s){e=e==="nrpn"?"nrpn":"rpn";const a={target:s.target,timestamp:s.timestamp,message:s.message,parameterMsb:t,parameterLsb:r,value:_e.from7bitToFloat(s.message.dataBytes[1]),rawValue:s.message.dataBytes[1]};e==="rpn"?a.parameter=Object.keys(ie.REGISTERED_PARAMETERS).find(d=>ie.REGISTERED_PARAMETERS[d][0]===t&&ie.REGISTERED_PARAMETERS[d][1]===r):a.parameter=(t<<7)+r;const u=ie.CONTROL_CHANGE_MESSAGES[s.message.dataBytes[0]].name;a.type=`${e}-${u}`,this.emit(a.type,a);const c=Object.assign({},a);c.type==="nrpn-dataincrement"?c.type="nrpn-databuttonincrement":c.type==="nrpn-datadecrement"?c.type="nrpn-databuttondecrement":c.type==="rpn-dataincrement"?c.type="rpn-databuttonincrement":c.type==="rpn-datadecrement"&&(c.type="rpn-databuttondecrement"),this.emit(c.type,c),a.type=e,a.subtype=u,this.emit(a.type,a)}getChannelModeByNumber(e){return ve.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),_e.getChannelModeByNumber(e)}getCcNameByNumber(e){if(ve.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return _e.getCcNameByNumber(e)}getNoteState(e){e instanceof Jo&&(e=e.identifier);const t=_e.guessNoteNumber(e,ve.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[t]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class _M{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=_e.getPropertyByValue(ie.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=_e.getPropertyByValue(ie.SYSTEM_MESSAGES,this.command)),this.statusByte===ie.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Aj extends Wr{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let t=1;t<=16;t++)this.channels[t]=new Nj(this,t);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let t={timestamp:ve.time,target:this,port:this};e.port.connection==="open"?(t.type="opened",this.emit("opened",t)):e.port.connection==="closed"&&e.port.state==="connected"?(t.type="closed",this.emit("closed",t)):e.port.connection==="closed"&&e.port.state==="disconnected"?(t.type="disconnected",t.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",t)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const t=new _M(e.data),r={port:this,target:this,message:t,timestamp:e.timeStamp,type:"midimessage",data:t.data,rawData:t.data,statusByte:t.data[0],dataBytes:t.dataBytes};this.emit("midimessage",r),t.isSystemMessage?this._parseEvent(r):t.isChannelMessage&&this.channels[t.channel]._processMidiMessageEvent(r),this._forwarders.forEach(s=>s.forward(t))}_parseEvent(e){const t=Object.assign({},e);t.type=t.message.type||"unknownmidimessage",t.type==="songselect"&&(t.song=e.data[1]+1,t.value=e.data[1],t.rawValue=t.value),this.emit(t.type,t)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){ve.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,t,r={}){if(ve.validation&&typeof r=="function"){let s=t!=null?[].concat(t):void 0;t=r,r={channels:s}}if(ie.CHANNEL_EVENTS.includes(e)){r.channels===void 0&&(r.channels=ie.MIDI_CHANNEL_NUMBERS);let s=[];return _e.sanitizeChannels(r.channels).forEach(a=>{s.push(this.channels[a].addListener(e,t,r))}),s}else return super.addListener(e,t,r)}addOneTimeListener(e,t,r={}){return r.remaining=1,this.addListener(e,t,r)}on(e,t,r,s){return this.addListener(e,t,r,s)}hasListener(e,t,r={}){if(ve.validation&&typeof r=="function"){let s=[].concat(t);t=r,r={channels:s}}return ie.CHANNEL_EVENTS.includes(e)?(r.channels===void 0&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).every(s=>this.channels[s].hasListener(e,t))):super.hasListener(e,t)}removeListener(e,t,r={}){if(ve.validation&&typeof r=="function"){let s=[].concat(t);t=r,r={channels:s}}if(r.channels===void 0&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),e==null)return _e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s]&&this.channels[s].removeListener()}),super.removeListener();ie.CHANNEL_EVENTS.includes(e)?_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].removeListener(e,t,r)}):super.removeListener(e,t,r)}addForwarder(e,t={}){let r;return e instanceof fw?r=e:r=new fw(e,t),this._forwarders.push(r),r}removeForwarder(e){this._forwarders=this._forwarders.filter(t=>t!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return ve.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class kj extends Wr{constructor(){super(),this.defaults={note:{attack:_e.from7bitToFloat(64),release:_e.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},t=!1){if(_e.isNode)try{window.navigator}catch{let c=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();Li.navigator||(Li.navigator={}),Object.assign(Li.navigator,c)}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:t}),t&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},s={timestamp:this.time,target:this,type:"midiaccessgranted"},a={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(u){return r.error=u,this.emit("error",r),typeof e.callback=="function"&&e.callback(u),Promise.reject(u)}this.emit("midiaccessgranted",s),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(u){return r.error=u,this.emit("error",r),typeof e.callback=="function"&&e.callback(u),Promise.reject(u)}return this.emit("enabled",a),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(t.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===e.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===e.toString())return this.inputs[r]}getInputByName(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(t.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(e))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(e))return this.inputs[r]}getOutputByName(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(t.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(e))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(e))return this.outputs[r]}getOutputById(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(t.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===e.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===e.toString())return this.outputs[r]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),_e.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?_e.getNoteDetails(_e.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),_e.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),_e.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),_e.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,t={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),_e.buildNoteArray(e,t)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),_e.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(t=>e.push(t.destroy())),this.outputs.forEach(t=>e.push(t.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let t={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?t.port=this.getOutputById(e.port.id):e.port.type==="input"&&(t.port=this.getInputById(e.port.id)),this.emit(e.port.state,t);const r=Object.assign({},t);r.type="portschanged",this.emit(r.type,r)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?t.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(t.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,t);const r=Object.assign({},t);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let t=this._inputs.length-1;t>=0;t--){const r=this._inputs[t];Array.from(this.interface.inputs.values()).find(a=>a===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(t,1))}let e=[];return this.interface.inputs.forEach(t=>{if(!this._inputs.find(r=>r._midiInput===t)){let r=this._disconnectedInputs.find(s=>s._midiInput===t);r||(r=new Aj(t)),this._inputs.push(r),e.push(r.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let t=this._outputs.length-1;t>=0;t--){const r=this._outputs[t];Array.from(this.interface.outputs.values()).find(a=>a===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(t,1))}let e=[];return this.interface.outputs.forEach(t=>{if(!this._outputs.find(r=>r._midiOutput===t)){let r=this._disconnectedOutputs.find(s=>s._midiOutput===t);r||(r=new Zp(t)),this._outputs.push(r),e.push(r.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),_e.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),_e.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.12"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),ie.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),ie.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),ie.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),ie.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),ie.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const ve=new kj;ve.constructor=null;var hw=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(g){u(g)}}function d(p){try{h(r.throw(p))}catch(g){u(g)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class Er extends Mj.EventEmitter{constructor(e="all"){super(),this.deviceId=e,Er.enabled().then(()=>{ve.addListener("connected",t=>{t.port.type==="input"&&this._addListeners(t.port)}),ve.addListener("disconnected",t=>{this._removeListeners(t.port)}),ve.inputs.forEach(t=>this._addListeners(t))})}_addListeners(e){Er.connectedDevices.has(e.id)||(Er.connectedDevices.set(e.id,e),this.emit("connect",this._inputToDevice(e)),e.addListener("noteon",t=>{(this.deviceId==="all"||this.deviceId===e.id)&&this.emit("keyDown",{note:`${t.note.name}${t.note.octave}`,midi:t.note.number,velocity:t.note.attack,device:this._inputToDevice(e)})}),e.addListener("noteoff",t=>{(this.deviceId==="all"||this.deviceId===e.id)&&this.emit("keyUp",{note:`${t.note.name}${t.note.octave}`,midi:t.note.number,velocity:t.note.attack,device:this._inputToDevice(e)})}),e.addListener("controlchange",t=>{(this.deviceId==="all"||this.deviceId===e.id)&&t.controller.name==="holdpedal"&&this.emit(t.value?"pedalDown":"pedalUp",{device:this._inputToDevice(e)})}))}_inputToDevice(e){return{name:e.name,id:e.id,manufacturer:e.manufacturer}}_removeListeners(e){if(Er.connectedDevices.has(e.id)){const t=Er.connectedDevices.get(e.id);this.emit("disconnect",this._inputToDevice(t)),Er.connectedDevices.delete(e.id),t.removeListener("noteon"),t.removeListener("noteoff"),t.removeListener("controlchange")}}emit(e,t){return super.emit(e,t)}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}off(e,t){return super.off(e,t),this}static enabled(){return hw(this,void 0,void 0,function*(){Er._isEnabled||(yield ve.enable(),Er._isEnabled=!0)})}static getDevices(){return hw(this,void 0,void 0,function*(){return yield Er.enabled(),ve.inputs})}}Er.connectedDevices=new Map;Er._isEnabled=!1;class Ag{constructor(){Fr(this,"initialized");Fr(this,"piano");this.initialized=!1,this.piano=new hd,this.piano.toDestination()}async initialize(){this.initialized||(await U7(),await this.piano.load(),this.initialized=!0)}playNote(e,t="8n",r=Kp()){this.piano.keyDown({note:e,time:r}),this.piano.keyUp({note:e,time:r+(typeof t=="number"?t:Ol(t).toSeconds())})}playChord(e,t){let r=e.map((a,u,c)=>Ol("2n").toSeconds()+(t===void 0?0:Ol(t).toSeconds()*(e.length-u))),s=Kp();for(let a=0;a<e.length;a++)this.playNote(na.simplify(e[a]),r[a],s),s+=t===void 0?0:Ol(t).toSeconds()}}var mp,pw;function Oj(){return pw||(pw=1,mp=function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var r=e%10;return r===1?"st":r===2?"nd":r===3?"rd":"th"}),mp}var gp,mw;function Rj(){if(mw)return gp;mw=1;var n=Oj();function e(t){if(typeof t!="number")throw new TypeError("Expected Number, got "+typeof t+" "+t);return Number.isFinite(t)?t+n(t):t}return e.indicator=n,gp=e,gp}var Ij=Rj();const Dj=mi(Ij),$r=n=>{if(n=n.toLowerCase(),isNaN(+n.slice(-1))||(n=n.slice(0,-1)),n.length>1){if(n.slice(-1)==="#")return n[0].toUpperCase()+" sharp";if(n.slice(-1)==="b")return n[0].toUpperCase()+" flat"}return n[0].toUpperCase()},_s=n=>{if(n=n.toLowerCase(),isNaN(+n.slice(-1))||(n=n.slice(0,-1)),n.length>1){if(n.slice(-1)==="#")return n[0]+"-sharp";if(n.slice(-1)==="b")return n[0]+"-flat"}return n[0]},kg=n=>{let e=n.charAt(0).toLowerCase();return n.match(/[a-g]-sharp/i)?e+="#":n.match(/[a-g]#-flat/i)&&(e+="b"),e},Og=n=>/^[a-g](-(sharp|flat))?$/i.test(n),Lj=n=>{let e="";switch(n.slice(-1)){case"P":e+="Perfect ";break;case"m":e+="Minor ";break;case"M":e+="Major ";break}return e+=Dj(parseInt(n.slice(0,-1),10)),e};function Jd(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Page Not Found"}),P.jsx("p",{children:"The page you're looking for cannot be found."})]})}function jj(){const n=M.useMemo(()=>new Ag,[]);let{note:e,chord:t}=yd();e===void 0&&(e="c");let[r,s]=M.useState(e);return M.useEffect(()=>{(async()=>await n.initialize())()},[n]),t===void 0||!Lp.names().includes(t)||!Og(e)?P.jsx(Jd,{}):(e=kg(e),P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:sr(ir.getChord(unescape(t),r).name+" chord")}),P.jsx("h3",{children:sr(ir.getChord(unescape(t)).name+" chord")}),"Select the current chord:",P.jsx(pa,{title:"Selected chord: "+sr(ir.getChord(unescape(t)).name),children:Lp.names().sort().map(a=>P.jsx(lo.LinkContainer,{to:"/chords/"+escape(a)+"/"+_s(r),children:P.jsx(Mr.Item,{children:sr(a)})}))}),"Select the tonic note for this chord:",P.jsx(pa,{title:"Tonic note: "+$r(r),children:["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"].map(a=>P.jsx(lo.LinkContainer,{replace:!0,to:"/chords/"+escape(t)+"/"+_s(a),children:P.jsx(Mr.Item,{onClick:()=>s(a),children:$r(a)})}))}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{as:"h4",children:sr(ir.getChord(unescape(t),r).name+" chord")}),P.jsxs(Ge.Text,{children:["The following notes are included in this chord:"," ",ir.getChord(unescape(t),r).notes.map(a=>P.jsx(Hn,{to:"/notes/"+_s(na.simplify(a)),children:$r(na.simplify(a))}))]}),P.jsx(Ge.Link,{onClick:()=>{n.playChord(ir.getChord(unescape(t),r+"4").notes,"4n")},children:"Listen to the slowly arpeggiated chord"}),P.jsx(Ge.Link,{onClick:()=>{n.playChord(ir.getChord(unescape(t),r+"4").notes,"32n")},children:"Listen to the quickly arpeggiated chord"}),P.jsx(Ge.Link,{onClick:()=>{n.playChord(ir.getChord(unescape(t),r+"4").notes)},children:"Listen to the full chord"})]})})]}))}const wM=M.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:s,variant:a,action:u,as:c,...d},h)=>{n=it(n,"list-group-item");const[p,g]=mm({key:ua(r,d.href),active:e,...d}),y=Aa(w=>{if(t){w.preventDefault(),w.stopPropagation();return}p.onClick(w)});t&&d.tabIndex===void 0&&(d.tabIndex=-1,d["aria-disabled"]=!0);const _=c||(u?d.href?"a":"button":"div");return P.jsx(_,{ref:h,...d,...p,onClick:y,className:et(s,n,g.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,u&&`${n}-action`)})});wM.displayName="ListGroupItem";const SM=M.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:s,horizontal:a,numbered:u,as:c="div",...d}=Ed(n,{activeKey:"onSelect"}),h=it(r,"list-group");let p;return a&&(p=a===!0?"horizontal":`horizontal-${a}`),P.jsx(w0,{ref:e,...d,as:c,className:et(t,h,s&&`${h}-${s}`,p&&`${h}-${p}`,u&&`${h}-numbered`)})});SM.displayName="ListGroup";const Ma=Object.assign(SM,{Item:wM});function Fj(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Chords"}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{as:"h3",children:"Chords"}),P.jsx(Ge.Text,{children:"You will find the alphabetically sorted list of all common chords below. Follow the links to find more information about the chords, including audio examples."})]})}),P.jsx("h3",{children:"Chords List"}),P.jsx(Ma,{children:Lp.names().sort().map(n=>P.jsx(lo.LinkContainer,{to:"/chords/"+escape(n),children:P.jsx(Ma.Item,{action:!0,children:n})}))})]})}function Uj(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Home"}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{as:"h3",children:"Welcome!"}),P.jsx(Ge.Text,{children:"Musical Sight aims to provide useful information about music theory, notes, scales and alot more. Most of the stuff shown here is common knowledge to sighted people who are able to communicate knowledge via slides, video material and more, while blind people often have to stick with learning through their ears only. To help them understand things a bit better, Musical Sight will try to organize information in a way that is more useful for blind people, including note and scale sound previews. Keep in mind however that this is still a fan website. Neither do I guarantee the correctness of all the information that is shown here, nor can I be made responsible for any potential damage that is caused to you by using this website."})]})})]})}function $j(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Imprint"}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{children:"Imprint and related information"}),P.jsx(Ge.Text,{children:"Find all the relevant information here!"})]})})]})}function Bj(){let n=M.useMemo(()=>new Ag,[]),{note:e}=yd();if(M.useEffect(()=>{(async()=>await n.initialize())()},[n]),e===void 0||!Og(e))return P.jsx(Jd,{});e=kg(e);let t=()=>e[0].toUpperCase()+e.substr(1);return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:t()}),P.jsx("h3",{children:t()}),P.jsx("button",{onClick:()=>{n.playNote(e+"4")},children:"Listen now"})]})}function Vj(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Notes"}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{as:"h3",children:"Notes"}),P.jsx(Ge.Text,{children:"All melodies and chords consist of the same 12 notes distributed over multiple octaves, starting from octave 0 up to octave 7. Notes are usually written with their corresponding octave number appended to them, the note C in octave 4 being written as C4. C4 is also known as the middle C."}),P.jsx(Ge.Text,{children:"This page lists all 12 notes in ascending order, with all the sharp/flat notes being known as the black keys on a keyboard and every other note being a white key. The highest note (B) is followed by a C again, but within the next octave and vice versa. You can click on any note listed here to open its corresponding page, where you will find listening example and more information on the note, its keys and so on."})]})}),P.jsx("h3",{children:"Notes List"}),P.jsx(Ma,{children:["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"].map(n=>P.jsx(lo.LinkContainer,{to:"/notes/"+_s(n),children:P.jsx(Ma.Item,{action:!0,children:$r(n)})}))})]})}const zj=M.forwardRef(({title:n},e)=>{let[t,r]=M.useState(!1);return P.jsx("h3",{tabIndex:-1,ref:s=>{typeof e=="function"?e(s):e&&(e.current=s),s&&!t&&(s.focus(),r(!0))},children:n})});function Wj(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Privacy Policy"}),P.jsx(zj,{title:"Privacy Policy for Musical Sight"}),P.jsxs("p",{children:["At Musical Sight, accessible from"," ",P.jsx("a",{href:"https://timtam.github.io/musicalsight",children:"https://timtam.github.io/musicalsight"}),", one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by Musical Sight and how we use it."]}),P.jsx("p",{children:"If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us."}),P.jsxs("p",{children:["This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in Musical Sight. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the"," ",P.jsx("a",{href:"https://www.privacypolicygenerator.info/",children:"Free Privacy Policy Generator"}),"."]}),P.jsx("h4",{children:"Consent"}),P.jsx("p",{children:"By using our website, you hereby consent to our Privacy Policy and agree to its terms."}),P.jsx("h4",{children:"Information we collect"}),P.jsx("p",{children:"The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information."}),P.jsx("p",{children:"If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide."}),P.jsx("p",{children:"When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number."}),P.jsx("h4",{children:"How we use your information"}),P.jsx("p",{children:"We use the information we collect in various ways, including to:"}),P.jsxs("ul",{children:[P.jsx("li",{children:"Provide, operate, and maintain our website"}),P.jsx("li",{children:"Improve, personalize, and expand our website"}),P.jsx("li",{children:"Understand and analyze how you use our website"}),P.jsx("li",{children:"Develop new products, services, features, and functionality"}),P.jsx("li",{children:"Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes"}),P.jsx("li",{children:"Send you emails"}),P.jsx("li",{children:"Find and prevent fraud"})]}),P.jsx("h4",{children:"Log Files"}),P.jsx("p",{children:"Musical Sight follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information."}),P.jsx("h4",{children:"Advertising Partners Privacy Policies"}),P.jsx("p",{children:"You may consult this list to find the Privacy Policy for each of the advertising partners of Musical Sight."}),P.jsx("p",{children:"Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on Musical Sight, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit."}),P.jsx("p",{children:"Note that Musical Sight has no access to or control over these cookies that are used by third-party advertisers."}),P.jsx("h4",{children:"Third Party Privacy Policies"}),P.jsx("p",{children:"Musical Sight's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options."}),P.jsx("p",{children:"You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites."}),P.jsx("h4",{children:"CCPA Privacy Rights (Do Not Sell My Personal Information)"}),P.jsx("p",{children:"Under the CCPA, among other rights, California consumers have the right to:"}),P.jsxs("ul",{children:[P.jsx("li",{children:"Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers."}),P.jsx("li",{children:"Request that a business delete any personal data about the consumer that a business has collected."}),P.jsx("li",{children:"Request that a business that sells a consumer's personal data, not sell the consumer's personal data."}),P.jsx("li",{children:"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."})]}),P.jsx("h4",{children:"GDPR Data Protection Rights"}),P.jsx("p",{children:"We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:"}),P.jsxs("ul",{children:[P.jsx("li",{children:"The right to access  You have the right to request copies of your personal data. We may charge you a small fee for this service."}),P.jsx("li",{children:"The right to rectification  You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete."}),P.jsx("li",{children:"The right to erasure  You have the right to request that we erase your personal data, under certain conditions."}),P.jsx("li",{children:"The right to restrict processing  You have the right to request that we restrict the processing of your personal data, under certain conditions."}),P.jsx("li",{children:"The right to object to processing  You have the right to object to our processing of your personal data, under certain conditions."}),P.jsx("li",{children:"The right to data portability  You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions."}),P.jsx("li",{children:"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."})]}),P.jsx("h4",{children:"Children's Information"}),P.jsx("p",{children:"Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity."}),P.jsx("p",{children:"Musical Sight does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records."})]})}var Hj=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],qj=Hj;({...bs});var Rg=[],Wc={};function Gj(){return Rg.slice()}function Yj(n,e,t){const r=Xj(n),s={...fi(n),name:t||"",quality:r,intervals:n,aliases:e};Rg.push(s),s.name&&(Wc[s.name]=s),Wc[s.setNum]=s,Wc[s.chroma]=s,s.aliases.forEach(a=>Kj(s,a))}function Kj(n,e){Wc[e]=n}function Xj(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}qj.forEach(([n,e,t])=>Yj(n.split(" "),t.split(" "),e));Rg.sort((n,e)=>n.setNum-e.setNum);var Qj={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function EM(n){if(typeof n!="string")return["",""];const e=n.indexOf(" "),t=Bt(n.substring(0,e));if(t.empty){const s=Bt(n);return s.empty?["",n]:[s.name,""]}const r=n.substring(t.name.length+1).toLowerCase();return[t.name,r.length?r:""]}var Zj=US;function pi(n){const e=Array.isArray(n)?n:EM(n),t=Bt(e[0]).name,r=zm(e[1]);if(r.empty)return Qj;const s=r.name,a=t?r.intervals.map(c=>Wl(t,c)):[],u=t?t+" "+s:s;return{...r,name:u,type:s,tonic:t,notes:a}}var Jj=pi;function e5(n,e={}){const t=yO(n),r=Bt(e.tonic??n[0]??""),s=r.chroma;if(s===void 0)return[];const a=t.split("");a[s]="1";const u=Ad(s,a).join(""),c=Oa().find(h=>h.chroma===u),d=[];return c&&d.push(r.name+" "+c.name),e.match==="exact"||MM(u).forEach(h=>{d.push(r.name+" "+h)}),d}function t5(n){const e=pi(n),t=Fm(e.chroma);return Gj().filter(r=>t(r.chroma)).map(r=>r.aliases[0])}function MM(n){const e=jm(n)?n:pi(n).chroma,t=Um(e);return Oa().filter(r=>t(r.chroma)).map(r=>r.name)}function n5(n){const e=Fm(pi(n).chroma);return Oa().filter(t=>e(t.chroma)).map(t=>t.name)}function bM(n){const e=n.map(s=>Bt(s).pc).filter(s=>s),t=e[0],r=KS(e);return Ad(r.indexOf(t),r)}function r5(n){const e=pi(n);if(e.empty)return[];const t=e.tonic?e.notes:e.intervals;return CS(e.chroma).map((r,s)=>{const a=pi(r).name;return a?[t[s],a]:["",""]}).filter(r=>r[0])}function i5(n){const e=Array.isArray(n)?bM(n):pi(n).notes,t=e.map(r=>Bt(r).chroma);return r=>{const s=Bt(typeof r=="number"?WS(r):r),a=s.height;if(a===void 0)return;const u=a%12,c=t.indexOf(u);if(c!==-1)return XS(s.name,e[c])}}function s5(n){const e=i5(n);return(t,r)=>{const s=Bt(t).height,a=Bt(r).height;return s===void 0||a===void 0?[]:bk(s,a).map(e).filter(u=>u)}}function o5(n){const{intervals:e,tonic:t}=pi(n),r=MS(e,t);return s=>s?r(s>0?s-1:s):""}function a5(n){const{intervals:e,tonic:t}=pi(n);return MS(e,t)}var Nl={degrees:o5,detect:e5,extended:MM,get:pi,modeNames:r5,names:Zj,rangeOf:s5,reduced:n5,scaleChords:t5,scaleNotes:bM,steps:a5,tokenize:EM,scale:Jj};const l5=M.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:r,borderless:s,hover:a,size:u,variant:c,responsive:d,...h},p)=>{const g=it(n,"table"),y=et(e,g,c&&`${g}-${c}`,u&&`${g}-${u}`,t&&`${g}-${typeof t=="string"?`striped-${t}`:"striped"}`,r&&`${g}-bordered`,s&&`${g}-borderless`,a&&`${g}-hover`),_=P.jsx("table",{...h,className:y,ref:p});if(d){let w=`${g}-responsive`;return typeof d=="string"&&(w=`${w}-${d}`),P.jsx("div",{className:w,children:_})}return _});function u5(){let n=M.useMemo(()=>new Ag,[]),{note:e,scale:t}=yd();e===void 0&&(e="c"),M.useEffect(()=>{(async()=>await n.initialize())()},[n]);let r=!0;t===void 0||!jp.names().includes(t)||!Og(e)?r=!1:e=kg(e);let[s,a]=M.useState(e);if(!r)return P.jsx(Jd,{});let u=()=>sr(unescape(t)+" scale"),c=async()=>{let p=[...Nl.get(s+"4 "+unescape(t)).notes,s+"5",...Nl.get(s+"4 "+unescape(t)).notes.reverse()],g=p.map((_,w,E)=>w===E.length-1?"2n":"4n"),y=Kp();for(let _=0;_<p.length;_++){let w=na.simplify(p[_]),E=g[_];n.playNote(w,E,y),y+=Ol(E).toSeconds()}},d=()=>P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsxs(Ge.Title,{as:"h4",children:["Key of"," ",$r(s)+" "+sr(unescape(t))]}),P.jsxs(Ge.Text,{children:["The following notes are included in this scale by applying the above intervals to the selected root note:"," ",Nl.get(s+"4 "+unescape(t)).notes.map(p=>P.jsx(Hn,{to:"/notes/"+_s(na.simplify(p.slice(0,-1))),children:$r(na.simplify(p.slice(0,-1)))}))]}),P.jsx(Ge.Link,{onClick:c,children:"Listen to the notes"})]})}),h=()=>P.jsxs(P.Fragment,{children:[P.jsxs(Ge,{className:"text-center",children:[P.jsx(Ge.Body,{children:P.jsxs(Ge.Title,{as:"h4",children:["Chords rooted at ",$r(s)," within the ",sr(unescape(t))," scale"," "]})}),P.jsxs(Ge.Text,{children:["The following chords can be built by using"," ",$r(s)," as your root note within the ",sr(unescape(t))," scale. You can follow the links to get more information on the specific chords or use the preview buttons to preview them from scratch."]})]}),P.jsxs(l5,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Name"}),P.jsx("th",{children:"Preview slowly arpeggiated"}),P.jsx("th",{children:"Preview quickly arpeggiated"}),P.jsx("th",{children:"Preview full chord"})]})}),P.jsx("tbody",{children:Nl.scaleChords(s+" "+unescape(t)).map(p=>P.jsxs("tr",{children:[P.jsx("td",{children:P.jsx(Hn,{to:"/chords/"+escape(ir.getChord(p).name)+"/"+_s(s),children:sr(ir.getChord(p,s).name)})}),P.jsx("td",{children:P.jsx(Ll,{onClick:()=>{n.playChord(ir.getChord(p,s+"4").notes,"4n")},children:"Preview"})}),P.jsx("td",{children:P.jsx(Ll,{onClick:()=>{n.playChord(ir.getChord(p,s+"4").notes,"32n")},children:"Preview"})}),P.jsx("td",{children:P.jsx(Ll,{onClick:()=>{n.playChord(ir.getChord(p,s+"4").notes)},children:"Preview"})})]}))})]})]});return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:$r(s)+" "+u()}),P.jsx("h3",{children:u()}),"Select the current scale:",P.jsx(pa,{title:"Selected scale: "+sr(unescape(t)),children:jp.names().sort().map(p=>P.jsx(lo.LinkContainer,{to:"/scales/"+escape(p)+"/"+_s(s),children:P.jsx(Mr.Item,{children:sr(p)})}))}),P.jsx("h3",{children:"General information about the "+sr(unescape(t))+" scale"}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{children:"Intervals"}),P.jsx(Ge.Text,{children:"A scale consists of a root note and a certain amount of intervals applied to the root note to find the next note of the scale."}),P.jsxs(Ge.Text,{children:["The following intervals determine this scale:"," ",P.jsx("ul",{children:Nl.get(unescape(t)).intervals.map(p=>P.jsx("li",{children:Lj(p)}))})]})]})}),"Select the root note to apply the scale to:",P.jsx(pa,{title:"Selected note: "+$r(s),children:["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"].map(p=>P.jsx(lo.LinkContainer,{replace:!0,to:"/scales/"+t+"/"+_s(p),children:P.jsx(Mr.Item,{onClick:()=>a(p),children:$r(p)})}))}),d(),h()]})}function c5(){return P.jsxs(P.Fragment,{children:[P.jsx(gi,{title:"Scales"}),P.jsx(Ge,{className:"text-center",children:P.jsxs(Ge.Body,{children:[P.jsx(Ge.Title,{as:"h3",children:"Scales"}),P.jsxs(Ge.Text,{children:["Musical theory describes scales to be a set of intervals that can be applied to any given note to find other notes that can be used together to create a musically appealing melody. There are alot different scales, but the most common ones in western music are probably the"," ",P.jsx(Hn,{to:"/scales/major",children:"major"})," and the"," ",P.jsx(Hn,{to:"/scales/aeolian",children:"natural minor (also known as aeolian)"})," ","scales."]}),P.jsx(Ge.Text,{children:"You will find the alphabetically sorted list of all common scales below. Follow the links to find more information about the scales, find the keys associated with them and audio examples as well."})]})}),P.jsx("h3",{children:"Scales List"}),P.jsx(Ma,{children:jp.names().sort().map(n=>P.jsx(lo.LinkContainer,{to:"/scales/"+escape(n),children:P.jsx(Ma.Item,{action:!0,children:n})}))})]})}const d5=s0([{element:P.jsx(Sk,{}),errorElement:P.jsx(Jd,{}),children:[{lazy:()=>wc(()=>import("./Catalog-BPtBKMAz.js"),__vite__mapDeps([0,1,2,3,4,5])),path:"/catalog"},{lazy:()=>wc(()=>import("./CatalogProduct-CrmYOSEW.js"),__vite__mapDeps([6,2,1,7])),path:"/catalog/product/:productId"},{lazy:()=>wc(()=>import("./CatalogSubmit-CNdeB2kw.js"),__vite__mapDeps([8,1,5,4])),path:"/catalog/submit"},{lazy:()=>wc(()=>import("./CatalogVendor-BXtiSR9Y.js"),__vite__mapDeps([9,1,2,3,4,7])),path:"/catalog/vendor/:vendorId"},{element:P.jsx(Fj,{}),path:"/chords"},{element:P.jsx(jj,{}),path:"/chords/:chord/:note?"},{element:P.jsx(Uj,{}),path:"/"},{element:P.jsx($j,{}),path:"/imprint"},{element:P.jsx(Vj,{}),path:"/notes"},{element:P.jsx(Bj,{}),path:"/notes/:note"},{element:P.jsx(Wj,{}),path:"/privacy-policy"},{element:P.jsx(c5,{}),path:"/scales"},{element:P.jsx(u5,{}),path:"/scales/:scale/:note?"}]}]);_T.createRoot(document.getElementById("root")).render(P.jsx(At.StrictMode,{children:P.jsx(bw,{children:P.jsx(a0,{router:d5})})}));export{vm as A,Ll as B,nN as C,xN as D,D0 as E,zj as F,DN as G,gi as H,P0 as I,Td as J,XP as K,Hn as L,F0 as M,Jd as N,Li as O,Ut as P,wc as _,cT as a,et as b,i1 as c,GC as d,yd as e,vd as f,mi as g,m5 as h,g5 as i,P as j,Ed as k,Ge as l,Ma as m,pd as n,x0 as o,pp as p,wT as q,M as r,xd as s,AN as t,it as u,bm as v,wm as w,Aa as x,lP as y,qP as z};
