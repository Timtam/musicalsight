const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Catalog-_nYcuCUA.js","assets/CatalogService-DzL33W7r.js","assets/ProductCard-wwjHoJvO.js","assets/ProductFilter-C2954ebS.js","assets/CategoryChecker-DdoTpk26.js","assets/CatalogProduct-CL7qkhTA.js","assets/Loading-DaOJVQnL.js","assets/CatalogSubmit-CAnnScTG.js","assets/CatalogVendor-DMNpYl-b.js"])))=>i.map(i=>d[i]);
var xT=Object.defineProperty;var CT=(n,e,t)=>e in n?xT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Fr=(n,e,t)=>CT(n,typeof e!="symbol"?e+"":e,t);function Nw(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const PT="modulepreload",NT=function(n){return"/musicalsight/"+n},h1={},Mc=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(d=>{if(d=NT(d),d in h1)return;h1[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":PT,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((v,_)=>{m.addEventListener("load",v),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function AT(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Uh={exports:{}},Tl={},Bh={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function kT(){if(m1)return rt;m1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(D,G,ee){this.props=D,this.context=G,this.refs=E,this.updater=ee||_}S.prototype.isReactComponent={},S.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=S.prototype;function O(D,G,ee){this.props=D,this.context=G,this.refs=E,this.updater=ee||_}var R=O.prototype=new P;R.constructor=O,w(R,S.prototype),R.isPureReactComponent=!0;var N=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(D,G,ee){var ge,ue={},me=null,Ie=null;if(G!=null)for(ge in G.ref!==void 0&&(Ie=G.ref),G.key!==void 0&&(me=""+G.key),G)x.call(G,ge)&&!T.hasOwnProperty(ge)&&(ue[ge]=G[ge]);var ce=arguments.length-2;if(ce===1)ue.children=ee;else if(1<ce){for(var We=Array(ce),ct=0;ct<ce;ct++)We[ct]=arguments[ct+2];ue.children=We}if(D&&D.defaultProps)for(ge in ce=D.defaultProps,ce)ue[ge]===void 0&&(ue[ge]=ce[ge]);return{$$typeof:n,type:D,key:me,ref:Ie,props:ue,_owner:k.current}}function U(D,G){return{$$typeof:n,type:D.type,key:G,ref:D.ref,props:D.props,_owner:D._owner}}function j(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function V(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return G[ee]})}var B=/\/+/g;function Z(D,G){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):G.toString(36)}function ne(D,G,ee,ge,ue){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var Ie=!1;if(D===null)Ie=!0;else switch(me){case"string":case"number":Ie=!0;break;case"object":switch(D.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=D,ue=ue(Ie),D=ge===""?"."+Z(Ie,0):ge,N(ue)?(ee="",D!=null&&(ee=D.replace(B,"$&/")+"/"),ne(ue,G,ee,"",function(ct){return ct})):ue!=null&&(j(ue)&&(ue=U(ue,ee+(!ue.key||Ie&&Ie.key===ue.key?"":(""+ue.key).replace(B,"$&/")+"/")+D)),G.push(ue)),1;if(Ie=0,ge=ge===""?".":ge+":",N(D))for(var ce=0;ce<D.length;ce++){me=D[ce];var We=ge+Z(me,ce);Ie+=ne(me,G,ee,We,ue)}else if(We=v(D),typeof We=="function")for(D=We.call(D),ce=0;!(me=D.next()).done;)me=me.value,We=ge+Z(me,ce++),Ie+=ne(me,G,ee,We,ue);else if(me==="object")throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ie}function he(D,G,ee){if(D==null)return D;var ge=[],ue=0;return ne(D,ge,"","",function(me){return G.call(ee,me,ue++)}),ge}function se(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var oe={current:null},q={transition:null},te={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:q,ReactCurrentOwner:k};function Q(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:he,forEach:function(D,G,ee){he(D,function(){G.apply(this,arguments)},ee)},count:function(D){var G=0;return he(D,function(){G++}),G},toArray:function(D){return he(D,function(G){return G})||[]},only:function(D){if(!j(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},rt.Component=S,rt.Fragment=t,rt.Profiler=s,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=d,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,rt.act=Q,rt.cloneElement=function(D,G,ee){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ge=w({},D.props),ue=D.key,me=D.ref,Ie=D._owner;if(G!=null){if(G.ref!==void 0&&(me=G.ref,Ie=k.current),G.key!==void 0&&(ue=""+G.key),D.type&&D.type.defaultProps)var ce=D.type.defaultProps;for(We in G)x.call(G,We)&&!T.hasOwnProperty(We)&&(ge[We]=G[We]===void 0&&ce!==void 0?ce[We]:G[We])}var We=arguments.length-2;if(We===1)ge.children=ee;else if(1<We){ce=Array(We);for(var ct=0;ct<We;ct++)ce[ct]=arguments[ct+2];ge.children=ce}return{$$typeof:n,type:D.type,key:ue,ref:me,props:ge,_owner:Ie}},rt.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},rt.createElement=A,rt.createFactory=function(D){var G=A.bind(null,D);return G.type=D,G},rt.createRef=function(){return{current:null}},rt.forwardRef=function(D){return{$$typeof:c,render:D}},rt.isValidElement=j,rt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:se}},rt.memo=function(D,G){return{$$typeof:h,type:D,compare:G===void 0?null:G}},rt.startTransition=function(D){var G=q.transition;q.transition={};try{D()}finally{q.transition=G}},rt.unstable_act=Q,rt.useCallback=function(D,G){return oe.current.useCallback(D,G)},rt.useContext=function(D){return oe.current.useContext(D)},rt.useDebugValue=function(){},rt.useDeferredValue=function(D){return oe.current.useDeferredValue(D)},rt.useEffect=function(D,G){return oe.current.useEffect(D,G)},rt.useId=function(){return oe.current.useId()},rt.useImperativeHandle=function(D,G,ee){return oe.current.useImperativeHandle(D,G,ee)},rt.useInsertionEffect=function(D,G){return oe.current.useInsertionEffect(D,G)},rt.useLayoutEffect=function(D,G){return oe.current.useLayoutEffect(D,G)},rt.useMemo=function(D,G){return oe.current.useMemo(D,G)},rt.useReducer=function(D,G,ee){return oe.current.useReducer(D,G,ee)},rt.useRef=function(D){return oe.current.useRef(D)},rt.useState=function(D){return oe.current.useState(D)},rt.useSyncExternalStore=function(D,G,ee){return oe.current.useSyncExternalStore(D,G,ee)},rt.useTransition=function(){return oe.current.useTransition()},rt.version="18.3.1",rt}var g1;function vd(){return g1||(g1=1,Bh.exports=kT()),Bh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function OT(){if(y1)return Tl;y1=1;var n=vd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,h){var p,m={},v=null,_=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:_,props:m,_owner:s.current}}return Tl.Fragment=t,Tl.jsx=u,Tl.jsxs=u,Tl}var v1;function RT(){return v1||(v1=1,Uh.exports=OT()),Uh.exports}var C=RT(),M=vd();const Ot=gi(M),am=Nw({__proto__:null,default:Ot},[M]);var bc={},Vh={exports:{}},Hn={},zh={exports:{}},Wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function IT(){return _1||(_1=1,function(n){function e(q,te){var Q=q.length;q.push(te);e:for(;0<Q;){var D=Q-1>>>1,G=q[D];if(0<s(G,te))q[D]=te,q[Q]=G,Q=D;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var te=q[0],Q=q.pop();if(Q!==te){q[0]=Q;e:for(var D=0,G=q.length,ee=G>>>1;D<ee;){var ge=2*(D+1)-1,ue=q[ge],me=ge+1,Ie=q[me];if(0>s(ue,Q))me<G&&0>s(Ie,ue)?(q[D]=Ie,q[me]=Q,D=me):(q[D]=ue,q[ge]=Q,D=ge);else if(me<G&&0>s(Ie,Q))q[D]=Ie,q[me]=Q,D=me;else break e}}return te}function s(q,te){var Q=q.sortIndex-te.sortIndex;return Q!==0?Q:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],p=1,m=null,v=3,_=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var te=t(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=q)r(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=t(h)}}function N(q){if(E=!1,R(q),!w)if(t(d)!==null)w=!0,se(x);else{var te=t(h);te!==null&&oe(N,te.startTime-q)}}function x(q,te){w=!1,E&&(E=!1,P(A),A=-1),_=!0;var Q=v;try{for(R(te),m=t(d);m!==null&&(!(m.expirationTime>te)||q&&!V());){var D=m.callback;if(typeof D=="function"){m.callback=null,v=m.priorityLevel;var G=D(m.expirationTime<=te);te=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(d)&&r(d),R(te)}else r(d);m=t(d)}if(m!==null)var ee=!0;else{var ge=t(h);ge!==null&&oe(N,ge.startTime-te),ee=!1}return ee}finally{m=null,v=Q,_=!1}}var k=!1,T=null,A=-1,U=5,j=-1;function V(){return!(n.unstable_now()-j<U)}function B(){if(T!==null){var q=n.unstable_now();j=q;var te=!0;try{te=T(!0,q)}finally{te?Z():(k=!1,T=null)}}else k=!1}var Z;if(typeof O=="function")Z=function(){O(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,he=ne.port2;ne.port1.onmessage=B,Z=function(){he.postMessage(null)}}else Z=function(){S(B,0)};function se(q){T=q,k||(k=!0,Z())}function oe(q,te){A=S(function(){q(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){w||_||(w=!0,se(x))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var Q=v;v=te;try{return q()}finally{v=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=v;v=q;try{return te()}finally{v=Q}},n.unstable_scheduleCallback=function(q,te,Q){var D=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?D+Q:D):Q=D,q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Q+G,q={id:p++,callback:te,priorityLevel:q,startTime:Q,expirationTime:G,sortIndex:-1},Q>D?(q.sortIndex=Q,e(h,q),t(d)===null&&q===t(h)&&(E?(P(A),A=-1):E=!0,oe(N,Q-D))):(q.sortIndex=G,e(d,q),w||_||(w=!0,se(x))),q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(q){var te=v;return function(){var Q=v;v=te;try{return q.apply(this,arguments)}finally{v=Q}}}}(Wh)),Wh}var w1;function DT(){return w1||(w1=1,zh.exports=IT()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function jT(){if(S1)return Hn;S1=1;var n=vd(),e=DT();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return d.call(m,i)?!0:d.call(p,i)?!1:h.test(i)?m[i]=!0:(p[i]=!0,!1)}function _(i,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,o,l,f){if(o===null||typeof o>"u"||_(i,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function E(i,o,l,f,g,y,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new E(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(P,O);S[o]=new E(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(P,O);S[o]=new E(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(P,O);S[o]=new E(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,o,l,f){var g=S.hasOwnProperty(o)?S[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,l,g,f)&&(l=null),f||g===null?v(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):g.mustUseProperty?i[g.propertyName]=l===null?g.type===3?!1:"":l:(o=g.attributeName,f=g.attributeNamespace,l===null?i.removeAttribute(o):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?i.setAttributeNS(f,o,l):i.setAttribute(o,l))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),q=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,D;function G(i){if(D===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);D=o&&o[1]||""}return`
`+D+i}var ee=!1;function ge(i,o){if(!i||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){f=X}i.call(o.prototype)}else{try{throw Error()}catch(X){f=X}i()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),y=f.stack.split(`
`),b=g.length-1,I=y.length-1;1<=b&&0<=I&&g[b]!==y[I];)I--;for(;1<=b&&0<=I;b--,I--)if(g[b]!==y[I]){if(b!==1||I!==1)do if(b--,I--,0>I||g[b]!==y[I]){var F=`
`+g[b].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=b&&0<=I);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function ue(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case k:return"Portal";case U:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case j:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case he:return o=i.displayName||null,o!==null?o:me(i.type)||"Memo";case se:o=i._payload,i=i._init;try{return me(i(o))}catch{}}return null}function Ie(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ce(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ct(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(b){f=""+b,y.call(this,b)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ft(i){i._valueTracker||(i._valueTracker=ct(i))}function it(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=We(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function bt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function nn(i,o){var l=o.checked;return Q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function de(i,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=ce(o.value!=null?o.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Te(i,o){o=o.checked,o!=null&&R(i,"checked",o,!1)}function st(i,o){Te(i,o);var l=ce(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ge(i,o.type,l):o.hasOwnProperty("defaultValue")&&Ge(i,o.type,ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function lt(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ge(i,o,l){(o!=="number"||bt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ye=Array.isArray;function yt(i,o,l,f){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+ce(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function zt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vn(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ye(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:ce(l)}}function Wt(i,o){var l=ce(o.value),f=ce(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function _n(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ke(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ke(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Zt,Fn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,l,f,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Zt=Zt||document.createElement("div"),Zt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ni(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(i){W.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),$n[o]=$n[i]})});function K(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||$n.hasOwnProperty(i)&&$n[i]?(""+o).trim():o+"px"}function re(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=K(l,o[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,g):i[l]=g}}var we=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fe(i,o){if(o){if(we[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Tt(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=null;function qe(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Se=null,Ee=null,be=null;function Ne(i){if(i=cl(i)){if(typeof Se!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Fu(o),Se(i.stateNode,i.type,o))}}function Ze(i){Ee?be?be.push(i):be=[i]:Ee=i}function vt(){if(Ee){var i=Ee,o=be;if(be=Ee=null,Ne(i),o)for(i=0;i<o.length;i++)Ne(o[i])}}function xt(i,o){return i(o)}function ln(){}var Ar=!1;function So(i,o,l){if(Ar)return i(o,l);Ar=!0;try{return xt(i,o,l)}finally{Ar=!1,(Ee!==null||be!==null)&&(ln(),vt())}}function wi(i,o){var l=i.stateNode;if(l===null)return null;var f=Fu(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var L=!1;if(c)try{var z={};Object.defineProperty(z,"passive",{get:function(){L=!0}}),window.addEventListener("test",z,z),window.removeEventListener("test",z,z)}catch{L=!1}function J(i,o,l,f,g,y,b,I,F){var X=Array.prototype.slice.call(arguments,3);try{o.apply(l,X)}catch(fe){this.onError(fe)}}var ae=!1,Me=null,je=!1,Ve=null,Ae={onError:function(i){ae=!0,Me=i}};function ke(i,o,l,f,g,y,b,I,F){ae=!1,Me=null,J.apply(Ae,arguments)}function Ce(i,o,l,f,g,y,b,I,F){if(ke.apply(this,arguments),ae){if(ae){var X=Me;ae=!1,Me=null}else throw Error(t(198));je||(je=!0,Ve=X)}}function Re(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function tt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ot(i){if(Re(i)!==i)throw Error(t(188))}function un(i){var o=i.alternate;if(!o){if(o=Re(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,f=o;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return ot(g),i;if(y===f)return ot(g),o;y=y.sibling}throw Error(t(188))}if(l.return!==f.return)l=g,f=y;else{for(var b=!1,I=g.child;I;){if(I===l){b=!0,l=g,f=y;break}if(I===f){b=!0,f=g,l=y;break}I=I.sibling}if(!b){for(I=y.child;I;){if(I===l){b=!0,l=y,f=g;break}if(I===f){b=!0,f=y,l=g;break}I=I.sibling}if(!b)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function _t(i){return i=un(i),i!==null?dt(i):null}function dt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=dt(i);if(o!==null)return o;i=i.sibling}return null}var It=e.unstable_scheduleCallback,Si=e.unstable_cancelCallback,js=e.unstable_shouldYield,kr=e.unstable_requestPaint,pt=e.unstable_now,Ha=e.unstable_getCurrentPriorityLevel,Ei=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,Mi=e.unstable_NormalPriority,Eo=e.unstable_LowPriority,ut=e.unstable_IdlePriority,Ct=null,wn=null;function Ls(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Ct,i,void 0,(i.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:of,Gi=Math.log,_u=Math.LN2;function of(i){return i>>>=0,i===0?32:31-(Gi(i)/_u|0)|0}var wu=64,Su=4194304;function qa(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Eu(i,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,g=i.suspendedLanes,y=i.pingedLanes,b=l&268435455;if(b!==0){var I=b&~g;I!==0?f=qa(I):(y&=b,y!==0&&(f=qa(y)))}else b=l&~g,b!==0?f=qa(b):y!==0&&(f=qa(y));if(f===0)return 0;if(o!==0&&o!==f&&!(o&g)&&(g=f&-f,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if(f&4&&(f|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)l=31-mt(o),g=1<<l,f|=i[l],o&=~g;return f}function HM(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qM(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes;0<y;){var b=31-mt(y),I=1<<b,F=g[b];F===-1?(!(I&l)||I&f)&&(g[b]=HM(I,o)):F<=o&&(i.expiredLanes|=I),y&=~I}}function af(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Wg(){var i=wu;return wu<<=1,!(wu&4194240)&&(wu=64),i}function lf(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Ga(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-mt(o),i[o]=l}function GM(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var g=31-mt(l),y=1<<g;o[g]=0,f[g]=-1,i[g]=-1,l&=~y}}function uf(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-mt(l),g=1<<f;g&o|i[f]&o&&(i[f]|=o),l&=~g}}var wt=0;function Hg(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var qg,cf,Gg,Yg,Kg,df=!1,Mu=[],Yi=null,Ki=null,Xi=null,Ya=new Map,Ka=new Map,Qi=[],YM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(i,o){switch(i){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ya.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(o.pointerId)}}function Xa(i,o,l,f,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},o!==null&&(o=cl(o),o!==null&&cf(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function KM(i,o,l,f,g){switch(o){case"focusin":return Yi=Xa(Yi,i,o,l,f,g),!0;case"dragenter":return Ki=Xa(Ki,i,o,l,f,g),!0;case"mouseover":return Xi=Xa(Xi,i,o,l,f,g),!0;case"pointerover":var y=g.pointerId;return Ya.set(y,Xa(Ya.get(y)||null,i,o,l,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Ka.set(y,Xa(Ka.get(y)||null,i,o,l,f,g)),!0}return!1}function Qg(i){var o=Fs(i.target);if(o!==null){var l=Re(o);if(l!==null){if(o=l.tag,o===13){if(o=tt(l),o!==null){i.blockedOn=o,Kg(i.priority,function(){Gg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bu(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=hf(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Pt=f,l.target.dispatchEvent(f),Pt=null}else return o=cl(l),o!==null&&cf(o),i.blockedOn=l,!1;o.shift()}return!0}function Zg(i,o,l){bu(i)&&l.delete(o)}function XM(){df=!1,Yi!==null&&bu(Yi)&&(Yi=null),Ki!==null&&bu(Ki)&&(Ki=null),Xi!==null&&bu(Xi)&&(Xi=null),Ya.forEach(Zg),Ka.forEach(Zg)}function Qa(i,o){i.blockedOn===o&&(i.blockedOn=null,df||(df=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,XM)))}function Za(i){function o(g){return Qa(g,i)}if(0<Mu.length){Qa(Mu[0],i);for(var l=1;l<Mu.length;l++){var f=Mu[l];f.blockedOn===i&&(f.blockedOn=null)}}for(Yi!==null&&Qa(Yi,i),Ki!==null&&Qa(Ki,i),Xi!==null&&Qa(Xi,i),Ya.forEach(o),Ka.forEach(o),l=0;l<Qi.length;l++)f=Qi[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<Qi.length&&(l=Qi[0],l.blockedOn===null);)Qg(l),l.blockedOn===null&&Qi.shift()}var Mo=N.ReactCurrentBatchConfig,Tu=!0;function QM(i,o,l,f){var g=wt,y=Mo.transition;Mo.transition=null;try{wt=1,ff(i,o,l,f)}finally{wt=g,Mo.transition=y}}function ZM(i,o,l,f){var g=wt,y=Mo.transition;Mo.transition=null;try{wt=4,ff(i,o,l,f)}finally{wt=g,Mo.transition=y}}function ff(i,o,l,f){if(Tu){var g=hf(i,o,l,f);if(g===null)Af(i,o,f,xu,l),Xg(i,f);else if(KM(g,i,o,l,f))f.stopPropagation();else if(Xg(i,f),o&4&&-1<YM.indexOf(i)){for(;g!==null;){var y=cl(g);if(y!==null&&qg(y),y=hf(i,o,l,f),y===null&&Af(i,o,f,xu,l),y===g)break;g=y}g!==null&&f.stopPropagation()}else Af(i,o,f,null,l)}}var xu=null;function hf(i,o,l,f){if(xu=null,i=qe(f),i=Fs(i),i!==null)if(o=Re(i),o===null)i=null;else if(l=o.tag,l===13){if(i=tt(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return xu=i,null}function Jg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ha()){case Ei:return 1;case ri:return 4;case Mi:case Eo:return 16;case ut:return 536870912;default:return 16}default:return 16}}var Zi=null,pf=null,Cu=null;function ey(){if(Cu)return Cu;var i,o=pf,l=o.length,f,g="value"in Zi?Zi.value:Zi.textContent,y=g.length;for(i=0;i<l&&o[i]===g[i];i++);var b=l-i;for(f=1;f<=b&&o[l-f]===g[y-f];f++);return Cu=g.slice(i,1<f?1-f:void 0)}function Pu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Nu(){return!0}function ty(){return!1}function tr(i){function o(l,f,g,y,b){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Nu:ty,this.isPropagationStopped=ty,this}return Q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),o}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mf=tr(bo),Ja=Q({},bo,{view:0,detail:0}),JM=tr(Ja),gf,yf,el,Au=Q({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==el&&(el&&i.type==="mousemove"?(gf=i.screenX-el.screenX,yf=i.screenY-el.screenY):yf=gf=0,el=i),gf)},movementY:function(i){return"movementY"in i?i.movementY:yf}}),ny=tr(Au),eb=Q({},Au,{dataTransfer:0}),tb=tr(eb),nb=Q({},Ja,{relatedTarget:0}),vf=tr(nb),rb=Q({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=tr(rb),sb=Q({},bo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ob=tr(sb),ab=Q({},bo,{data:0}),ry=tr(ab),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function db(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=cb[i])?!!o[i]:!1}function _f(){return db}var fb=Q({},Ja,{key:function(i){if(i.key){var o=lb[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Pu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ub[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(i){return i.type==="keypress"?Pu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hb=tr(fb),pb=Q({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iy=tr(pb),mb=Q({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),gb=tr(mb),yb=Q({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vb=tr(yb),_b=Q({},Au,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wb=tr(_b),Sb=[9,13,27,32],wf=c&&"CompositionEvent"in window,tl=null;c&&"documentMode"in document&&(tl=document.documentMode);var Eb=c&&"TextEvent"in window&&!tl,sy=c&&(!wf||tl&&8<tl&&11>=tl),oy=" ",ay=!1;function ly(i,o){switch(i){case"keyup":return Sb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var To=!1;function Mb(i,o){switch(i){case"compositionend":return uy(o);case"keypress":return o.which!==32?null:(ay=!0,oy);case"textInput":return i=o.data,i===oy&&ay?null:i;default:return null}}function bb(i,o){if(To)return i==="compositionend"||!wf&&ly(i,o)?(i=ey(),Cu=pf=Zi=null,To=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sy&&o.locale!=="ko"?null:o.data;default:return null}}var Tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Tb[i.type]:o==="textarea"}function dy(i,o,l,f){Ze(f),o=Du(o,"onChange"),0<o.length&&(l=new mf("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var nl=null,rl=null;function xb(i){Ny(i,0)}function ku(i){var o=Ao(i);if(it(o))return i}function Cb(i,o){if(i==="change")return o}var fy=!1;if(c){var Sf;if(c){var Ef="oninput"in document;if(!Ef){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Ef=typeof hy.oninput=="function"}Sf=Ef}else Sf=!1;fy=Sf&&(!document.documentMode||9<document.documentMode)}function py(){nl&&(nl.detachEvent("onpropertychange",my),rl=nl=null)}function my(i){if(i.propertyName==="value"&&ku(rl)){var o=[];dy(o,rl,i,qe(i)),So(xb,o)}}function Pb(i,o,l){i==="focusin"?(py(),nl=o,rl=l,nl.attachEvent("onpropertychange",my)):i==="focusout"&&py()}function Nb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ku(rl)}function Ab(i,o){if(i==="click")return ku(o)}function kb(i,o){if(i==="input"||i==="change")return ku(o)}function Ob(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Or=typeof Object.is=="function"?Object.is:Ob;function il(i,o){if(Or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!d.call(o,g)||!Or(i[g],o[g]))return!1}return!0}function gy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yy(i,o){var l=gy(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gy(l)}}function vy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function _y(){for(var i=window,o=bt();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=bt(i.document)}return o}function Mf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Rb(i){var o=_y(),l=i.focusedElem,f=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&vy(l.ownerDocument.documentElement,l)){if(f!==null&&Mf(l)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=l.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!i.extend&&y>f&&(g=f,f=y,y=g),g=yy(l,y);var b=yy(l,f);g&&b&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),y>f?(i.addRange(o),i.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ib=c&&"documentMode"in document&&11>=document.documentMode,xo=null,bf=null,sl=null,Tf=!1;function wy(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tf||xo==null||xo!==bt(f)||(f=xo,"selectionStart"in f&&Mf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),sl&&il(sl,f)||(sl=f,f=Du(bf,"onSelect"),0<f.length&&(o=new mf("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=xo)))}function Ou(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Co={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},xf={},Sy={};c&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Ru(i){if(xf[i])return xf[i];if(!Co[i])return i;var o=Co[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Sy)return xf[i]=o[l];return i}var Ey=Ru("animationend"),My=Ru("animationiteration"),by=Ru("animationstart"),Ty=Ru("transitionend"),xy=new Map,Cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(i,o){xy.set(i,o),a(o,[i])}for(var Cf=0;Cf<Cy.length;Cf++){var Pf=Cy[Cf],Db=Pf.toLowerCase(),jb=Pf[0].toUpperCase()+Pf.slice(1);Ji(Db,"on"+jb)}Ji(Ey,"onAnimationEnd"),Ji(My,"onAnimationIteration"),Ji(by,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Ty,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Py(i,o,l){var f=i.type||"unknown-event";i.currentTarget=l,Ce(f,o,void 0,i),i.currentTarget=null}function Ny(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var b=f.length-1;0<=b;b--){var I=f[b],F=I.instance,X=I.currentTarget;if(I=I.listener,F!==y&&g.isPropagationStopped())break e;Py(g,I,X),y=F}else for(b=0;b<f.length;b++){if(I=f[b],F=I.instance,X=I.currentTarget,I=I.listener,F!==y&&g.isPropagationStopped())break e;Py(g,I,X),y=F}}}if(je)throw i=Ve,je=!1,Ve=null,i}function Dt(i,o){var l=o[jf];l===void 0&&(l=o[jf]=new Set);var f=i+"__bubble";l.has(f)||(Ay(o,i,2,!1),l.add(f))}function Nf(i,o,l){var f=0;o&&(f|=4),Ay(l,i,f,o)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function al(i){if(!i[Iu]){i[Iu]=!0,r.forEach(function(l){l!=="selectionchange"&&(Lb.has(l)||Nf(l,!1,i),Nf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Iu]||(o[Iu]=!0,Nf("selectionchange",!1,o))}}function Ay(i,o,l,f){switch(Jg(o)){case 1:var g=QM;break;case 4:g=ZM;break;default:g=ff}l=g.bind(null,o,l,i),g=void 0,!L||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function Af(i,o,l,f,g){var y=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var I=f.stateNode.containerInfo;if(I===g||I.nodeType===8&&I.parentNode===g)break;if(b===4)for(b=f.return;b!==null;){var F=b.tag;if((F===3||F===4)&&(F=b.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;b=b.return}for(;I!==null;){if(b=Fs(I),b===null)return;if(F=b.tag,F===5||F===6){f=y=b;continue e}I=I.parentNode}}f=f.return}So(function(){var X=y,fe=qe(l),pe=[];e:{var le=xy.get(i);if(le!==void 0){var xe=mf,Oe=i;switch(i){case"keypress":if(Pu(l)===0)break e;case"keydown":case"keyup":xe=hb;break;case"focusin":Oe="focus",xe=vf;break;case"focusout":Oe="blur",xe=vf;break;case"beforeblur":case"afterblur":xe=vf;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=gb;break;case Ey:case My:case by:xe=ib;break;case Ty:xe=vb;break;case"scroll":xe=JM;break;case"wheel":xe=wb;break;case"copy":case"cut":case"paste":xe=ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=iy}var De=(o&4)!==0,Jt=!De&&i==="scroll",H=De?le!==null?le+"Capture":null:le;De=[];for(var $=X,Y;$!==null;){Y=$;var ye=Y.stateNode;if(Y.tag===5&&ye!==null&&(Y=ye,H!==null&&(ye=wi($,H),ye!=null&&De.push(ll($,ye,Y)))),Jt)break;$=$.return}0<De.length&&(le=new xe(le,Oe,null,l,fe),pe.push({event:le,listeners:De}))}}if(!(o&7)){e:{if(le=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",le&&l!==Pt&&(Oe=l.relatedTarget||l.fromElement)&&(Fs(Oe)||Oe[bi]))break e;if((xe||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,xe?(Oe=l.relatedTarget||l.toElement,xe=X,Oe=Oe?Fs(Oe):null,Oe!==null&&(Jt=Re(Oe),Oe!==Jt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(xe=null,Oe=X),xe!==Oe)){if(De=ny,ye="onMouseLeave",H="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(De=iy,ye="onPointerLeave",H="onPointerEnter",$="pointer"),Jt=xe==null?le:Ao(xe),Y=Oe==null?le:Ao(Oe),le=new De(ye,$+"leave",xe,l,fe),le.target=Jt,le.relatedTarget=Y,ye=null,Fs(fe)===X&&(De=new De(H,$+"enter",Oe,l,fe),De.target=Y,De.relatedTarget=Jt,ye=De),Jt=ye,xe&&Oe)t:{for(De=xe,H=Oe,$=0,Y=De;Y;Y=Po(Y))$++;for(Y=0,ye=H;ye;ye=Po(ye))Y++;for(;0<$-Y;)De=Po(De),$--;for(;0<Y-$;)H=Po(H),Y--;for(;$--;){if(De===H||H!==null&&De===H.alternate)break t;De=Po(De),H=Po(H)}De=null}else De=null;xe!==null&&ky(pe,le,xe,De,!1),Oe!==null&&Jt!==null&&ky(pe,Jt,Oe,De,!0)}}e:{if(le=X?Ao(X):window,xe=le.nodeName&&le.nodeName.toLowerCase(),xe==="select"||xe==="input"&&le.type==="file")var Le=Cb;else if(cy(le))if(fy)Le=kb;else{Le=Nb;var Ue=Pb}else(xe=le.nodeName)&&xe.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Le=Ab);if(Le&&(Le=Le(i,X))){dy(pe,Le,l,fe);break e}Ue&&Ue(i,le,X),i==="focusout"&&(Ue=le._wrapperState)&&Ue.controlled&&le.type==="number"&&Ge(le,"number",le.value)}switch(Ue=X?Ao(X):window,i){case"focusin":(cy(Ue)||Ue.contentEditable==="true")&&(xo=Ue,bf=X,sl=null);break;case"focusout":sl=bf=xo=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,wy(pe,l,fe);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":wy(pe,l,fe)}var Be;if(wf)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else To?ly(i,l)&&(He="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(sy&&l.locale!=="ko"&&(To||He!=="onCompositionStart"?He==="onCompositionEnd"&&To&&(Be=ey()):(Zi=fe,pf="value"in Zi?Zi.value:Zi.textContent,To=!0)),Ue=Du(X,He),0<Ue.length&&(He=new ry(He,i,null,l,fe),pe.push({event:He,listeners:Ue}),Be?He.data=Be:(Be=uy(l),Be!==null&&(He.data=Be)))),(Be=Eb?Mb(i,l):bb(i,l))&&(X=Du(X,"onBeforeInput"),0<X.length&&(fe=new ry("onBeforeInput","beforeinput",null,l,fe),pe.push({event:fe,listeners:X}),fe.data=Be))}Ny(pe,o)})}function ll(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Du(i,o){for(var l=o+"Capture",f=[];i!==null;){var g=i,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=wi(i,l),y!=null&&f.unshift(ll(i,y,g)),y=wi(i,o),y!=null&&f.push(ll(i,y,g))),i=i.return}return f}function Po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ky(i,o,l,f,g){for(var y=o._reactName,b=[];l!==null&&l!==f;){var I=l,F=I.alternate,X=I.stateNode;if(F!==null&&F===f)break;I.tag===5&&X!==null&&(I=X,g?(F=wi(l,y),F!=null&&b.unshift(ll(l,F,I))):g||(F=wi(l,y),F!=null&&b.push(ll(l,F,I)))),l=l.return}b.length!==0&&i.push({event:o,listeners:b})}var Fb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function Oy(i){return(typeof i=="string"?i:""+i).replace(Fb,`
`).replace($b,"")}function ju(i,o,l){if(o=Oy(o),Oy(i)!==o&&l)throw Error(t(425))}function Lu(){}var kf=null,Of=null;function Rf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(i){return Ry.resolve(null).then(i).catch(Vb)}:If;function Vb(i){setTimeout(function(){throw i})}function Df(i,o){var l=o,f=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){i.removeChild(g),Za(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Za(o)}function es(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Iy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var No=Math.random().toString(36).slice(2),ii="__reactFiber$"+No,ul="__reactProps$"+No,bi="__reactContainer$"+No,jf="__reactEvents$"+No,zb="__reactListeners$"+No,Wb="__reactHandles$"+No;function Fs(i){var o=i[ii];if(o)return o;for(var l=i.parentNode;l;){if(o=l[bi]||l[ii]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Iy(i);i!==null;){if(l=i[ii])return l;i=Iy(i)}return o}i=l,l=i.parentNode}return null}function cl(i){return i=i[ii]||i[bi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ao(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Fu(i){return i[ul]||null}var Lf=[],ko=-1;function ts(i){return{current:i}}function jt(i){0>ko||(i.current=Lf[ko],Lf[ko]=null,ko--)}function Nt(i,o){ko++,Lf[ko]=i.current,i.current=o}var ns={},Tn=ts(ns),Un=ts(!1),$s=ns;function Oo(i,o){var l=i.type.contextTypes;if(!l)return ns;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in l)g[y]=o[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Bn(i){return i=i.childContextTypes,i!=null}function $u(){jt(Un),jt(Tn)}function Dy(i,o,l){if(Tn.current!==ns)throw Error(t(168));Nt(Tn,o),Nt(Un,l)}function jy(i,o,l){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,Ie(i)||"Unknown",g));return Q({},l,f)}function Uu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ns,$s=Tn.current,Nt(Tn,i),Nt(Un,Un.current),!0}function Ly(i,o,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=jy(i,o,$s),f.__reactInternalMemoizedMergedChildContext=i,jt(Un),jt(Tn),Nt(Tn,i)):jt(Un),Nt(Un,l)}var Ti=null,Bu=!1,Ff=!1;function Fy(i){Ti===null?Ti=[i]:Ti.push(i)}function Hb(i){Bu=!0,Fy(i)}function rs(){if(!Ff&&Ti!==null){Ff=!0;var i=0,o=wt;try{var l=Ti;for(wt=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}Ti=null,Bu=!1}catch(g){throw Ti!==null&&(Ti=Ti.slice(i+1)),It(Ei,rs),g}finally{wt=o,Ff=!1}}return null}var Ro=[],Io=0,Vu=null,zu=0,pr=[],mr=0,Us=null,xi=1,Ci="";function Bs(i,o){Ro[Io++]=zu,Ro[Io++]=Vu,Vu=i,zu=o}function $y(i,o,l){pr[mr++]=xi,pr[mr++]=Ci,pr[mr++]=Us,Us=i;var f=xi;i=Ci;var g=32-mt(f)-1;f&=~(1<<g),l+=1;var y=32-mt(o)+g;if(30<y){var b=g-g%5;y=(f&(1<<b)-1).toString(32),f>>=b,g-=b,xi=1<<32-mt(o)+g|l<<g|f,Ci=y+i}else xi=1<<y|l<<g|f,Ci=i}function $f(i){i.return!==null&&(Bs(i,1),$y(i,1,0))}function Uf(i){for(;i===Vu;)Vu=Ro[--Io],Ro[Io]=null,zu=Ro[--Io],Ro[Io]=null;for(;i===Us;)Us=pr[--mr],pr[mr]=null,Ci=pr[--mr],pr[mr]=null,xi=pr[--mr],pr[mr]=null}var nr=null,rr=null,$t=!1,Rr=null;function Uy(i,o){var l=_r(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function By(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,nr=i,rr=es(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,nr=i,rr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Us!==null?{id:xi,overflow:Ci}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=_r(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,nr=i,rr=null,!0):!1;default:return!1}}function Bf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Vf(i){if($t){var o=rr;if(o){var l=o;if(!By(i,o)){if(Bf(i))throw Error(t(418));o=es(l.nextSibling);var f=nr;o&&By(i,o)?Uy(f,l):(i.flags=i.flags&-4097|2,$t=!1,nr=i)}}else{if(Bf(i))throw Error(t(418));i.flags=i.flags&-4097|2,$t=!1,nr=i}}}function Vy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;nr=i}function Wu(i){if(i!==nr)return!1;if(!$t)return Vy(i),$t=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Rf(i.type,i.memoizedProps)),o&&(o=rr)){if(Bf(i))throw zy(),Error(t(418));for(;o;)Uy(i,o),o=es(o.nextSibling)}if(Vy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){rr=es(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}rr=null}}else rr=nr?es(i.stateNode.nextSibling):null;return!0}function zy(){for(var i=rr;i;)i=es(i.nextSibling)}function Do(){rr=nr=null,$t=!1}function zf(i){Rr===null?Rr=[i]:Rr.push(i)}var qb=N.ReactCurrentBatchConfig;function dl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var g=f,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(b){var I=g.refs;b===null?delete I[y]:I[y]=b},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Hu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Wy(i){var o=i._init;return o(i._payload)}function Hy(i){function o(H,$){if(i){var Y=H.deletions;Y===null?(H.deletions=[$],H.flags|=16):Y.push($)}}function l(H,$){if(!i)return null;for(;$!==null;)o(H,$),$=$.sibling;return null}function f(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=ds(H,$),H.index=0,H.sibling=null,H}function y(H,$,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<$?(H.flags|=2,$):Y):(H.flags|=2,$)):(H.flags|=1048576,$)}function b(H){return i&&H.alternate===null&&(H.flags|=2),H}function I(H,$,Y,ye){return $===null||$.tag!==6?($=Ih(Y,H.mode,ye),$.return=H,$):($=g($,Y),$.return=H,$)}function F(H,$,Y,ye){var Le=Y.type;return Le===T?fe(H,$,Y.props.children,ye,Y.key):$!==null&&($.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===se&&Wy(Le)===$.type)?(ye=g($,Y.props),ye.ref=dl(H,$,Y),ye.return=H,ye):(ye=mc(Y.type,Y.key,Y.props,null,H.mode,ye),ye.ref=dl(H,$,Y),ye.return=H,ye)}function X(H,$,Y,ye){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=Dh(Y,H.mode,ye),$.return=H,$):($=g($,Y.children||[]),$.return=H,$)}function fe(H,$,Y,ye,Le){return $===null||$.tag!==7?($=Ks(Y,H.mode,ye,Le),$.return=H,$):($=g($,Y),$.return=H,$)}function pe(H,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Ih(""+$,H.mode,Y),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return Y=mc($.type,$.key,$.props,null,H.mode,Y),Y.ref=dl(H,null,$),Y.return=H,Y;case k:return $=Dh($,H.mode,Y),$.return=H,$;case se:var ye=$._init;return pe(H,ye($._payload),Y)}if(Ye($)||te($))return $=Ks($,H.mode,Y,null),$.return=H,$;Hu(H,$)}return null}function le(H,$,Y,ye){var Le=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Le!==null?null:I(H,$,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===Le?F(H,$,Y,ye):null;case k:return Y.key===Le?X(H,$,Y,ye):null;case se:return Le=Y._init,le(H,$,Le(Y._payload),ye)}if(Ye(Y)||te(Y))return Le!==null?null:fe(H,$,Y,ye,null);Hu(H,Y)}return null}function xe(H,$,Y,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return H=H.get(Y)||null,I($,H,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return H=H.get(ye.key===null?Y:ye.key)||null,F($,H,ye,Le);case k:return H=H.get(ye.key===null?Y:ye.key)||null,X($,H,ye,Le);case se:var Ue=ye._init;return xe(H,$,Y,Ue(ye._payload),Le)}if(Ye(ye)||te(ye))return H=H.get(Y)||null,fe($,H,ye,Le,null);Hu($,ye)}return null}function Oe(H,$,Y,ye){for(var Le=null,Ue=null,Be=$,He=$=0,mn=null;Be!==null&&He<Y.length;He++){Be.index>He?(mn=Be,Be=null):mn=Be.sibling;var gt=le(H,Be,Y[He],ye);if(gt===null){Be===null&&(Be=mn);break}i&&Be&&gt.alternate===null&&o(H,Be),$=y(gt,$,He),Ue===null?Le=gt:Ue.sibling=gt,Ue=gt,Be=mn}if(He===Y.length)return l(H,Be),$t&&Bs(H,He),Le;if(Be===null){for(;He<Y.length;He++)Be=pe(H,Y[He],ye),Be!==null&&($=y(Be,$,He),Ue===null?Le=Be:Ue.sibling=Be,Ue=Be);return $t&&Bs(H,He),Le}for(Be=f(H,Be);He<Y.length;He++)mn=xe(Be,H,He,Y[He],ye),mn!==null&&(i&&mn.alternate!==null&&Be.delete(mn.key===null?He:mn.key),$=y(mn,$,He),Ue===null?Le=mn:Ue.sibling=mn,Ue=mn);return i&&Be.forEach(function(fs){return o(H,fs)}),$t&&Bs(H,He),Le}function De(H,$,Y,ye){var Le=te(Y);if(typeof Le!="function")throw Error(t(150));if(Y=Le.call(Y),Y==null)throw Error(t(151));for(var Ue=Le=null,Be=$,He=$=0,mn=null,gt=Y.next();Be!==null&&!gt.done;He++,gt=Y.next()){Be.index>He?(mn=Be,Be=null):mn=Be.sibling;var fs=le(H,Be,gt.value,ye);if(fs===null){Be===null&&(Be=mn);break}i&&Be&&fs.alternate===null&&o(H,Be),$=y(fs,$,He),Ue===null?Le=fs:Ue.sibling=fs,Ue=fs,Be=mn}if(gt.done)return l(H,Be),$t&&Bs(H,He),Le;if(Be===null){for(;!gt.done;He++,gt=Y.next())gt=pe(H,gt.value,ye),gt!==null&&($=y(gt,$,He),Ue===null?Le=gt:Ue.sibling=gt,Ue=gt);return $t&&Bs(H,He),Le}for(Be=f(H,Be);!gt.done;He++,gt=Y.next())gt=xe(Be,H,He,gt.value,ye),gt!==null&&(i&&gt.alternate!==null&&Be.delete(gt.key===null?He:gt.key),$=y(gt,$,He),Ue===null?Le=gt:Ue.sibling=gt,Ue=gt);return i&&Be.forEach(function(TT){return o(H,TT)}),$t&&Bs(H,He),Le}function Jt(H,$,Y,ye){if(typeof Y=="object"&&Y!==null&&Y.type===T&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var Le=Y.key,Ue=$;Ue!==null;){if(Ue.key===Le){if(Le=Y.type,Le===T){if(Ue.tag===7){l(H,Ue.sibling),$=g(Ue,Y.props.children),$.return=H,H=$;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===se&&Wy(Le)===Ue.type){l(H,Ue.sibling),$=g(Ue,Y.props),$.ref=dl(H,Ue,Y),$.return=H,H=$;break e}l(H,Ue);break}else o(H,Ue);Ue=Ue.sibling}Y.type===T?($=Ks(Y.props.children,H.mode,ye,Y.key),$.return=H,H=$):(ye=mc(Y.type,Y.key,Y.props,null,H.mode,ye),ye.ref=dl(H,$,Y),ye.return=H,H=ye)}return b(H);case k:e:{for(Ue=Y.key;$!==null;){if($.key===Ue)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){l(H,$.sibling),$=g($,Y.children||[]),$.return=H,H=$;break e}else{l(H,$);break}else o(H,$);$=$.sibling}$=Dh(Y,H.mode,ye),$.return=H,H=$}return b(H);case se:return Ue=Y._init,Jt(H,$,Ue(Y._payload),ye)}if(Ye(Y))return Oe(H,$,Y,ye);if(te(Y))return De(H,$,Y,ye);Hu(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,$!==null&&$.tag===6?(l(H,$.sibling),$=g($,Y),$.return=H,H=$):(l(H,$),$=Ih(Y,H.mode,ye),$.return=H,H=$),b(H)):l(H,$)}return Jt}var jo=Hy(!0),qy=Hy(!1),qu=ts(null),Gu=null,Lo=null,Wf=null;function Hf(){Wf=Lo=Gu=null}function qf(i){var o=qu.current;jt(qu),i._currentValue=o}function Gf(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function Fo(i,o){Gu=i,Wf=Lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Vn=!0),i.firstContext=null)}function gr(i){var o=i._currentValue;if(Wf!==i)if(i={context:i,memoizedValue:o,next:null},Lo===null){if(Gu===null)throw Error(t(308));Lo=i,Gu.dependencies={lanes:0,firstContext:i}}else Lo=Lo.next=i;return o}var Vs=null;function Yf(i){Vs===null?Vs=[i]:Vs.push(i)}function Gy(i,o,l,f){var g=o.interleaved;return g===null?(l.next=l,Yf(o)):(l.next=g.next,g.next=l),o.interleaved=l,Pi(i,f)}function Pi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var is=!1;function Kf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ni(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ss(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,ht&2){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Pi(i,l)}return g=f.interleaved,g===null?(o.next=o,Yf(f)):(o.next=g.next,g.next=o),f.interleaved=o,Pi(i,l)}function Yu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,uf(i,l)}}function Ky(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?g=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?g=y=o:y=y.next=o}else g=y=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Ku(i,o,l,f){var g=i.updateQueue;is=!1;var y=g.firstBaseUpdate,b=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var F=I,X=F.next;F.next=null,b===null?y=X:b.next=X,b=F;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==b&&(I===null?fe.firstBaseUpdate=X:I.next=X,fe.lastBaseUpdate=F))}if(y!==null){var pe=g.baseState;b=0,fe=X=F=null,I=y;do{var le=I.lane,xe=I.eventTime;if((f&le)===le){fe!==null&&(fe=fe.next={eventTime:xe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Oe=i,De=I;switch(le=o,xe=l,De.tag){case 1:if(Oe=De.payload,typeof Oe=="function"){pe=Oe.call(xe,pe,le);break e}pe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=De.payload,le=typeof Oe=="function"?Oe.call(xe,pe,le):Oe,le==null)break e;pe=Q({},pe,le);break e;case 2:is=!0}}I.callback!==null&&I.lane!==0&&(i.flags|=64,le=g.effects,le===null?g.effects=[I]:le.push(I))}else xe={eventTime:xe,lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(X=fe=xe,F=pe):fe=fe.next=xe,b|=le;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;le=I,I=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(fe===null&&(F=pe),g.baseState=F,g.firstBaseUpdate=X,g.lastBaseUpdate=fe,o=g.shared.interleaved,o!==null){g=o;do b|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);Hs|=b,i.lanes=b,i.memoizedState=pe}}function Xy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var fl={},si=ts(fl),hl=ts(fl),pl=ts(fl);function zs(i){if(i===fl)throw Error(t(174));return i}function Xf(i,o){switch(Nt(pl,o),Nt(hl,i),Nt(si,fl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ht(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Ht(o,i)}jt(si),Nt(si,o)}function $o(){jt(si),jt(hl),jt(pl)}function Qy(i){zs(pl.current);var o=zs(si.current),l=Ht(o,i.type);o!==l&&(Nt(hl,i),Nt(si,l))}function Qf(i){hl.current===i&&(jt(si),jt(hl))}var qt=ts(0);function Xu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zf=[];function Jf(){for(var i=0;i<Zf.length;i++)Zf[i]._workInProgressVersionPrimary=null;Zf.length=0}var Qu=N.ReactCurrentDispatcher,eh=N.ReactCurrentBatchConfig,Ws=0,Gt=null,cn=null,hn=null,Zu=!1,ml=!1,gl=0,Gb=0;function xn(){throw Error(t(321))}function th(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Or(i[l],o[l]))return!1;return!0}function nh(i,o,l,f,g,y){if(Ws=y,Gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qu.current=i===null||i.memoizedState===null?Qb:Zb,i=l(f,g),ml){y=0;do{if(ml=!1,gl=0,25<=y)throw Error(t(301));y+=1,hn=cn=null,o.updateQueue=null,Qu.current=Jb,i=l(f,g)}while(ml)}if(Qu.current=tc,o=cn!==null&&cn.next!==null,Ws=0,hn=cn=Gt=null,Zu=!1,o)throw Error(t(300));return i}function rh(){var i=gl!==0;return gl=0,i}function oi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Gt.memoizedState=hn=i:hn=hn.next=i,hn}function yr(){if(cn===null){var i=Gt.alternate;i=i!==null?i.memoizedState:null}else i=cn.next;var o=hn===null?Gt.memoizedState:hn.next;if(o!==null)hn=o,cn=i;else{if(i===null)throw Error(t(310));cn=i,i={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},hn===null?Gt.memoizedState=hn=i:hn=hn.next=i}return hn}function yl(i,o){return typeof o=="function"?o(i):o}function ih(i){var o=yr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=cn,g=f.baseQueue,y=l.pending;if(y!==null){if(g!==null){var b=g.next;g.next=y.next,y.next=b}f.baseQueue=g=y,l.pending=null}if(g!==null){y=g.next,f=f.baseState;var I=b=null,F=null,X=y;do{var fe=X.lane;if((Ws&fe)===fe)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:i(f,X.action);else{var pe={lane:fe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(I=F=pe,b=f):F=F.next=pe,Gt.lanes|=fe,Hs|=fe}X=X.next}while(X!==null&&X!==y);F===null?b=f:F.next=I,Or(f,o.memoizedState)||(Vn=!0),o.memoizedState=f,o.baseState=b,o.baseQueue=F,l.lastRenderedState=f}if(i=l.interleaved,i!==null){g=i;do y=g.lane,Gt.lanes|=y,Hs|=y,g=g.next;while(g!==i)}else g===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function sh(i){var o=yr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,y=o.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do y=i(y,b.action),b=b.next;while(b!==g);Or(y,o.memoizedState)||(Vn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,f]}function Zy(){}function Jy(i,o){var l=Gt,f=yr(),g=o(),y=!Or(f.memoizedState,g);if(y&&(f.memoizedState=g,Vn=!0),f=f.queue,oh(nv.bind(null,l,f,i),[i]),f.getSnapshot!==o||y||hn!==null&&hn.memoizedState.tag&1){if(l.flags|=2048,vl(9,tv.bind(null,l,f,g,o),void 0,null),pn===null)throw Error(t(349));Ws&30||ev(l,o,g)}return g}function ev(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Gt.updateQueue,o===null?(o={lastEffect:null,stores:null},Gt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function tv(i,o,l,f){o.value=l,o.getSnapshot=f,rv(o)&&iv(i)}function nv(i,o,l){return l(function(){rv(o)&&iv(i)})}function rv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Or(i,l)}catch{return!0}}function iv(i){var o=Pi(i,1);o!==null&&Lr(o,i,1,-1)}function sv(i){var o=oi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:i},o.queue=i,i=i.dispatch=Xb.bind(null,Gt,i),[o.memoizedState,i]}function vl(i,o,l,f){return i={tag:i,create:o,destroy:l,deps:f,next:null},o=Gt.updateQueue,o===null?(o={lastEffect:null,stores:null},Gt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i)),i}function ov(){return yr().memoizedState}function Ju(i,o,l,f){var g=oi();Gt.flags|=i,g.memoizedState=vl(1|o,l,void 0,f===void 0?null:f)}function ec(i,o,l,f){var g=yr();f=f===void 0?null:f;var y=void 0;if(cn!==null){var b=cn.memoizedState;if(y=b.destroy,f!==null&&th(f,b.deps)){g.memoizedState=vl(o,l,y,f);return}}Gt.flags|=i,g.memoizedState=vl(1|o,l,y,f)}function av(i,o){return Ju(8390656,8,i,o)}function oh(i,o){return ec(2048,8,i,o)}function lv(i,o){return ec(4,2,i,o)}function uv(i,o){return ec(4,4,i,o)}function cv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function dv(i,o,l){return l=l!=null?l.concat([i]):null,ec(4,4,cv.bind(null,o,i),l)}function ah(){}function fv(i,o){var l=yr();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&th(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function hv(i,o){var l=yr();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&th(o,f[1])?f[0]:(i=i(),l.memoizedState=[i,o],i)}function pv(i,o,l){return Ws&21?(Or(l,o)||(l=Wg(),Gt.lanes|=l,Hs|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Vn=!0),i.memoizedState=l)}function Yb(i,o){var l=wt;wt=l!==0&&4>l?l:4,i(!0);var f=eh.transition;eh.transition={};try{i(!1),o()}finally{wt=l,eh.transition=f}}function mv(){return yr().memoizedState}function Kb(i,o,l){var f=us(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},gv(i))yv(o,l);else if(l=Gy(i,o,l,f),l!==null){var g=On();Lr(l,i,f,g),vv(l,o,f)}}function Xb(i,o,l){var f=us(i),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(gv(i))yv(o,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var b=o.lastRenderedState,I=y(b,l);if(g.hasEagerState=!0,g.eagerState=I,Or(I,b)){var F=o.interleaved;F===null?(g.next=g,Yf(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}l=Gy(i,o,g,f),l!==null&&(g=On(),Lr(l,i,f,g),vv(l,o,f))}}function gv(i){var o=i.alternate;return i===Gt||o!==null&&o===Gt}function yv(i,o){ml=Zu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function vv(i,o,l){if(l&4194240){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,uf(i,l)}}var tc={readContext:gr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},Qb={readContext:gr,useCallback:function(i,o){return oi().memoizedState=[i,o===void 0?null:o],i},useContext:gr,useEffect:av,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Ju(4194308,4,cv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Ju(4194308,4,i,o)},useInsertionEffect:function(i,o){return Ju(4,2,i,o)},useMemo:function(i,o){var l=oi();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var f=oi();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Kb.bind(null,Gt,i),[f.memoizedState,i]},useRef:function(i){var o=oi();return i={current:i},o.memoizedState=i},useState:sv,useDebugValue:ah,useDeferredValue:function(i){return oi().memoizedState=i},useTransition:function(){var i=sv(!1),o=i[0];return i=Yb.bind(null,i[1]),oi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var f=Gt,g=oi();if($t){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),pn===null)throw Error(t(349));Ws&30||ev(f,o,l)}g.memoizedState=l;var y={value:l,getSnapshot:o};return g.queue=y,av(nv.bind(null,f,y,i),[i]),f.flags|=2048,vl(9,tv.bind(null,f,y,l,o),void 0,null),l},useId:function(){var i=oi(),o=pn.identifierPrefix;if($t){var l=Ci,f=xi;l=(f&~(1<<32-mt(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=gl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Gb++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Zb={readContext:gr,useCallback:fv,useContext:gr,useEffect:oh,useImperativeHandle:dv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:hv,useReducer:ih,useRef:ov,useState:function(){return ih(yl)},useDebugValue:ah,useDeferredValue:function(i){var o=yr();return pv(o,cn.memoizedState,i)},useTransition:function(){var i=ih(yl)[0],o=yr().memoizedState;return[i,o]},useMutableSource:Zy,useSyncExternalStore:Jy,useId:mv,unstable_isNewReconciler:!1},Jb={readContext:gr,useCallback:fv,useContext:gr,useEffect:oh,useImperativeHandle:dv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:hv,useReducer:sh,useRef:ov,useState:function(){return sh(yl)},useDebugValue:ah,useDeferredValue:function(i){var o=yr();return cn===null?o.memoizedState=i:pv(o,cn.memoizedState,i)},useTransition:function(){var i=sh(yl)[0],o=yr().memoizedState;return[i,o]},useMutableSource:Zy,useSyncExternalStore:Jy,useId:mv,unstable_isNewReconciler:!1};function Ir(i,o){if(i&&i.defaultProps){o=Q({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function lh(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:Q({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var nc={isMounted:function(i){return(i=i._reactInternals)?Re(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var f=On(),g=us(i),y=Ni(f,g);y.payload=o,l!=null&&(y.callback=l),o=ss(i,y,g),o!==null&&(Lr(o,i,g,f),Yu(o,i,g))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=On(),g=us(i),y=Ni(f,g);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=ss(i,y,g),o!==null&&(Lr(o,i,g,f),Yu(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=On(),f=us(i),g=Ni(l,f);g.tag=2,o!=null&&(g.callback=o),o=ss(i,g,f),o!==null&&(Lr(o,i,f,l),Yu(o,i,f))}};function _v(i,o,l,f,g,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,b):o.prototype&&o.prototype.isPureReactComponent?!il(l,f)||!il(g,y):!0}function wv(i,o,l){var f=!1,g=ns,y=o.contextType;return typeof y=="object"&&y!==null?y=gr(y):(g=Bn(o)?$s:Tn.current,f=o.contextTypes,y=(f=f!=null)?Oo(i,g):ns),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=y),o}function Sv(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&nc.enqueueReplaceState(o,o.state,null)}function uh(i,o,l,f){var g=i.stateNode;g.props=l,g.state=i.memoizedState,g.refs={},Kf(i);var y=o.contextType;typeof y=="object"&&y!==null?g.context=gr(y):(y=Bn(o)?$s:Tn.current,g.context=Oo(i,y)),g.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(lh(i,o,y,l),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&nc.enqueueReplaceState(g,g.state,null),Ku(i,l,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function Uo(i,o){try{var l="",f=o;do l+=ue(f),f=f.return;while(f);var g=l}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:g,digest:null}}function ch(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function dh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var eT=typeof WeakMap=="function"?WeakMap:Map;function Ev(i,o,l){l=Ni(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){uc||(uc=!0,xh=f),dh(i,o)},l}function Mv(i,o,l){l=Ni(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;l.payload=function(){return f(g)},l.callback=function(){dh(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){dh(i,o),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),l}function bv(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new eT;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(g.add(l),i=pT.bind(null,i,o,l),o.then(i,i))}function Tv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function xv(i,o,l,f,g){return i.mode&1?(i.flags|=65536,i.lanes=g,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ni(-1,1),o.tag=2,ss(l,o,1))),l.lanes|=1),i)}var tT=N.ReactCurrentOwner,Vn=!1;function kn(i,o,l,f){o.child=i===null?qy(o,null,l,f):jo(o,i.child,l,f)}function Cv(i,o,l,f,g){l=l.render;var y=o.ref;return Fo(o,g),f=nh(i,o,l,f,y,g),l=rh(),i!==null&&!Vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Ai(i,o,g)):($t&&l&&$f(o),o.flags|=1,kn(i,o,f,g),o.child)}function Pv(i,o,l,f,g){if(i===null){var y=l.type;return typeof y=="function"&&!Rh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Nv(i,o,y,f,g)):(i=mc(l.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&g)){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:il,l(b,f)&&i.ref===o.ref)return Ai(i,o,g)}return o.flags|=1,i=ds(y,f),i.ref=o.ref,i.return=o,o.child=i}function Nv(i,o,l,f,g){if(i!==null){var y=i.memoizedProps;if(il(y,f)&&i.ref===o.ref)if(Vn=!1,o.pendingProps=f=y,(i.lanes&g)!==0)i.flags&131072&&(Vn=!0);else return o.lanes=i.lanes,Ai(i,o,g)}return fh(i,o,l,f,g)}function Av(i,o,l){var f=o.pendingProps,g=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Vo,ir),ir|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Nt(Vo,ir),ir|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Nt(Vo,ir),ir|=f}else y!==null?(f=y.baseLanes|l,o.memoizedState=null):f=l,Nt(Vo,ir),ir|=f;return kn(i,o,g,l),o.child}function kv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function fh(i,o,l,f,g){var y=Bn(l)?$s:Tn.current;return y=Oo(o,y),Fo(o,g),l=nh(i,o,l,f,y,g),f=rh(),i!==null&&!Vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Ai(i,o,g)):($t&&f&&$f(o),o.flags|=1,kn(i,o,l,g),o.child)}function Ov(i,o,l,f,g){if(Bn(l)){var y=!0;Uu(o)}else y=!1;if(Fo(o,g),o.stateNode===null)ic(i,o),wv(o,l,f),uh(o,l,f,g),f=!0;else if(i===null){var b=o.stateNode,I=o.memoizedProps;b.props=I;var F=b.context,X=l.contextType;typeof X=="object"&&X!==null?X=gr(X):(X=Bn(l)?$s:Tn.current,X=Oo(o,X));var fe=l.getDerivedStateFromProps,pe=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function";pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==f||F!==X)&&Sv(o,b,f,X),is=!1;var le=o.memoizedState;b.state=le,Ku(o,f,b,g),F=o.memoizedState,I!==f||le!==F||Un.current||is?(typeof fe=="function"&&(lh(o,l,fe,f),F=o.memoizedState),(I=is||_v(o,l,I,f,le,F,X))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),b.props=f,b.state=F,b.context=X,f=I):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Yy(i,o),I=o.memoizedProps,X=o.type===o.elementType?I:Ir(o.type,I),b.props=X,pe=o.pendingProps,le=b.context,F=l.contextType,typeof F=="object"&&F!==null?F=gr(F):(F=Bn(l)?$s:Tn.current,F=Oo(o,F));var xe=l.getDerivedStateFromProps;(fe=typeof xe=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==pe||le!==F)&&Sv(o,b,f,F),is=!1,le=o.memoizedState,b.state=le,Ku(o,f,b,g);var Oe=o.memoizedState;I!==pe||le!==Oe||Un.current||is?(typeof xe=="function"&&(lh(o,l,xe,f),Oe=o.memoizedState),(X=is||_v(o,l,X,f,le,Oe,F)||!1)?(fe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,Oe,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,Oe,F)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Oe),b.props=f,b.state=Oe,b.context=F,f=X):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),f=!1)}return hh(i,o,l,f,y,g)}function hh(i,o,l,f,g,y){kv(i,o);var b=(o.flags&128)!==0;if(!f&&!b)return g&&Ly(o,l,!1),Ai(i,o,y);f=o.stateNode,tT.current=o;var I=b&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&b?(o.child=jo(o,i.child,null,y),o.child=jo(o,null,I,y)):kn(i,o,I,y),o.memoizedState=f.state,g&&Ly(o,l,!0),o.child}function Rv(i){var o=i.stateNode;o.pendingContext?Dy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Dy(i,o.context,!1),Xf(i,o.containerInfo)}function Iv(i,o,l,f,g){return Do(),zf(g),o.flags|=256,kn(i,o,l,f),o.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function mh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Dv(i,o,l){var f=o.pendingProps,g=qt.current,y=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=i!==null&&i.memoizedState===null?!1:(g&2)!==0),I?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Nt(qt,g&1),i===null)return Vf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=f.children,i=f.fallback,y?(f=o.mode,y=o.child,b={mode:"hidden",children:b},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=b):y=gc(b,f,0,null),i=Ks(i,f,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=mh(l),o.memoizedState=ph,i):gh(o,b));if(g=i.memoizedState,g!==null&&(I=g.dehydrated,I!==null))return nT(i,o,b,f,I,g,l);if(y){y=f.fallback,b=o.mode,g=i.child,I=g.sibling;var F={mode:"hidden",children:f.children};return!(b&1)&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=ds(g,F),f.subtreeFlags=g.subtreeFlags&14680064),I!==null?y=ds(I,y):(y=Ks(y,b,l,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,b=i.child.memoizedState,b=b===null?mh(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=i.childLanes&~l,o.memoizedState=ph,f}return y=i.child,i=y.sibling,f=ds(y,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=l),f.return=o,f.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=f,o.memoizedState=null,f}function gh(i,o){return o=gc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function rc(i,o,l,f){return f!==null&&zf(f),jo(o,i.child,null,l),i=gh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function nT(i,o,l,f,g,y,b){if(l)return o.flags&256?(o.flags&=-257,f=ch(Error(t(422))),rc(i,o,b,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=f.fallback,g=o.mode,f=gc({mode:"visible",children:f.children},g,0,null),y=Ks(y,g,b,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,o.mode&1&&jo(o,i.child,null,b),o.child.memoizedState=mh(b),o.memoizedState=ph,y);if(!(o.mode&1))return rc(i,o,b,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var I=f.dgst;return f=I,y=Error(t(419)),f=ch(y,f,void 0),rc(i,o,b,f)}if(I=(b&i.childLanes)!==0,Vn||I){if(f=pn,f!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(f.suspendedLanes|b)?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Pi(i,g),Lr(f,i,g,-1))}return Oh(),f=ch(Error(t(421))),rc(i,o,b,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=mT.bind(null,i),g._reactRetry=o,null):(i=y.treeContext,rr=es(g.nextSibling),nr=o,$t=!0,Rr=null,i!==null&&(pr[mr++]=xi,pr[mr++]=Ci,pr[mr++]=Us,xi=i.id,Ci=i.overflow,Us=o),o=gh(o,f.children),o.flags|=4096,o)}function jv(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Gf(i.return,o,l)}function yh(i,o,l,f,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=g)}function Lv(i,o,l){var f=o.pendingProps,g=f.revealOrder,y=f.tail;if(kn(i,o,f.children,l),f=qt.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jv(i,l,o);else if(i.tag===19)jv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Nt(qt,f),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&Xu(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),yh(o,!1,g,l,y);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Xu(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}yh(o,!0,l,null,y);break;case"together":yh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ic(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ai(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Hs|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=ds(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ds(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function rT(i,o,l){switch(o.tag){case 3:Rv(o),Do();break;case 5:Qy(o);break;case 1:Bn(o.type)&&Uu(o);break;case 4:Xf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Nt(qu,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Nt(qt,qt.current&1),o.flags|=128,null):l&o.child.childLanes?Dv(i,o,l):(Nt(qt,qt.current&1),i=Ai(i,o,l),i!==null?i.sibling:null);Nt(qt,qt.current&1);break;case 19:if(f=(l&o.childLanes)!==0,i.flags&128){if(f)return Lv(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Nt(qt,qt.current),f)break;return null;case 22:case 23:return o.lanes=0,Av(i,o,l)}return Ai(i,o,l)}var Fv,vh,$v,Uv;Fv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},vh=function(){},$v=function(i,o,l,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,zs(si.current);var y=null;switch(l){case"input":g=nn(i,g),f=nn(i,f),y=[];break;case"select":g=Q({},g,{value:void 0}),f=Q({},f,{value:void 0}),y=[];break;case"textarea":g=zt(i,g),f=zt(i,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Lu)}Fe(l,f);var b;l=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var I=g[X];for(b in I)I.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?y||(y=[]):(y=y||[]).push(X,null));for(X in f){var F=f[X];if(I=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&F!==I&&(F!=null||I!=null))if(X==="style")if(I){for(b in I)!I.hasOwnProperty(b)||F&&F.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in F)F.hasOwnProperty(b)&&I[b]!==F[b]&&(l||(l={}),l[b]=F[b])}else l||(y||(y=[]),y.push(X,l)),l=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,I=I?I.__html:void 0,F!=null&&I!==F&&(y=y||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&Dt("scroll",i),y||I===F||(y=[])):(y=y||[]).push(X,F))}l&&(y=y||[]).push("style",l);var X=y;(o.updateQueue=X)&&(o.flags|=4)}},Uv=function(i,o,l,f){l!==f&&(o.flags|=4)};function _l(i,o){if(!$t)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Cn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function iT(i,o,l){var f=o.pendingProps;switch(Uf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Bn(o.type)&&$u(),Cn(o),null;case 3:return f=o.stateNode,$o(),jt(Un),jt(Tn),Jf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Wu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Rr!==null&&(Nh(Rr),Rr=null))),vh(i,o),Cn(o),null;case 5:Qf(o);var g=zs(pl.current);if(l=o.type,i!==null&&o.stateNode!=null)$v(i,o,l,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Cn(o),null}if(i=zs(si.current),Wu(o)){f=o.stateNode,l=o.type;var y=o.memoizedProps;switch(f[ii]=o,f[ul]=y,i=(o.mode&1)!==0,l){case"dialog":Dt("cancel",f),Dt("close",f);break;case"iframe":case"object":case"embed":Dt("load",f);break;case"video":case"audio":for(g=0;g<ol.length;g++)Dt(ol[g],f);break;case"source":Dt("error",f);break;case"img":case"image":case"link":Dt("error",f),Dt("load",f);break;case"details":Dt("toggle",f);break;case"input":de(f,y),Dt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Dt("invalid",f);break;case"textarea":vn(f,y),Dt("invalid",f)}Fe(l,y),g=null;for(var b in y)if(y.hasOwnProperty(b)){var I=y[b];b==="children"?typeof I=="string"?f.textContent!==I&&(y.suppressHydrationWarning!==!0&&ju(f.textContent,I,i),g=["children",I]):typeof I=="number"&&f.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&ju(f.textContent,I,i),g=["children",""+I]):s.hasOwnProperty(b)&&I!=null&&b==="onScroll"&&Dt("scroll",f)}switch(l){case"input":ft(f),lt(f,y,!0);break;case"textarea":ft(f),_n(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Lu)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ke(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=b.createElement(l,{is:f.is}):(i=b.createElement(l),l==="select"&&(b=i,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):i=b.createElementNS(i,l),i[ii]=o,i[ul]=f,Fv(i,o,!1,!1),o.stateNode=i;e:{switch(b=Tt(l,f),l){case"dialog":Dt("cancel",i),Dt("close",i),g=f;break;case"iframe":case"object":case"embed":Dt("load",i),g=f;break;case"video":case"audio":for(g=0;g<ol.length;g++)Dt(ol[g],i);g=f;break;case"source":Dt("error",i),g=f;break;case"img":case"image":case"link":Dt("error",i),Dt("load",i),g=f;break;case"details":Dt("toggle",i),g=f;break;case"input":de(i,f),g=nn(i,f),Dt("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=Q({},f,{value:void 0}),Dt("invalid",i);break;case"textarea":vn(i,f),g=zt(i,f),Dt("invalid",i);break;default:g=f}Fe(l,g),I=g;for(y in I)if(I.hasOwnProperty(y)){var F=I[y];y==="style"?re(i,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Fn(i,F)):y==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&ni(i,F):typeof F=="number"&&ni(i,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Dt("scroll",i):F!=null&&R(i,y,F,b))}switch(l){case"input":ft(i),lt(i,f,!1);break;case"textarea":ft(i),_n(i);break;case"option":f.value!=null&&i.setAttribute("value",""+ce(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?yt(i,!!f.multiple,y,!1):f.defaultValue!=null&&yt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Lu)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Cn(o),null;case 6:if(i&&o.stateNode!=null)Uv(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(l=zs(pl.current),zs(si.current),Wu(o)){if(f=o.stateNode,l=o.memoizedProps,f[ii]=o,(y=f.nodeValue!==l)&&(i=nr,i!==null))switch(i.tag){case 3:ju(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ju(f.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[ii]=o,o.stateNode=f}return Cn(o),null;case 13:if(jt(qt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&rr!==null&&o.mode&1&&!(o.flags&128))zy(),Do(),o.flags|=98560,y=!1;else if(y=Wu(o),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ii]=o}else Do(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Cn(o),y=!1}else Rr!==null&&(Nh(Rr),Rr=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||qt.current&1?dn===0&&(dn=3):Oh())),o.updateQueue!==null&&(o.flags|=4),Cn(o),null);case 4:return $o(),vh(i,o),i===null&&al(o.stateNode.containerInfo),Cn(o),null;case 10:return qf(o.type._context),Cn(o),null;case 17:return Bn(o.type)&&$u(),Cn(o),null;case 19:if(jt(qt),y=o.memoizedState,y===null)return Cn(o),null;if(f=(o.flags&128)!==0,b=y.rendering,b===null)if(f)_l(y,!1);else{if(dn!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(b=Xu(i),b!==null){for(o.flags|=128,_l(y,!1),f=b.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)y=l,i=f,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,i=b.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Nt(qt,qt.current&1|2),o.child}i=i.sibling}y.tail!==null&&pt()>zo&&(o.flags|=128,f=!0,_l(y,!1),o.lanes=4194304)}else{if(!f)if(i=Xu(b),i!==null){if(o.flags|=128,f=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),_l(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!$t)return Cn(o),null}else 2*pt()-y.renderingStartTime>zo&&l!==1073741824&&(o.flags|=128,f=!0,_l(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(l=y.last,l!==null?l.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=pt(),o.sibling=null,l=qt.current,Nt(qt,f?l&1|2:l&1),o):(Cn(o),null);case 22:case 23:return kh(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?ir&1073741824&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function sT(i,o){switch(Uf(o),o.tag){case 1:return Bn(o.type)&&$u(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $o(),jt(Un),jt(Tn),Jf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Qf(o),null;case 13:if(jt(qt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Do()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return jt(qt),null;case 4:return $o(),null;case 10:return qf(o.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var sc=!1,Pn=!1,oT=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Bo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Kt(i,o,f)}else l.current=null}function _h(i,o,l){try{l()}catch(f){Kt(i,o,f)}}var Bv=!1;function aT(i,o){if(kf=Tu,i=_y(),Mf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,I=-1,F=-1,X=0,fe=0,pe=i,le=null;t:for(;;){for(var xe;pe!==l||g!==0&&pe.nodeType!==3||(I=b+g),pe!==y||f!==0&&pe.nodeType!==3||(F=b+f),pe.nodeType===3&&(b+=pe.nodeValue.length),(xe=pe.firstChild)!==null;)le=pe,pe=xe;for(;;){if(pe===i)break t;if(le===l&&++X===g&&(I=b),le===y&&++fe===f&&(F=b),(xe=pe.nextSibling)!==null)break;pe=le,le=pe.parentNode}pe=xe}l=I===-1||F===-1?null:{start:I,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Of={focusedElem:i,selectionRange:l},Tu=!1,Pe=o;Pe!==null;)if(o=Pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Pe=i;else for(;Pe!==null;){o=Pe;try{var Oe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var De=Oe.memoizedProps,Jt=Oe.memoizedState,H=o.stateNode,$=H.getSnapshotBeforeUpdate(o.elementType===o.type?De:Ir(o.type,De),Jt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){Kt(o,o.return,ye)}if(i=o.sibling,i!==null){i.return=o.return,Pe=i;break}Pe=o.return}return Oe=Bv,Bv=!1,Oe}function wl(i,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var y=g.destroy;g.destroy=void 0,y!==void 0&&_h(o,l,y)}g=g.next}while(g!==f)}}function oc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function wh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Vv(i){var o=i.alternate;o!==null&&(i.alternate=null,Vv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ii],delete o[ul],delete o[jf],delete o[zb],delete o[Wb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function zv(i){return i.tag===5||i.tag===3||i.tag===4}function Wv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sh(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Lu));else if(f!==4&&(i=i.child,i!==null))for(Sh(i,o,l),i=i.sibling;i!==null;)Sh(i,o,l),i=i.sibling}function Eh(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Eh(i,o,l),i=i.sibling;i!==null;)Eh(i,o,l),i=i.sibling}var Sn=null,Dr=!1;function os(i,o,l){for(l=l.child;l!==null;)Hv(i,o,l),l=l.sibling}function Hv(i,o,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Ct,l)}catch{}switch(l.tag){case 5:Pn||Bo(l,o);case 6:var f=Sn,g=Dr;Sn=null,os(i,o,l),Sn=f,Dr=g,Sn!==null&&(Dr?(i=Sn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Sn.removeChild(l.stateNode));break;case 18:Sn!==null&&(Dr?(i=Sn,l=l.stateNode,i.nodeType===8?Df(i.parentNode,l):i.nodeType===1&&Df(i,l),Za(i)):Df(Sn,l.stateNode));break;case 4:f=Sn,g=Dr,Sn=l.stateNode.containerInfo,Dr=!0,os(i,o,l),Sn=f,Dr=g;break;case 0:case 11:case 14:case 15:if(!Pn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,b=y.destroy;y=y.tag,b!==void 0&&(y&2||y&4)&&_h(l,o,b),g=g.next}while(g!==f)}os(i,o,l);break;case 1:if(!Pn&&(Bo(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(I){Kt(l,o,I)}os(i,o,l);break;case 21:os(i,o,l);break;case 22:l.mode&1?(Pn=(f=Pn)||l.memoizedState!==null,os(i,o,l),Pn=f):os(i,o,l);break;default:os(i,o,l)}}function qv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new oT),o.forEach(function(f){var g=gT.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}}function jr(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var y=i,b=o,I=b;e:for(;I!==null;){switch(I.tag){case 5:Sn=I.stateNode,Dr=!1;break e;case 3:Sn=I.stateNode.containerInfo,Dr=!0;break e;case 4:Sn=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(Sn===null)throw Error(t(160));Hv(y,b,g),Sn=null,Dr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(X){Kt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gv(o,i),o=o.sibling}function Gv(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(jr(o,i),ai(i),f&4){try{wl(3,i,i.return),oc(3,i)}catch(De){Kt(i,i.return,De)}try{wl(5,i,i.return)}catch(De){Kt(i,i.return,De)}}break;case 1:jr(o,i),ai(i),f&512&&l!==null&&Bo(l,l.return);break;case 5:if(jr(o,i),ai(i),f&512&&l!==null&&Bo(l,l.return),i.flags&32){var g=i.stateNode;try{ni(g,"")}catch(De){Kt(i,i.return,De)}}if(f&4&&(g=i.stateNode,g!=null)){var y=i.memoizedProps,b=l!==null?l.memoizedProps:y,I=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&Te(g,y),Tt(I,b);var X=Tt(I,y);for(b=0;b<F.length;b+=2){var fe=F[b],pe=F[b+1];fe==="style"?re(g,pe):fe==="dangerouslySetInnerHTML"?Fn(g,pe):fe==="children"?ni(g,pe):R(g,fe,pe,X)}switch(I){case"input":st(g,y);break;case"textarea":Wt(g,y);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var xe=y.value;xe!=null?yt(g,!!y.multiple,xe,!1):le!==!!y.multiple&&(y.defaultValue!=null?yt(g,!!y.multiple,y.defaultValue,!0):yt(g,!!y.multiple,y.multiple?[]:"",!1))}g[ul]=y}catch(De){Kt(i,i.return,De)}}break;case 6:if(jr(o,i),ai(i),f&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,y=i.memoizedProps;try{g.nodeValue=y}catch(De){Kt(i,i.return,De)}}break;case 3:if(jr(o,i),ai(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Za(o.containerInfo)}catch(De){Kt(i,i.return,De)}break;case 4:jr(o,i),ai(i);break;case 13:jr(o,i),ai(i),g=i.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Th=pt())),f&4&&qv(i);break;case 22:if(fe=l!==null&&l.memoizedState!==null,i.mode&1?(Pn=(X=Pn)||fe,jr(o,i),Pn=X):jr(o,i),ai(i),f&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!fe&&i.mode&1)for(Pe=i,fe=i.child;fe!==null;){for(pe=Pe=fe;Pe!==null;){switch(le=Pe,xe=le.child,le.tag){case 0:case 11:case 14:case 15:wl(4,le,le.return);break;case 1:Bo(le,le.return);var Oe=le.stateNode;if(typeof Oe.componentWillUnmount=="function"){f=le,l=le.return;try{o=f,Oe.props=o.memoizedProps,Oe.state=o.memoizedState,Oe.componentWillUnmount()}catch(De){Kt(f,l,De)}}break;case 5:Bo(le,le.return);break;case 22:if(le.memoizedState!==null){Xv(pe);continue}}xe!==null?(xe.return=le,Pe=xe):Xv(pe)}fe=fe.sibling}e:for(fe=null,pe=i;;){if(pe.tag===5){if(fe===null){fe=pe;try{g=pe.stateNode,X?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=pe.stateNode,F=pe.memoizedProps.style,b=F!=null&&F.hasOwnProperty("display")?F.display:null,I.style.display=K("display",b))}catch(De){Kt(i,i.return,De)}}}else if(pe.tag===6){if(fe===null)try{pe.stateNode.nodeValue=X?"":pe.memoizedProps}catch(De){Kt(i,i.return,De)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;fe===pe&&(fe=null),pe=pe.return}fe===pe&&(fe=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:jr(o,i),ai(i),f&4&&qv(i);break;case 21:break;default:jr(o,i),ai(i)}}function ai(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(zv(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ni(g,""),f.flags&=-33);var y=Wv(i);Eh(i,y,g);break;case 3:case 4:var b=f.stateNode.containerInfo,I=Wv(i);Sh(i,I,b);break;default:throw Error(t(161))}}catch(F){Kt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function lT(i,o,l){Pe=i,Yv(i)}function Yv(i,o,l){for(var f=(i.mode&1)!==0;Pe!==null;){var g=Pe,y=g.child;if(g.tag===22&&f){var b=g.memoizedState!==null||sc;if(!b){var I=g.alternate,F=I!==null&&I.memoizedState!==null||Pn;I=sc;var X=Pn;if(sc=b,(Pn=F)&&!X)for(Pe=g;Pe!==null;)b=Pe,F=b.child,b.tag===22&&b.memoizedState!==null?Qv(g):F!==null?(F.return=b,Pe=F):Qv(g);for(;y!==null;)Pe=y,Yv(y),y=y.sibling;Pe=g,sc=I,Pn=X}Kv(i)}else g.subtreeFlags&8772&&y!==null?(y.return=g,Pe=y):Kv(i)}}function Kv(i){for(;Pe!==null;){var o=Pe;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Pn||oc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Pn)if(l===null)f.componentDidMount();else{var g=o.elementType===o.type?l.memoizedProps:Ir(o.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Xy(o,y,f);break;case 3:var b=o.updateQueue;if(b!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Xy(o,b,l)}break;case 5:var I=o.stateNode;if(l===null&&o.flags&4){l=I;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var fe=X.memoizedState;if(fe!==null){var pe=fe.dehydrated;pe!==null&&Za(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Pn||o.flags&512&&wh(o)}catch(le){Kt(o,o.return,le)}}if(o===i){Pe=null;break}if(l=o.sibling,l!==null){l.return=o.return,Pe=l;break}Pe=o.return}}function Xv(i){for(;Pe!==null;){var o=Pe;if(o===i){Pe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Pe=l;break}Pe=o.return}}function Qv(i){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{oc(4,o)}catch(F){Kt(o,l,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(F){Kt(o,g,F)}}var y=o.return;try{wh(o)}catch(F){Kt(o,y,F)}break;case 5:var b=o.return;try{wh(o)}catch(F){Kt(o,b,F)}}}catch(F){Kt(o,o.return,F)}if(o===i){Pe=null;break}var I=o.sibling;if(I!==null){I.return=o.return,Pe=I;break}Pe=o.return}}var uT=Math.ceil,ac=N.ReactCurrentDispatcher,Mh=N.ReactCurrentOwner,vr=N.ReactCurrentBatchConfig,ht=0,pn=null,rn=null,En=0,ir=0,Vo=ts(0),dn=0,Sl=null,Hs=0,lc=0,bh=0,El=null,zn=null,Th=0,zo=1/0,ki=null,uc=!1,xh=null,as=null,cc=!1,ls=null,dc=0,Ml=0,Ch=null,fc=-1,hc=0;function On(){return ht&6?pt():fc!==-1?fc:fc=pt()}function us(i){return i.mode&1?ht&2&&En!==0?En&-En:qb.transition!==null?(hc===0&&(hc=Wg()),hc):(i=wt,i!==0||(i=window.event,i=i===void 0?16:Jg(i.type)),i):1}function Lr(i,o,l,f){if(50<Ml)throw Ml=0,Ch=null,Error(t(185));Ga(i,l,f),(!(ht&2)||i!==pn)&&(i===pn&&(!(ht&2)&&(lc|=l),dn===4&&cs(i,En)),Wn(i,f),l===1&&ht===0&&!(o.mode&1)&&(zo=pt()+500,Bu&&rs()))}function Wn(i,o){var l=i.callbackNode;qM(i,o);var f=Eu(i,i===pn?En:0);if(f===0)l!==null&&Si(l),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(l!=null&&Si(l),o===1)i.tag===0?Hb(Jv.bind(null,i)):Fy(Jv.bind(null,i)),Bb(function(){!(ht&6)&&rs()}),l=null;else{switch(Hg(f)){case 1:l=Ei;break;case 4:l=ri;break;case 16:l=Mi;break;case 536870912:l=ut;break;default:l=Mi}l=a1(l,Zv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Zv(i,o){if(fc=-1,hc=0,ht&6)throw Error(t(327));var l=i.callbackNode;if(Wo()&&i.callbackNode!==l)return null;var f=Eu(i,i===pn?En:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=pc(i,f);else{o=f;var g=ht;ht|=2;var y=t1();(pn!==i||En!==o)&&(ki=null,zo=pt()+500,Gs(i,o));do try{fT();break}catch(I){e1(i,I)}while(!0);Hf(),ac.current=y,ht=g,rn!==null?o=0:(pn=null,En=0,o=dn)}if(o!==0){if(o===2&&(g=af(i),g!==0&&(f=g,o=Ph(i,g))),o===1)throw l=Sl,Gs(i,0),cs(i,f),Wn(i,pt()),l;if(o===6)cs(i,f);else{if(g=i.current.alternate,!(f&30)&&!cT(g)&&(o=pc(i,f),o===2&&(y=af(i),y!==0&&(f=y,o=Ph(i,y))),o===1))throw l=Sl,Gs(i,0),cs(i,f),Wn(i,pt()),l;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Ys(i,zn,ki);break;case 3:if(cs(i,f),(f&130023424)===f&&(o=Th+500-pt(),10<o)){if(Eu(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){On(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=If(Ys.bind(null,i,zn,ki),o);break}Ys(i,zn,ki);break;case 4:if(cs(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var b=31-mt(f);y=1<<b,b=o[b],b>g&&(g=b),f&=~y}if(f=g,f=pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*uT(f/1960))-f,10<f){i.timeoutHandle=If(Ys.bind(null,i,zn,ki),f);break}Ys(i,zn,ki);break;case 5:Ys(i,zn,ki);break;default:throw Error(t(329))}}}return Wn(i,pt()),i.callbackNode===l?Zv.bind(null,i):null}function Ph(i,o){var l=El;return i.current.memoizedState.isDehydrated&&(Gs(i,o).flags|=256),i=pc(i,o),i!==2&&(o=zn,zn=l,o!==null&&Nh(o)),i}function Nh(i){zn===null?zn=i:zn.push.apply(zn,i)}function cT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],y=g.getSnapshot;g=g.value;try{if(!Or(y(),g))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function cs(i,o){for(o&=~bh,o&=~lc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-mt(o),f=1<<l;i[l]=-1,o&=~f}}function Jv(i){if(ht&6)throw Error(t(327));Wo();var o=Eu(i,0);if(!(o&1))return Wn(i,pt()),null;var l=pc(i,o);if(i.tag!==0&&l===2){var f=af(i);f!==0&&(o=f,l=Ph(i,f))}if(l===1)throw l=Sl,Gs(i,0),cs(i,o),Wn(i,pt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ys(i,zn,ki),Wn(i,pt()),null}function Ah(i,o){var l=ht;ht|=1;try{return i(o)}finally{ht=l,ht===0&&(zo=pt()+500,Bu&&rs())}}function qs(i){ls!==null&&ls.tag===0&&!(ht&6)&&Wo();var o=ht;ht|=1;var l=vr.transition,f=wt;try{if(vr.transition=null,wt=1,i)return i()}finally{wt=f,vr.transition=l,ht=o,!(ht&6)&&rs()}}function kh(){ir=Vo.current,jt(Vo)}function Gs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,Ub(l)),rn!==null)for(l=rn.return;l!==null;){var f=l;switch(Uf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&$u();break;case 3:$o(),jt(Un),jt(Tn),Jf();break;case 5:Qf(f);break;case 4:$o();break;case 13:jt(qt);break;case 19:jt(qt);break;case 10:qf(f.type._context);break;case 22:case 23:kh()}l=l.return}if(pn=i,rn=i=ds(i.current,null),En=ir=o,dn=0,Sl=null,bh=lc=Hs=0,zn=El=null,Vs!==null){for(o=0;o<Vs.length;o++)if(l=Vs[o],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,y=l.pending;if(y!==null){var b=y.next;y.next=g,f.next=b}l.pending=f}Vs=null}return i}function e1(i,o){do{var l=rn;try{if(Hf(),Qu.current=tc,Zu){for(var f=Gt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Zu=!1}if(Ws=0,hn=cn=Gt=null,ml=!1,gl=0,Mh.current=null,l===null||l.return===null){dn=1,Sl=o,rn=null;break}e:{var y=i,b=l.return,I=l,F=o;if(o=En,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,fe=I,pe=fe.tag;if(!(fe.mode&1)&&(pe===0||pe===11||pe===15)){var le=fe.alternate;le?(fe.updateQueue=le.updateQueue,fe.memoizedState=le.memoizedState,fe.lanes=le.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var xe=Tv(b);if(xe!==null){xe.flags&=-257,xv(xe,b,I,y,o),xe.mode&1&&bv(y,X,o),o=xe,F=X;var Oe=o.updateQueue;if(Oe===null){var De=new Set;De.add(F),o.updateQueue=De}else Oe.add(F);break e}else{if(!(o&1)){bv(y,X,o),Oh();break e}F=Error(t(426))}}else if($t&&I.mode&1){var Jt=Tv(b);if(Jt!==null){!(Jt.flags&65536)&&(Jt.flags|=256),xv(Jt,b,I,y,o),zf(Uo(F,I));break e}}y=F=Uo(F,I),dn!==4&&(dn=2),El===null?El=[y]:El.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=Ev(y,F,o);Ky(y,H);break e;case 1:I=F;var $=y.type,Y=y.stateNode;if(!(y.flags&128)&&(typeof $.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(as===null||!as.has(Y)))){y.flags|=65536,o&=-o,y.lanes|=o;var ye=Mv(y,I,o);Ky(y,ye);break e}}y=y.return}while(y!==null)}r1(l)}catch(Le){o=Le,rn===l&&l!==null&&(rn=l=l.return);continue}break}while(!0)}function t1(){var i=ac.current;return ac.current=tc,i===null?tc:i}function Oh(){(dn===0||dn===3||dn===2)&&(dn=4),pn===null||!(Hs&268435455)&&!(lc&268435455)||cs(pn,En)}function pc(i,o){var l=ht;ht|=2;var f=t1();(pn!==i||En!==o)&&(ki=null,Gs(i,o));do try{dT();break}catch(g){e1(i,g)}while(!0);if(Hf(),ht=l,ac.current=f,rn!==null)throw Error(t(261));return pn=null,En=0,dn}function dT(){for(;rn!==null;)n1(rn)}function fT(){for(;rn!==null&&!js();)n1(rn)}function n1(i){var o=o1(i.alternate,i,ir);i.memoizedProps=i.pendingProps,o===null?r1(i):rn=o,Mh.current=null}function r1(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=sT(l,o),l!==null){l.flags&=32767,rn=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dn=6,rn=null;return}}else if(l=iT(l,o,ir),l!==null){rn=l;return}if(o=o.sibling,o!==null){rn=o;return}rn=o=i}while(o!==null);dn===0&&(dn=5)}function Ys(i,o,l){var f=wt,g=vr.transition;try{vr.transition=null,wt=1,hT(i,o,l,f)}finally{vr.transition=g,wt=f}return null}function hT(i,o,l,f){do Wo();while(ls!==null);if(ht&6)throw Error(t(327));l=i.finishedWork;var g=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(GM(i,y),i===pn&&(rn=pn=null,En=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||cc||(cc=!0,a1(Mi,function(){return Wo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=vr.transition,vr.transition=null;var b=wt;wt=1;var I=ht;ht|=4,Mh.current=null,aT(i,l),Gv(l,i),Rb(Of),Tu=!!kf,Of=kf=null,i.current=l,lT(l),kr(),ht=I,wt=b,vr.transition=y}else i.current=l;if(cc&&(cc=!1,ls=i,dc=g),y=i.pendingLanes,y===0&&(as=null),Ls(l.stateNode),Wn(i,pt()),o!==null)for(f=i.onRecoverableError,l=0;l<o.length;l++)g=o[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(uc)throw uc=!1,i=xh,xh=null,i;return dc&1&&i.tag!==0&&Wo(),y=i.pendingLanes,y&1?i===Ch?Ml++:(Ml=0,Ch=i):Ml=0,rs(),null}function Wo(){if(ls!==null){var i=Hg(dc),o=vr.transition,l=wt;try{if(vr.transition=null,wt=16>i?16:i,ls===null)var f=!1;else{if(i=ls,ls=null,dc=0,ht&6)throw Error(t(331));var g=ht;for(ht|=4,Pe=i.current;Pe!==null;){var y=Pe,b=y.child;if(Pe.flags&16){var I=y.deletions;if(I!==null){for(var F=0;F<I.length;F++){var X=I[F];for(Pe=X;Pe!==null;){var fe=Pe;switch(fe.tag){case 0:case 11:case 15:wl(8,fe,y)}var pe=fe.child;if(pe!==null)pe.return=fe,Pe=pe;else for(;Pe!==null;){fe=Pe;var le=fe.sibling,xe=fe.return;if(Vv(fe),fe===X){Pe=null;break}if(le!==null){le.return=xe,Pe=le;break}Pe=xe}}}var Oe=y.alternate;if(Oe!==null){var De=Oe.child;if(De!==null){Oe.child=null;do{var Jt=De.sibling;De.sibling=null,De=Jt}while(De!==null)}}Pe=y}}if(y.subtreeFlags&2064&&b!==null)b.return=y,Pe=b;else e:for(;Pe!==null;){if(y=Pe,y.flags&2048)switch(y.tag){case 0:case 11:case 15:wl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,Pe=H;break e}Pe=y.return}}var $=i.current;for(Pe=$;Pe!==null;){b=Pe;var Y=b.child;if(b.subtreeFlags&2064&&Y!==null)Y.return=b,Pe=Y;else e:for(b=$;Pe!==null;){if(I=Pe,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:oc(9,I)}}catch(Le){Kt(I,I.return,Le)}if(I===b){Pe=null;break e}var ye=I.sibling;if(ye!==null){ye.return=I.return,Pe=ye;break e}Pe=I.return}}if(ht=g,rs(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Ct,i)}catch{}f=!0}return f}finally{wt=l,vr.transition=o}}return!1}function i1(i,o,l){o=Uo(l,o),o=Ev(i,o,1),i=ss(i,o,1),o=On(),i!==null&&(Ga(i,1,o),Wn(i,o))}function Kt(i,o,l){if(i.tag===3)i1(i,i,l);else for(;o!==null;){if(o.tag===3){i1(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(as===null||!as.has(f))){i=Uo(l,i),i=Mv(o,i,1),o=ss(o,i,1),i=On(),o!==null&&(Ga(o,1,i),Wn(o,i));break}}o=o.return}}function pT(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),o=On(),i.pingedLanes|=i.suspendedLanes&l,pn===i&&(En&l)===l&&(dn===4||dn===3&&(En&130023424)===En&&500>pt()-Th?Gs(i,0):bh|=l),Wn(i,o)}function s1(i,o){o===0&&(i.mode&1?(o=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):o=1);var l=On();i=Pi(i,o),i!==null&&(Ga(i,o,l),Wn(i,l))}function mT(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),s1(i,l)}function gT(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),s1(i,l)}var o1;o1=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Un.current)Vn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return Vn=!1,rT(i,o,l);Vn=!!(i.flags&131072)}else Vn=!1,$t&&o.flags&1048576&&$y(o,zu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;ic(i,o),i=o.pendingProps;var g=Oo(o,Tn.current);Fo(o,l),g=nh(null,o,f,i,g,l);var y=rh();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Bn(f)?(y=!0,Uu(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Kf(o),g.updater=nc,o.stateNode=g,g._reactInternals=o,uh(o,f,i,l),o=hh(null,o,f,!0,y,l)):(o.tag=0,$t&&y&&$f(o),kn(null,o,g,l),o=o.child),o;case 16:f=o.elementType;e:{switch(ic(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=vT(f),i=Ir(f,i),g){case 0:o=fh(null,o,f,i,l);break e;case 1:o=Ov(null,o,f,i,l);break e;case 11:o=Cv(null,o,f,i,l);break e;case 14:o=Pv(null,o,f,Ir(f.type,i),l);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ir(f,g),fh(i,o,f,g,l);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ir(f,g),Ov(i,o,f,g,l);case 3:e:{if(Rv(o),i===null)throw Error(t(387));f=o.pendingProps,y=o.memoizedState,g=y.element,Yy(i,o),Ku(o,f,null,l);var b=o.memoizedState;if(f=b.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=Uo(Error(t(423)),o),o=Iv(i,o,f,l,g);break e}else if(f!==g){g=Uo(Error(t(424)),o),o=Iv(i,o,f,l,g);break e}else for(rr=es(o.stateNode.containerInfo.firstChild),nr=o,$t=!0,Rr=null,l=qy(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Do(),f===g){o=Ai(i,o,l);break e}kn(i,o,f,l)}o=o.child}return o;case 5:return Qy(o),i===null&&Vf(o),f=o.type,g=o.pendingProps,y=i!==null?i.memoizedProps:null,b=g.children,Rf(f,g)?b=null:y!==null&&Rf(f,y)&&(o.flags|=32),kv(i,o),kn(i,o,b,l),o.child;case 6:return i===null&&Vf(o),null;case 13:return Dv(i,o,l);case 4:return Xf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=jo(o,null,f,l):kn(i,o,f,l),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ir(f,g),Cv(i,o,f,g,l);case 7:return kn(i,o,o.pendingProps,l),o.child;case 8:return kn(i,o,o.pendingProps.children,l),o.child;case 12:return kn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,y=o.memoizedProps,b=g.value,Nt(qu,f._currentValue),f._currentValue=b,y!==null)if(Or(y.value,b)){if(y.children===g.children&&!Un.current){o=Ai(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var I=y.dependencies;if(I!==null){b=y.child;for(var F=I.firstContext;F!==null;){if(F.context===f){if(y.tag===1){F=Ni(-1,l&-l),F.tag=2;var X=y.updateQueue;if(X!==null){X=X.shared;var fe=X.pending;fe===null?F.next=F:(F.next=fe.next,fe.next=F),X.pending=F}}y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),Gf(y.return,l,o),I.lanes|=l;break}F=F.next}}else if(y.tag===10)b=y.type===o.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(t(341));b.lanes|=l,I=b.alternate,I!==null&&(I.lanes|=l),Gf(b,l,o),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===o){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}kn(i,o,g.children,l),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Fo(o,l),g=gr(g),f=f(g),o.flags|=1,kn(i,o,f,l),o.child;case 14:return f=o.type,g=Ir(f,o.pendingProps),g=Ir(f.type,g),Pv(i,o,f,g,l);case 15:return Nv(i,o,o.type,o.pendingProps,l);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ir(f,g),ic(i,o),o.tag=1,Bn(f)?(i=!0,Uu(o)):i=!1,Fo(o,l),wv(o,f,g),uh(o,f,g,l),hh(null,o,f,!0,i,l);case 19:return Lv(i,o,l);case 22:return Av(i,o,l)}throw Error(t(156,o.tag))};function a1(i,o){return It(i,o)}function yT(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(i,o,l,f){return new yT(i,o,l,f)}function Rh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vT(i){if(typeof i=="function")return Rh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===he)return 14}return 2}function ds(i,o){var l=i.alternate;return l===null?(l=_r(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function mc(i,o,l,f,g,y){var b=2;if(f=i,typeof i=="function")Rh(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case T:return Ks(l.children,g,y,o);case A:b=8,g|=8;break;case U:return i=_r(12,l,o,g|2),i.elementType=U,i.lanes=y,i;case Z:return i=_r(13,l,o,g),i.elementType=Z,i.lanes=y,i;case ne:return i=_r(19,l,o,g),i.elementType=ne,i.lanes=y,i;case oe:return gc(l,g,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:b=10;break e;case V:b=9;break e;case B:b=11;break e;case he:b=14;break e;case se:b=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=_r(b,l,o,g),o.elementType=i,o.type=f,o.lanes=y,o}function Ks(i,o,l,f){return i=_r(7,i,f,o),i.lanes=l,i}function gc(i,o,l,f){return i=_r(22,i,f,o),i.elementType=oe,i.lanes=l,i.stateNode={isHidden:!1},i}function Ih(i,o,l){return i=_r(6,i,null,o),i.lanes=l,i}function Dh(i,o,l){return o=_r(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _T(i,o,l,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function jh(i,o,l,f,g,y,b,I,F){return i=new _T(i,o,l,I,F),o===1?(o=1,y===!0&&(o|=8)):o=0,y=_r(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(y),i}function wT(i,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:f==null?null:""+f,children:i,containerInfo:o,implementation:l}}function l1(i){if(!i)return ns;i=i._reactInternals;e:{if(Re(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Bn(l))return jy(i,l,o)}return o}function u1(i,o,l,f,g,y,b,I,F){return i=jh(l,f,!0,i,g,y,b,I,F),i.context=l1(null),l=i.current,f=On(),g=us(l),y=Ni(f,g),y.callback=o??null,ss(l,y,g),i.current.lanes=g,Ga(i,g,f),Wn(i,f),i}function yc(i,o,l,f){var g=o.current,y=On(),b=us(g);return l=l1(l),o.context===null?o.context=l:o.pendingContext=l,o=Ni(y,b),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=ss(g,o,b),i!==null&&(Lr(i,g,b,y),Yu(i,g,b)),b}function vc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function c1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Lh(i,o){c1(i,o),(i=i.alternate)&&c1(i,o)}function ST(){return null}var d1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Fh(i){this._internalRoot=i}_c.prototype.render=Fh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));yc(i,o,null,null)},_c.prototype.unmount=Fh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qs(function(){yc(null,i,null,null)}),o[bi]=null}};function _c(i){this._internalRoot=i}_c.prototype.unstable_scheduleHydration=function(i){if(i){var o=Yg();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Qi.length&&o!==0&&o<Qi[l].priority;l++);Qi.splice(l,0,i),l===0&&Qg(i)}};function $h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function f1(){}function ET(i,o,l,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var X=vc(b);y.call(X)}}var b=u1(o,f,i,0,null,!1,!1,"",f1);return i._reactRootContainer=b,i[bi]=b.current,al(i.nodeType===8?i.parentNode:i),qs(),b}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var I=f;f=function(){var X=vc(F);I.call(X)}}var F=jh(i,0,!1,null,null,!1,!1,"",f1);return i._reactRootContainer=F,i[bi]=F.current,al(i.nodeType===8?i.parentNode:i),qs(function(){yc(o,F,l,f)}),F}function Sc(i,o,l,f,g){var y=l._reactRootContainer;if(y){var b=y;if(typeof g=="function"){var I=g;g=function(){var F=vc(b);I.call(F)}}yc(o,b,i,g)}else b=ET(l,o,i,g,f);return vc(b)}qg=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=qa(o.pendingLanes);l!==0&&(uf(o,l|1),Wn(o,pt()),!(ht&6)&&(zo=pt()+500,rs()))}break;case 13:qs(function(){var f=Pi(i,1);if(f!==null){var g=On();Lr(f,i,1,g)}}),Lh(i,1)}},cf=function(i){if(i.tag===13){var o=Pi(i,134217728);if(o!==null){var l=On();Lr(o,i,134217728,l)}Lh(i,134217728)}},Gg=function(i){if(i.tag===13){var o=us(i),l=Pi(i,o);if(l!==null){var f=On();Lr(l,i,o,f)}Lh(i,o)}},Yg=function(){return wt},Kg=function(i,o){var l=wt;try{return wt=i,o()}finally{wt=l}},Se=function(i,o,l){switch(o){case"input":if(st(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var g=Fu(f);if(!g)throw Error(t(90));it(f),st(f,g)}}}break;case"textarea":Wt(i,l);break;case"select":o=l.value,o!=null&&yt(i,!!l.multiple,o,!1)}},xt=Ah,ln=qs;var MT={usingClientEntryPoint:!1,Events:[cl,Ao,Fu,Ze,vt,Ah]},bl={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bT={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=_t(i),i===null?null:i.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||ST,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Ct=Ec.inject(bT),wn=Ec}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,Hn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(o))throw Error(t(200));return wT(i,o,null,l)},Hn.createRoot=function(i,o){if(!$h(i))throw Error(t(299));var l=!1,f="",g=d1;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=jh(i,1,!1,null,null,l,!1,f,g),i[bi]=o.current,al(i.nodeType===8?i.parentNode:i),new Fh(o)},Hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=_t(o),i=i===null?null:i.stateNode,i},Hn.flushSync=function(i){return qs(i)},Hn.hydrate=function(i,o,l){if(!wc(o))throw Error(t(200));return Sc(null,i,o,!0,l)},Hn.hydrateRoot=function(i,o,l){if(!$h(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,g=!1,y="",b=d1;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),o=u1(o,null,i,1,l??null,g,!1,y,b),i[bi]=o.current,al(i),f)for(i=0;i<f.length;i++)l=f[i],g=l._getVersion,g=g(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,g]:o.mutableSourceEagerHydrationData.push(l,g);return new _c(o)},Hn.render=function(i,o,l){if(!wc(o))throw Error(t(200));return Sc(null,i,o,!1,l)},Hn.unmountComponentAtNode=function(i){if(!wc(i))throw Error(t(40));return i._reactRootContainer?(qs(function(){Sc(null,null,i,!1,function(){i._reactRootContainer=null,i[bi]=null})}),!0):!1},Hn.unstable_batchedUpdates=Ah,Hn.unstable_renderSubtreeIntoContainer=function(i,o,l,f){if(!wc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Sc(i,o,l,!1,f)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var E1;function Aw(){if(E1)return Vh.exports;E1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vh.exports=jT(),Vh.exports}var M1;function LT(){if(M1)return bc;M1=1;var n=Aw();return bc.createRoot=n.createRoot,bc.hydrateRoot=n.hydrateRoot,bc}var FT=LT();const $T=gi(FT);var Hh,b1;function UT(){if(b1)return Hh;b1=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var c,d,h;if(Array.isArray(a)){if(c=a.length,c!=u.length)return!1;for(d=c;d--!==0;)if(!s(a[d],u[d]))return!1;return!0}var p;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(p=a.entries();!(d=p.next()).done;)if(!u.has(d.value[0]))return!1;for(p=a.entries();!(d=p.next()).done;)if(!s(d.value[1],u.get(d.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(p=a.entries();!(d=p.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(c=a.length,c!=u.length)return!1;for(d=c;d--!==0;)if(a[d]!==u[d])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(h=Object.keys(a),c=h.length,c!==Object.keys(u).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,h[d]))return!1;if(n&&a instanceof Element)return!1;for(d=c;d--!==0;)if(!((h[d]==="_owner"||h[d]==="__v"||h[d]==="__o")&&a.$$typeof)&&!s(a[h[d]],u[h[d]]))return!1;return!0}return a!==a&&u!==u}return Hh=function(u,c){try{return s(u,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Hh}var BT=UT();const VT=gi(BT);var qh,T1;function zT(){if(T1)return qh;T1=1;var n=function(e,t,r,s,a,u,c,d){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,s,a,u,c,d],m=0;h=new Error(t.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return qh=n,qh}var WT=zT();const x1=gi(WT);var Gh,C1;function HT(){return C1||(C1=1,Gh=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),c=Object.keys(t);if(u.length!==c.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(t),h=0;h<u.length;h++){var p=u[h];if(!d(p))return!1;var m=e[p],v=t[p];if(a=r?r.call(s,m,v,p):void 0,a===!1||a===void 0&&m!==v)return!1}return!0}),Gh}var qT=HT();const GT=gi(qT);var kw=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(kw||{}),Yh={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},P1=Object.values(kw),lm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},YT=Object.entries(lm).reduce((n,[e,t])=>(n[t]=e,n),{}),Wr="data-rh",ra={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ia=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},KT=n=>{let e=ia(n,"title");const t=ia(n,ra.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=ia(n,ra.DEFAULT_TITLE);return e||r||void 0},XT=n=>ia(n,ra.ON_CHANGE_CLIENT_STATE)||(()=>{}),Kh=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),QT=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const c=s[a].toLowerCase();if(n.indexOf(c)!==-1&&r[c])return t.concat(r)}}return t},[]),ZT=n=>console&&typeof console.warn=="function"&&console.warn(n),xl=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&ZT(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(d=>{let h;const p=Object.keys(d);for(let v=0;v<p.length;v+=1){const _=p[v],w=_.toLowerCase();e.indexOf(w)!==-1&&!(h==="rel"&&d[h].toLowerCase()==="canonical")&&!(w==="rel"&&d[w].toLowerCase()==="stylesheet")&&(h=w),e.indexOf(_)!==-1&&(_==="innerHTML"||_==="cssText"||_==="itemprop")&&(h=_)}if(!h||!d[h])return!1;const m=d[h].toLowerCase();return r[h]||(r[h]={}),u[h]||(u[h]={}),r[h][m]?!1:(u[h][m]=!0,!0)}).reverse().forEach(d=>s.push(d));const c=Object.keys(u);for(let d=0;d<c.length;d+=1){const h=c[d],p={...r[h],...u[h]};r[h]=p}return s},[]).reverse()},JT=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},ex=n=>({baseTag:QT(["href"],n),bodyAttributes:Kh("bodyAttributes",n),defer:ia(n,ra.DEFER),encode:ia(n,ra.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Kh("htmlAttributes",n),linkTags:xl("link",["rel","href"],n),metaTags:xl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:xl("noscript",["innerHTML"],n),onChangeClientState:XT(n),scriptTags:xl("script",["src","innerHTML"],n),styleTags:xl("style",["cssText"],n),title:KT(n),titleAttributes:Kh("titleAttributes",n),prioritizeSeoTags:JT(n,ra.PRIORITIZE_SEO_TAGS)}),Ow=n=>Array.isArray(n)?n.join(""):n,tx=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Xh=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(tx(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},N1=(n,e)=>({...n,[e]:void 0}),nx=["noscript","script","style"],Tp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Rw=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),rx=(n,e,t,r)=>{const s=Rw(t),a=Ow(e);return s?`<${n} ${Wr}="true" ${s}>${Tp(a,r)}</${n}>`:`<${n} ${Wr}="true">${Tp(a,r)}</${n}>`},ix=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,p)=>{const m=typeof a[p]>"u"?p:`${p}="${Tp(a[p],t)}"`;return h?`${h} ${m}`:m},""),c=a.innerHTML||a.cssText||"",d=nx.indexOf(n)===-1;return`${r}<${n} ${Wr}="true" ${u}${d?"/>":`>${c}</${n}>`}`},""),Iw=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=lm[r];return t[s||r]=n[r],t},e),sx=(n,e,t)=>{const r={key:e,[Wr]:!0},s=Iw(t,r);return[Ot.createElement("title",s,e)]},Fc=(n,e)=>e.map((t,r)=>{const s={key:r,[Wr]:!0};return Object.keys(t).forEach(a=>{const c=lm[a]||a;if(c==="innerHTML"||c==="cssText"){const d=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:d}}else s[c]=t[a]}),Ot.createElement(n,s)}),Sr=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>sx(n,e.title,e.titleAttributes),toString:()=>rx(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Iw(e),toString:()=>Rw(e)};default:return{toComponent:()=>Fc(n,e),toString:()=>ix(n,e,t)}}},ox=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=Xh(n,Yh.meta),a=Xh(e,Yh.link),u=Xh(t,Yh.script);return{priorityMethods:{toComponent:()=>[...Fc("meta",s.priority),...Fc("link",a.priority),...Fc("script",u.priority)],toString:()=>`${Sr("meta",s.priority,r)} ${Sr("link",a.priority,r)} ${Sr("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},ax=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:c="",titleAttributes:d,prioritizeSeoTags:h}=n;let{linkTags:p,metaTags:m,scriptTags:v}=n,_={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:_,linkTags:p,metaTags:m,scriptTags:v}=ox(n)),{priority:_,base:Sr("base",e,r),bodyAttributes:Sr("bodyAttributes",t,r),htmlAttributes:Sr("htmlAttributes",s,r),link:Sr("link",p,r),meta:Sr("meta",m,r),noscript:Sr("noscript",a,r),script:Sr("script",v,r),style:Sr("style",u,r),title:Sr("title",{title:c,titleAttributes:d},r)}},xp=ax,Tc=[],Dw=!!(typeof window<"u"&&window.document&&window.document.createElement),Cp=class{constructor(n,e){Fr(this,"instances",[]);Fr(this,"canUseDOM",Dw);Fr(this,"context");Fr(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Tc:this.instances,add:n=>{(this.canUseDOM?Tc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Tc:this.instances).indexOf(n);(this.canUseDOM?Tc:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=xp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},lx={},jw=Ot.createContext(lx),no,Lw=(no=class extends M.Component{constructor(t){super(t);Fr(this,"helmetData");this.helmetData=new Cp(this.props.context||{},no.canUseDOM)}render(){return Ot.createElement(jw.Provider,{value:this.helmetData.value},this.props.children)}},Fr(no,"canUseDOM",Dw),no),Ho=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Wr}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(c=>{const d=document.createElement(n);for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h))if(h==="innerHTML")d.innerHTML=c.innerHTML;else if(h==="cssText")d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{const p=h,m=typeof c[p]>"u"?"":c[p];d.setAttribute(h,m)}d.setAttribute(Wr,"true"),s.some((h,p)=>(u=p,d.isEqualNode(h)))?s.splice(u,1):a.push(d)}),s.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),a.forEach(c=>t.appendChild(c)),{oldTags:s,newTags:a}},Pp=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Wr),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const c of u){const d=e[c]||"";t.getAttribute(c)!==d&&t.setAttribute(c,d),s.indexOf(c)===-1&&s.push(c);const h=a.indexOf(c);h!==-1&&a.splice(h,1)}for(let c=a.length-1;c>=0;c-=1)t.removeAttribute(a[c]);s.length===a.length?t.removeAttribute(Wr):t.getAttribute(Wr)!==u.join(",")&&t.setAttribute(Wr,u.join(","))},ux=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=Ow(n)),Pp("title",e)},A1=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:c,onChangeClientState:d,scriptTags:h,styleTags:p,title:m,titleAttributes:v}=n;Pp("body",r),Pp("html",s),ux(m,v);const _={baseTag:Ho("base",t),linkTags:Ho("link",a),metaTags:Ho("meta",u),noscriptTags:Ho("noscript",c),scriptTags:Ho("script",h),styleTags:Ho("style",p)},w={},E={};Object.keys(_).forEach(S=>{const{newTags:P,oldTags:O}=_[S];P.length&&(w[S]=P),O.length&&(E[S]=_[S].oldTags)}),e&&e(),d(n,w,E)},Cl=null,cx=n=>{Cl&&cancelAnimationFrame(Cl),n.defer?Cl=requestAnimationFrame(()=>{A1(n,()=>{Cl=null})}):(A1(n),Cl=null)},dx=cx,k1=class extends M.Component{constructor(){super(...arguments);Fr(this,"rendered",!1)}shouldComponentUpdate(e){return!GT(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const s=ex(e.get().map(a=>{const u={...a.props};return delete u.context,u}));Lw.canUseDOM?dx(s):xp&&(r=xp(s)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},bp,fx=(bp=class extends M.Component{shouldComponentUpdate(n){return!VT(N1(this.props,"helmetData"),N1(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return x1(P1.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${P1.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),x1(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Ot.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((d,h)=>(d[YT[h]||h]=a[h],d),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,s),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof Cp)){const s=r;r=new Cp(s.context,!0),delete t.helmetData}return r?Ot.createElement(k1,{...t,context:r.value}):Ot.createElement(jw.Consumer,null,s=>Ot.createElement(k1,{...t,context:s}))}},Fr(bp,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),bp),Fw=Aw();const Qs=gi(Fw),hx=Nw({__proto__:null,default:Qs},[Fw]);/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kt.apply(this,arguments)}var At;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(At||(At={}));const O1="popstate";function $w(n){n===void 0&&(n={});let{initialEntries:e=["/"],initialIndex:t,v5Compat:r=!1}=n,s;s=e.map((_,w)=>p(_,typeof _=="string"?null:_.state,w===0?"default":void 0));let a=d(t??s.length-1),u=At.Pop,c=null;function d(_){return Math.min(Math.max(_,0),s.length-1)}function h(){return s[a]}function p(_,w,E){w===void 0&&(w=null);let S=ao(s?h().pathname:"/",_,w,E);return Ui(S.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(_)),S}function m(_){return typeof _=="string"?_:Gr(_)}return{get index(){return a},get action(){return u},get location(){return h()},createHref:m,createURL(_){return new URL(m(_),"http://localhost")},encodeLocation(_){let w=typeof _=="string"?Nr(_):_;return{pathname:w.pathname||"",search:w.search||"",hash:w.hash||""}},push(_,w){u=At.Push;let E=p(_,w);a+=1,s.splice(a,s.length,E),r&&c&&c({action:u,location:E,delta:1})},replace(_,w){u=At.Replace;let E=p(_,w);s[a]=E,r&&c&&c({action:u,location:E,delta:0})},go(_){u=At.Pop;let w=d(a+_),E=s[w];a=w,c&&c({action:u,location:E,delta:_})},listen(_){return c=_,()=>{c=null}}}}function Uw(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:u,hash:c}=r.location;return ao("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Gr(s)}return Vw(e,t,null,n)}function Bw(n){n===void 0&&(n={});function e(s,a){let{pathname:u="/",search:c="",hash:d=""}=Nr(s.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ao("",{pathname:u,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let u=s.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let d=s.location.href,h=d.indexOf("#");c=h===-1?d:d.slice(0,h)}return c+"#"+(typeof a=="string"?a:Gr(a))}function r(s,a){Ui(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Vw(e,t,r,n)}function $e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ui(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function px(){return Math.random().toString(36).substr(2,8)}function R1(n,e){return{usr:n.state,key:n.key,idx:e}}function ao(n,e,t,r){return t===void 0&&(t=null),kt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Nr(e):e,{state:t,key:e&&e.key||r||px()})}function Gr(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Vw(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,c=At.Pop,d=null,h=p();h==null&&(h=0,u.replaceState(kt({},u.state,{idx:h}),""));function p(){return(u.state||{idx:null}).idx}function m(){c=At.Pop;let S=p(),P=S==null?null:S-h;h=S,d&&d({action:c,location:E.location,delta:P})}function v(S,P){c=At.Push;let O=ao(E.location,S,P);t&&t(O,S),h=p()+1;let R=R1(O,h),N=E.createHref(O);try{u.pushState(R,"",N)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(N)}a&&d&&d({action:c,location:E.location,delta:1})}function _(S,P){c=At.Replace;let O=ao(E.location,S,P);t&&t(O,S),h=p();let R=R1(O,h),N=E.createHref(O);u.replaceState(R,"",N),a&&d&&d({action:c,location:E.location,delta:0})}function w(S){let P=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof S=="string"?S:Gr(S);return O=O.replace(/ $/,"%20"),$e(P,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,P)}let E={get action(){return c},get location(){return n(s,u)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(O1,m),d=S,()=>{s.removeEventListener(O1,m),d=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let P=w(S);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:_,go(S){return u.go(S)}};return E}var St;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(St||(St={}));const mx=new Set(["lazy","caseSensitive","path","id","index","children"]);function gx(n){return n.index===!0}function Kc(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((s,a)=>{let u=[...t,String(a)],c=typeof s.id=="string"?s.id:u.join("-");if($e(s.index!==!0||!s.children,"Cannot specify children on an index route"),$e(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),gx(s)){let d=kt({},s,e(s),{id:c});return r[c]=d,d}else{let d=kt({},s,e(s),{id:c,children:void 0});return r[c]=d,s.children&&(d.children=Kc(s.children,e,u,r)),d}})}function ys(n,e,t){return t===void 0&&(t="/"),$c(n,e,t,!1)}function $c(n,e,t,r){let s=typeof e=="string"?Nr(e):e,a=Zn(s.pathname||"/",t);if(a==null)return null;let u=Ww(n);yx(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=qw(a);c=xx(u[d],h,r)}return c}function zw(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function Ww(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,u,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&($e(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=ci([r,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&($e(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Ww(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:bx(h,a.index),routesMeta:p})};return n.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,u);else for(let d of Hw(a.path))s(a,u,d)}),e}function Hw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Hw(r.join("/")),c=[];return c.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...u),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function yx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Tx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const vx=/^:[\w-]+$/,_x=3,wx=2,Sx=1,Ex=10,Mx=-2,I1=n=>n==="*";function bx(n,e){let t=n.split("/"),r=t.length;return t.some(I1)&&(r+=Mx),e&&(r+=wx),t.filter(s=>!I1(s)).reduce((s,a)=>s+(vx.test(a)?_x:a===""?Sx:Ex),r)}function Tx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function xx(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},a="/",u=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=ua({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!m&&h&&t&&!r[r.length-1].route.index&&(m=ua({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),u.push({params:s,pathname:ci([a,m.pathname]),pathnameBase:Ax(ci([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=ci([a,m.pathnameBase]))}return u}function Cx(n,e){e===void 0&&(e={});let t=n;t.endsWith("*")&&t!=="*"&&!t.endsWith("/*")&&(Ui(!1,'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".')),t=t.replace(/\*$/,"/*"));const r=t.startsWith("/")?"/":"",s=u=>u==null?"":typeof u=="string"?u:String(u),a=t.split(/\/+/).map((u,c,d)=>{if(c===d.length-1&&u==="*")return s(e["*"]);const p=u.match(/^:([\w-]+)(\??)$/);if(p){const[,m,v]=p;let _=e[m];return $e(v==="?"||_!=null,'Missing ":'+m+'" param'),s(_)}return u.replace(/\?$/g,"")}).filter(u=>!!u);return r+a.join("/")}function ua(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Px(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:v,isOptional:_}=p;if(v==="*"){let E=c[m]||"";u=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const w=c[m];return _&&!w?h[v]=void 0:h[v]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:n}}function Px(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Gw(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Nr(n):n;return{pathname:t?t.startsWith("/")?t:Nx(t,e):e,search:kx(r),hash:Ox(s)}}function Nx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qh(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _d(n,e){let t=Yw(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function wd(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Nr(n):(s=kt({},n),$e(!s.pathname||!s.pathname.includes("?"),Qh("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),Qh("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),Qh("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,c;if(u==null)c=t;else{let m=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=Gw(s,c),h=u&&u!=="/"&&u.endsWith("/"),p=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const ci=n=>n.join("/").replace(/\/\/+/g,"/"),Ax=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ox=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Rx=function(e,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t,s=new Headers(r.headers);return s.has("Content-Type")||s.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),kt({},r,{headers:s}))};class Xc extends Error{}class Ix{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],$e(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,u)=>r=u),this.controller=new AbortController;let s=()=>r(new Xc("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",s),this.controller.signal.addEventListener("abort",s),this.data=Object.entries(e).reduce((a,u)=>{let[c,d]=u;return Object.assign(a,{[c]:this.trackPromise(c,d)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([t,this.abortPromise]).then(s=>this.onSettle(r,e,void 0,s),s=>this.onSettle(r,e,s));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,s){if(this.controller.signal.aborted&&r instanceof Xc)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),r===void 0&&s===void 0){let a=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>a}),this.emit(!1,t),Promise.reject(a)}return s===void 0?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,t),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>s}),this.emit(!1,t),s)}emit(e,t){this.subscribers.forEach(r=>r(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(s=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&s(a)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return $e(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,s]=t;return Object.assign(e,{[r]:jx(s)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Dx(n){return n instanceof Promise&&n._tracked===!0}function jx(n){if(!Dx(n))return n;if(n._error)throw n._error;return n._data}const Lx=function(e,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t;return new Ix(e,r)},um=function(e,t){t===void 0&&(t=302);let r=t;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let s=new Headers(r.headers);return s.set("Location",e),new Response(null,kt({},r,{headers:s}))},Fx=(n,e)=>{let t=um(n,e);return t.headers.set("X-Remix-Reload-Document","true"),t},$x=(n,e)=>{let t=um(n,e);return t.headers.set("X-Remix-Replace","true"),t};class Ul{constructor(e,t,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ca(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Kw=["post","put","patch","delete"],Ux=new Set(Kw),Bx=["get",...Kw],Vx=new Set(Bx),zx=new Set([301,302,303,307,308]),Wx=new Set([307,308]),Zh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Qw="remix-router-transitions";function dm(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;$e(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let L=n.detectErrorBoundary;s=z=>({hasErrorBoundary:L(z)})}else s=Hx;let a={},u=Kc(n.routes,s,void 0,a),c,d=n.basename||"/",h=n.dataStrategy||Kx,p=n.patchRoutesOnNavigation,m=kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),v=null,_=new Set,w=null,E=null,S=null,P=n.hydrationData!=null,O=ys(u,n.history.location,d),R=!1,N=null;if(O==null&&!p){let L=qn(404,{pathname:n.history.location.pathname}),{matches:z,route:J}=H1(u);O=z,N={[J.id]:L}}O&&!n.hydrationData&&ln(O,u,n.history.location.pathname).active&&(O=null);let x;if(O)if(O.some(L=>L.route.lazy))x=!1;else if(!O.some(L=>L.route.loader))x=!0;else if(m.v7_partialHydration){let L=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let J=O.findIndex(ae=>z[ae.route.id]!==void 0);x=O.slice(0,J+1).every(ae=>!Ap(ae.route,L,z))}else x=O.every(J=>!Ap(J.route,L,z))}else x=n.hydrationData!=null;else if(x=!1,O=[],m.v7_partialHydration){let L=ln(null,u,n.history.location.pathname);L.active&&L.matches&&(R=!0,O=L.matches)}let k,T={historyAction:n.history.action,location:n.history.location,matches:O,initialized:x,navigation:Zh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||N,fetchers:new Map,blockers:new Map},A=At.Pop,U=!1,j,V=!1,B=new Map,Z=null,ne=!1,he=!1,se=[],oe=new Set,q=new Map,te=0,Q=-1,D=new Map,G=new Set,ee=new Map,ge=new Map,ue=new Set,me=new Map,Ie=new Map,ce;function We(){if(v=n.history.listen(L=>{let{action:z,location:J,delta:ae}=L;if(ce){ce(),ce=void 0;return}Ui(Ie.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Me=Se({currentLocation:T.location,nextLocation:J,historyAction:z});if(Me&&ae!=null){let je=new Promise(Ve=>{ce=Ve});n.history.go(ae*-1),qe(Me,{state:"blocked",location:J,proceed(){qe(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),je.then(()=>n.history.go(ae))},reset(){let Ve=new Map(T.blockers);Ve.set(Me,Qo),it({blockers:Ve})}});return}return Te(z,J)}),t){uC(e,B);let L=()=>cC(e,B);e.addEventListener("pagehide",L),Z=()=>e.removeEventListener("pagehide",L)}return T.initialized||Te(At.Pop,T.location,{initialHydration:!0}),k}function ct(){v&&v(),Z&&Z(),_.clear(),j&&j.abort(),T.fetchers.forEach((L,z)=>$n(z)),T.blockers.forEach((L,z)=>Pt(z))}function ft(L){return _.add(L),()=>_.delete(L)}function it(L,z){z===void 0&&(z={}),T=kt({},T,L);let J=[],ae=[];m.v7_fetcherPersist&&T.fetchers.forEach((Me,je)=>{Me.state==="idle"&&(ue.has(je)?ae.push(je):J.push(je))}),ue.forEach(Me=>{!T.fetchers.has(Me)&&!q.has(Me)&&ae.push(Me)}),[..._].forEach(Me=>Me(T,{deletedFetchers:ae,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),m.v7_fetcherPersist?(J.forEach(Me=>T.fetchers.delete(Me)),ae.forEach(Me=>$n(Me))):ae.forEach(Me=>ue.delete(Me))}function bt(L,z,J){var ae,Me;let{flushSync:je}=J===void 0?{}:J,Ve=T.actionData!=null&&T.navigation.formMethod!=null&&Ur(T.navigation.formMethod)&&T.navigation.state==="loading"&&((ae=L.state)==null?void 0:ae._isRedirect)!==!0,Ae;z.actionData?Object.keys(z.actionData).length>0?Ae=z.actionData:Ae=null:Ve?Ae=T.actionData:Ae=null;let ke=z.loaderData?z1(T.loaderData,z.loaderData,z.matches||[],z.errors):T.loaderData,Ce=T.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((ot,un)=>Ce.set(un,Qo)));let Re=U===!0||T.navigation.formMethod!=null&&Ur(T.navigation.formMethod)&&((Me=L.state)==null?void 0:Me._isRedirect)!==!0;c&&(u=c,c=void 0),ne||A===At.Pop||(A===At.Push?n.history.push(L,L.state):A===At.Replace&&n.history.replace(L,L.state));let tt;if(A===At.Pop){let ot=B.get(T.location.pathname);ot&&ot.has(L.pathname)?tt={currentLocation:T.location,nextLocation:L}:B.has(L.pathname)&&(tt={currentLocation:L,nextLocation:T.location})}else if(V){let ot=B.get(T.location.pathname);ot?ot.add(L.pathname):(ot=new Set([L.pathname]),B.set(T.location.pathname,ot)),tt={currentLocation:T.location,nextLocation:L}}it(kt({},z,{actionData:Ae,loaderData:ke,historyAction:A,location:L,initialized:!0,navigation:Zh,revalidation:"idle",restoreScrollPosition:xt(L,z.matches||T.matches),preventScrollReset:Re,blockers:Ce}),{viewTransitionOpts:tt,flushSync:je===!0}),A=At.Pop,U=!1,V=!1,ne=!1,he=!1,se=[]}async function nn(L,z){if(typeof L=="number"){n.history.go(L);return}let J=Np(T.location,T.matches,d,m.v7_prependBasename,L,m.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ae,submission:Me,error:je}=D1(m.v7_normalizeFormMethod,!1,J,z),Ve=T.location,Ae=ao(T.location,ae,z&&z.state);Ae=kt({},Ae,n.history.encodeLocation(Ae));let ke=z&&z.replace!=null?z.replace:void 0,Ce=At.Push;ke===!0?Ce=At.Replace:ke===!1||Me!=null&&Ur(Me.formMethod)&&Me.formAction===T.location.pathname+T.location.search&&(Ce=At.Replace);let Re=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,tt=(z&&z.flushSync)===!0,ot=Se({currentLocation:Ve,nextLocation:Ae,historyAction:Ce});if(ot){qe(ot,{state:"blocked",location:Ae,proceed(){qe(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),nn(L,z)},reset(){let un=new Map(T.blockers);un.set(ot,Qo),it({blockers:un})}});return}return await Te(Ce,Ae,{submission:Me,pendingError:je,preventScrollReset:Re,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:tt})}function de(){if(Ht(),it({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Te(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Te(A||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:V===!0})}}async function Te(L,z,J){j&&j.abort(),j=null,A=L,ne=(J&&J.startUninterruptedRevalidation)===!0,vt(T.location,T.matches),U=(J&&J.preventScrollReset)===!0,V=(J&&J.enableViewTransition)===!0;let ae=c||u,Me=J&&J.overrideNavigation,je=J!=null&&J.initialHydration&&T.matches&&T.matches.length>0&&!R?T.matches:ys(ae,z,d),Ve=(J&&J.flushSync)===!0,Ae=ln(je,ae,z.pathname);if(Ae.active&&Ae.matches&&(je=Ae.matches),!je){let{error:_t,notFoundMatches:dt,route:It}=Ee(z.pathname);bt(z,{matches:dt,loaderData:{},errors:{[It.id]:_t}},{flushSync:Ve});return}if(T.initialized&&!he&&tC(T.location,z)&&!(J&&J.submission&&Ur(J.submission.formMethod))){bt(z,{matches:je},{flushSync:Ve});return}j=new AbortController;let ke=qo(n.history,z,j.signal,J&&J.submission),Ce;if(J&&J.pendingError)Ce=[Xs(je).route.id,{type:St.error,error:J.pendingError}];else if(J&&J.submission&&Ur(J.submission.formMethod)){let _t=await st(ke,z,J.submission,je,Ae.active,{replace:J.replace,flushSync:Ve});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[dt,It]=_t.pendingActionResult;if(ar(It)&&ca(It.error)&&It.error.status===404){j=null,bt(z,{matches:_t.matches,loaderData:{},errors:{[dt]:It.error}});return}}je=_t.matches||je,Ce=_t.pendingActionResult,Me=Jh(z,J.submission),Ve=!1,Ae.active=!1,ke=qo(n.history,ke.url,ke.signal)}let{shortCircuited:Re,matches:tt,loaderData:ot,errors:un}=await lt(ke,z,je,Ae.active,Me,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Ve,Ce);Re||(j=null,bt(z,kt({matches:tt||je},W1(Ce),{loaderData:ot,errors:un})))}async function st(L,z,J,ae,Me,je){je===void 0&&(je={}),Ht();let Ve=aC(z,J);if(it({navigation:Ve},{flushSync:je.flushSync===!0}),Me){let Ce=await Ar(ae,z.pathname,L.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Re=Xs(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Re,{type:St.error,error:Ce.error}]}}else if(Ce.matches)ae=Ce.matches;else{let{notFoundMatches:Re,error:tt,route:ot}=Ee(z.pathname);return{matches:Re,pendingActionResult:[ot.id,{type:St.error,error:tt}]}}}let Ae,ke=Rl(ae,z);if(!ke.route.action&&!ke.route.lazy)Ae={type:St.error,error:qn(405,{method:L.method,pathname:z.pathname,routeId:ke.route.id})};else if(Ae=(await _n("action",T,L,[ke],ae,null))[ke.route.id],L.signal.aborted)return{shortCircuited:!0};if(Zs(Ae)){let Ce;return je&&je.replace!=null?Ce=je.replace:Ce=U1(Ae.response.headers.get("Location"),new URL(L.url),d)===T.location.pathname+T.location.search,await Wt(L,Ae,!0,{submission:J,replace:Ce}),{shortCircuited:!0}}if(vs(Ae))throw qn(400,{type:"defer-action"});if(ar(Ae)){let Ce=Xs(ae,ke.route.id);return(je&&je.replace)!==!0&&(A=At.Push),{matches:ae,pendingActionResult:[Ce.route.id,Ae]}}return{matches:ae,pendingActionResult:[ke.route.id,Ae]}}async function lt(L,z,J,ae,Me,je,Ve,Ae,ke,Ce,Re){let tt=Me||Jh(z,je),ot=je||Ve||G1(tt),un=!ne&&(!m.v7_partialHydration||!ke);if(ae){if(un){let Ct=Ge(Re);it(kt({navigation:tt},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Ce})}let ut=await Ar(J,z.pathname,L.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let Ct=Xs(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Ct]:ut.error}}}else if(ut.matches)J=ut.matches;else{let{error:Ct,notFoundMatches:wn,route:Ls}=Ee(z.pathname);return{matches:wn,loaderData:{},errors:{[Ls.id]:Ct}}}}let _t=c||u,[dt,It]=L1(n.history,T,J,ot,z,m.v7_partialHydration&&ke===!0,m.v7_skipActionErrorRevalidation,he,se,oe,ue,ee,G,_t,d,Re);if(be(ut=>!(J&&J.some(Ct=>Ct.route.id===ut))||dt&&dt.some(Ct=>Ct.route.id===ut)),Q=++te,dt.length===0&&It.length===0){let ut=we();return bt(z,kt({matches:J,loaderData:{},errors:Re&&ar(Re[1])?{[Re[0]]:Re[1].error}:null},W1(Re),ut?{fetchers:new Map(T.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(un){let ut={};if(!ae){ut.navigation=tt;let Ct=Ge(Re);Ct!==void 0&&(ut.actionData=Ct)}It.length>0&&(ut.fetchers=Ye(It)),it(ut,{flushSync:Ce})}It.forEach(ut=>{K(ut.key),ut.controller&&q.set(ut.key,ut.controller)});let Si=()=>It.forEach(ut=>K(ut.key));j&&j.signal.addEventListener("abort",Si);let{loaderResults:js,fetcherResults:kr}=await Ke(T,J,dt,It,L);if(L.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Si),It.forEach(ut=>q.delete(ut.key));let pt=xc(js);if(pt)return await Wt(L,pt.result,!0,{replace:Ae}),{shortCircuited:!0};if(pt=xc(kr),pt)return G.add(pt.key),await Wt(L,pt.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Ha,errors:Ei}=V1(T,J,js,Re,It,kr,me);me.forEach((ut,Ct)=>{ut.subscribe(wn=>{(wn||ut.done)&&me.delete(Ct)})}),m.v7_partialHydration&&ke&&T.errors&&(Ei=kt({},T.errors,Ei));let ri=we(),Mi=Fe(Q),Eo=ri||Mi||It.length>0;return kt({matches:J,loaderData:Ha,errors:Ei},Eo?{fetchers:new Map(T.fetchers)}:{})}function Ge(L){if(L&&!ar(L[1]))return{[L[0]]:L[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Ye(L){return L.forEach(z=>{let J=T.fetchers.get(z.key),ae=Pl(void 0,J?J.data:void 0);T.fetchers.set(z.key,ae)}),new Map(T.fetchers)}function yt(L,z,J,ae){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K(L);let Me=(ae&&ae.flushSync)===!0,je=c||u,Ve=Np(T.location,T.matches,d,m.v7_prependBasename,J,m.v7_relativeSplatPath,z,ae==null?void 0:ae.relative),Ae=ys(je,Ve,d),ke=ln(Ae,je,Ve);if(ke.active&&ke.matches&&(Ae=ke.matches),!Ae){Fn(L,z,qn(404,{pathname:Ve}),{flushSync:Me});return}let{path:Ce,submission:Re,error:tt}=D1(m.v7_normalizeFormMethod,!0,Ve,ae);if(tt){Fn(L,z,tt,{flushSync:Me});return}let ot=Rl(Ae,Ce),un=(ae&&ae.preventScrollReset)===!0;if(Re&&Ur(Re.formMethod)){zt(L,z,Ce,ot,Ae,ke.active,Me,un,Re);return}ee.set(L,{routeId:z,path:Ce}),vn(L,z,Ce,ot,Ae,ke.active,Me,un,Re)}async function zt(L,z,J,ae,Me,je,Ve,Ae,ke){Ht(),ee.delete(L);function Ce(mt){if(!mt.route.action&&!mt.route.lazy){let Gi=qn(405,{method:ke.formMethod,pathname:J,routeId:z});return Fn(L,z,Gi,{flushSync:Ve}),!0}return!1}if(!je&&Ce(ae))return;let Re=T.fetchers.get(L);Zt(L,lC(ke,Re),{flushSync:Ve});let tt=new AbortController,ot=qo(n.history,J,tt.signal,ke);if(je){let mt=await Ar(Me,new URL(ot.url).pathname,ot.signal);if(mt.type==="aborted")return;if(mt.type==="error"){Fn(L,z,mt.error,{flushSync:Ve});return}else if(mt.matches){if(Me=mt.matches,ae=Rl(Me,J),Ce(ae))return}else{Fn(L,z,qn(404,{pathname:J}),{flushSync:Ve});return}}q.set(L,tt);let un=te,dt=(await _n("action",T,ot,[ae],Me,L))[ae.route.id];if(ot.signal.aborted){q.get(L)===tt&&q.delete(L);return}if(m.v7_fetcherPersist&&ue.has(L)){if(Zs(dt)||ar(dt)){Zt(L,ps(void 0));return}}else{if(Zs(dt))if(q.delete(L),Q>un){Zt(L,ps(void 0));return}else return G.add(L),Zt(L,Pl(ke)),Wt(ot,dt,!1,{fetcherSubmission:ke,preventScrollReset:Ae});if(ar(dt)){Fn(L,z,dt.error);return}}if(vs(dt))throw qn(400,{type:"defer-action"});let It=T.navigation.location||T.location,Si=qo(n.history,It,tt.signal),js=c||u,kr=T.navigation.state!=="idle"?ys(js,T.navigation.location,d):T.matches;$e(kr,"Didn't find any matches after fetcher action");let pt=++te;D.set(L,pt);let Ha=Pl(ke,dt.data);T.fetchers.set(L,Ha);let[Ei,ri]=L1(n.history,T,kr,ke,It,!1,m.v7_skipActionErrorRevalidation,he,se,oe,ue,ee,G,js,d,[ae.route.id,dt]);ri.filter(mt=>mt.key!==L).forEach(mt=>{let Gi=mt.key,_u=T.fetchers.get(Gi),of=Pl(void 0,_u?_u.data:void 0);T.fetchers.set(Gi,of),K(Gi),mt.controller&&q.set(Gi,mt.controller)}),it({fetchers:new Map(T.fetchers)});let Mi=()=>ri.forEach(mt=>K(mt.key));tt.signal.addEventListener("abort",Mi);let{loaderResults:Eo,fetcherResults:ut}=await Ke(T,kr,Ei,ri,Si);if(tt.signal.aborted)return;tt.signal.removeEventListener("abort",Mi),D.delete(L),q.delete(L),ri.forEach(mt=>q.delete(mt.key));let Ct=xc(Eo);if(Ct)return Wt(Si,Ct.result,!1,{preventScrollReset:Ae});if(Ct=xc(ut),Ct)return G.add(Ct.key),Wt(Si,Ct.result,!1,{preventScrollReset:Ae});let{loaderData:wn,errors:Ls}=V1(T,kr,Eo,void 0,ri,ut,me);if(T.fetchers.has(L)){let mt=ps(dt.data);T.fetchers.set(L,mt)}Fe(pt),T.navigation.state==="loading"&&pt>Q?($e(A,"Expected pending action"),j&&j.abort(),bt(T.navigation.location,{matches:kr,loaderData:wn,errors:Ls,fetchers:new Map(T.fetchers)})):(it({errors:Ls,loaderData:z1(T.loaderData,wn,kr,Ls),fetchers:new Map(T.fetchers)}),he=!1)}async function vn(L,z,J,ae,Me,je,Ve,Ae,ke){let Ce=T.fetchers.get(L);Zt(L,Pl(ke,Ce?Ce.data:void 0),{flushSync:Ve});let Re=new AbortController,tt=qo(n.history,J,Re.signal);if(je){let dt=await Ar(Me,new URL(tt.url).pathname,tt.signal);if(dt.type==="aborted")return;if(dt.type==="error"){Fn(L,z,dt.error,{flushSync:Ve});return}else if(dt.matches)Me=dt.matches,ae=Rl(Me,J);else{Fn(L,z,qn(404,{pathname:J}),{flushSync:Ve});return}}q.set(L,Re);let ot=te,_t=(await _n("loader",T,tt,[ae],Me,L))[ae.route.id];if(vs(_t)&&(_t=await fm(_t,tt.signal,!0)||_t),q.get(L)===Re&&q.delete(L),!tt.signal.aborted){if(ue.has(L)){Zt(L,ps(void 0));return}if(Zs(_t))if(Q>ot){Zt(L,ps(void 0));return}else{G.add(L),await Wt(tt,_t,!1,{preventScrollReset:Ae});return}if(ar(_t)){Fn(L,z,_t.error);return}$e(!vs(_t),"Unhandled fetcher deferred data"),Zt(L,ps(_t.data))}}async function Wt(L,z,J,ae){let{submission:Me,fetcherSubmission:je,preventScrollReset:Ve,replace:Ae}=ae===void 0?{}:ae;z.response.headers.has("X-Remix-Revalidate")&&(he=!0);let ke=z.response.headers.get("Location");$e(ke,"Expected a Location header on the redirect Response"),ke=U1(ke,new URL(L.url),d);let Ce=ao(T.location,ke,{_isRedirect:!0});if(t){let dt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(cm.test(ke)){const It=n.history.createURL(ke);dt=It.origin!==e.location.origin||Zn(It.pathname,d)==null}if(dt){Ae?e.location.replace(ke):e.location.assign(ke);return}}j=null;let Re=Ae===!0||z.response.headers.has("X-Remix-Replace")?At.Replace:At.Push,{formMethod:tt,formAction:ot,formEncType:un}=T.navigation;!Me&&!je&&tt&&ot&&un&&(Me=G1(T.navigation));let _t=Me||je;if(Wx.has(z.response.status)&&_t&&Ur(_t.formMethod))await Te(Re,Ce,{submission:kt({},_t,{formAction:ke}),preventScrollReset:Ve||U,enableViewTransition:J?V:void 0});else{let dt=Jh(Ce,Me);await Te(Re,Ce,{overrideNavigation:dt,fetcherSubmission:je,preventScrollReset:Ve||U,enableViewTransition:J?V:void 0})}}async function _n(L,z,J,ae,Me,je){let Ve,Ae={};try{Ve=await Xx(h,L,z,J,ae,Me,je,a,s)}catch(ke){return ae.forEach(Ce=>{Ae[Ce.route.id]={type:St.error,error:ke}}),Ae}for(let[ke,Ce]of Object.entries(Ve))if(nC(Ce)){let Re=Ce.result;Ae[ke]={type:St.redirect,response:Jx(Re,J,ke,Me,d,m.v7_relativeSplatPath)}}else Ae[ke]=await Zx(Ce);return Ae}async function Ke(L,z,J,ae,Me){let je=L.matches,Ve=_n("loader",L,Me,J,z,null),Ae=Promise.all(ae.map(async Re=>{if(Re.matches&&Re.match&&Re.controller){let ot=(await _n("loader",L,qo(n.history,Re.path,Re.controller.signal),[Re.match],Re.matches,Re.key))[Re.match.route.id];return{[Re.key]:ot}}else return Promise.resolve({[Re.key]:{type:St.error,error:qn(404,{pathname:Re.path})}})})),ke=await Ve,Ce=(await Ae).reduce((Re,tt)=>Object.assign(Re,tt),{});return await Promise.all([sC(z,ke,Me.signal,je,L.loaderData),oC(z,Ce,ae)]),{loaderResults:ke,fetcherResults:Ce}}function Ht(){he=!0,se.push(...be()),ee.forEach((L,z)=>{q.has(z)&&oe.add(z),K(z)})}function Zt(L,z,J){J===void 0&&(J={}),T.fetchers.set(L,z),it({fetchers:new Map(T.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Fn(L,z,J,ae){ae===void 0&&(ae={});let Me=Xs(T.matches,z);$n(L),it({errors:{[Me.route.id]:J},fetchers:new Map(T.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function ni(L){return ge.set(L,(ge.get(L)||0)+1),ue.has(L)&&ue.delete(L),T.fetchers.get(L)||Xw}function $n(L){let z=T.fetchers.get(L);q.has(L)&&!(z&&z.state==="loading"&&D.has(L))&&K(L),ee.delete(L),D.delete(L),G.delete(L),m.v7_fetcherPersist&&ue.delete(L),oe.delete(L),T.fetchers.delete(L)}function W(L){let z=(ge.get(L)||0)-1;z<=0?(ge.delete(L),ue.add(L),m.v7_fetcherPersist||$n(L)):ge.set(L,z),it({fetchers:new Map(T.fetchers)})}function K(L){let z=q.get(L);z&&(z.abort(),q.delete(L))}function re(L){for(let z of L){let J=ni(z),ae=ps(J.data);T.fetchers.set(z,ae)}}function we(){let L=[],z=!1;for(let J of G){let ae=T.fetchers.get(J);$e(ae,"Expected fetcher: "+J),ae.state==="loading"&&(G.delete(J),L.push(J),z=!0)}return re(L),z}function Fe(L){let z=[];for(let[J,ae]of D)if(ae<L){let Me=T.fetchers.get(J);$e(Me,"Expected fetcher: "+J),Me.state==="loading"&&(K(J),D.delete(J),z.push(J))}return re(z),z.length>0}function Tt(L,z){let J=T.blockers.get(L)||Qo;return Ie.get(L)!==z&&Ie.set(L,z),J}function Pt(L){T.blockers.delete(L),Ie.delete(L)}function qe(L,z){let J=T.blockers.get(L)||Qo;$e(J.state==="unblocked"&&z.state==="blocked"||J.state==="blocked"&&z.state==="blocked"||J.state==="blocked"&&z.state==="proceeding"||J.state==="blocked"&&z.state==="unblocked"||J.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+z.state);let ae=new Map(T.blockers);ae.set(L,z),it({blockers:ae})}function Se(L){let{currentLocation:z,nextLocation:J,historyAction:ae}=L;if(Ie.size===0)return;Ie.size>1&&Ui(!1,"A router only supports one blocker at a time");let Me=Array.from(Ie.entries()),[je,Ve]=Me[Me.length-1],Ae=T.blockers.get(je);if(!(Ae&&Ae.state==="proceeding")&&Ve({currentLocation:z,nextLocation:J,historyAction:ae}))return je}function Ee(L){let z=qn(404,{pathname:L}),J=c||u,{matches:ae,route:Me}=H1(J);return be(),{notFoundMatches:ae,route:Me,error:z}}function be(L){let z=[];return me.forEach((J,ae)=>{(!L||L(ae))&&(J.cancel(),z.push(ae),me.delete(ae))}),z}function Ne(L,z,J){if(w=L,S=z,E=J||null,!P&&T.navigation===Zh){P=!0;let ae=xt(T.location,T.matches);ae!=null&&it({restoreScrollPosition:ae})}return()=>{w=null,S=null,E=null}}function Ze(L,z){return E&&E(L,z.map(ae=>zw(ae,T.loaderData)))||L.key}function vt(L,z){if(w&&S){let J=Ze(L,z);w[J]=S()}}function xt(L,z){if(w){let J=Ze(L,z),ae=w[J];if(typeof ae=="number")return ae}return null}function ln(L,z,J){if(p)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:$c(z,J,d,!0)}}else return{active:!0,matches:$c(z,J,d,!0)||[]};return{active:!1,matches:null}}async function Ar(L,z,J){if(!p)return{type:"success",matches:L};let ae=L;for(;;){let Me=c==null,je=c||u,Ve=a;try{await p({signal:J,path:z,matches:ae,patch:(Ce,Re)=>{J.aborted||$1(Ce,Re,je,Ve,s)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ae}}finally{Me&&!J.aborted&&(u=[...u])}if(J.aborted)return{type:"aborted"};let Ae=ys(je,z,d);if(Ae)return{type:"success",matches:Ae};let ke=$c(je,z,d,!0);if(!ke||ae.length===ke.length&&ae.every((Ce,Re)=>Ce.route.id===ke[Re].route.id))return{type:"success",matches:null};ae=ke}}function So(L){a={},c=Kc(L,s,void 0,a)}function wi(L,z){let J=c==null;$1(L,z,c||u,a,s),J&&(u=[...u],it({}))}return k={get basename(){return d},get future(){return m},get state(){return T},get routes(){return u},get window(){return e},initialize:We,subscribe:ft,enableScrollRestoration:Ne,navigate:nn,fetch:yt,revalidate:de,createHref:L=>n.history.createHref(L),encodeLocation:L=>n.history.encodeLocation(L),getFetcher:ni,deleteFetcher:W,dispose:ct,getBlocker:Tt,deleteBlocker:Pt,patchRoutes:wi,_internalFetchControllers:q,_internalActiveDeferreds:me,_internalSetRoutes:So},k}function qx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Np(n,e,t,r,s,a,u,c){let d,h;if(u){d=[];for(let m of e)if(d.push(m),m.route.id===u){h=m;break}}else d=e,h=e[e.length-1];let p=wd(s||".",_d(d,a),Zn(n.pathname,t)||n.pathname,c==="path");if(s==null&&(p.search=n.search,p.hash=n.hash),(s==null||s===""||s===".")&&h){let m=hm(p.search);if(h.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let v=new URLSearchParams(p.search),_=v.getAll("index");v.delete("index"),_.filter(E=>E).forEach(E=>v.append("index",E));let w=v.toString();p.search=w?"?"+w:""}}return r&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ci([t,p.pathname])),Gr(p)}function D1(n,e,t,r){if(!r||!qx(r))return{path:t};if(r.formMethod&&!iC(r.formMethod))return{path:t,error:qn(405,{method:r.formMethod})};let s=()=>({path:t,error:qn(400,{type:"invalid-body"})}),a=r.formMethod||"get",u=n?a.toUpperCase():a.toLowerCase(),c=e0(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ur(u))return s();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,w)=>{let[E,S]=w;return""+_+E+"="+S+`
`},""):String(r.body);return{path:t,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Ur(u))return s();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return s()}}}$e(typeof FormData=="function","FormData is not available in this environment");let d,h;if(r.formData)d=kp(r.formData),h=r.formData;else if(r.body instanceof FormData)d=kp(r.body),h=r.body;else if(r.body instanceof URLSearchParams)d=r.body,h=B1(d);else if(r.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(r.body),h=B1(d)}catch{return s()}let p={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Ur(p.formMethod))return{path:t,submission:p};let m=Nr(t);return e&&m.search&&hm(m.search)&&d.append("index",""),m.search="?"+d,{path:Gr(m),submission:p}}function j1(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function L1(n,e,t,r,s,a,u,c,d,h,p,m,v,_,w,E){let S=E?ar(E[1])?E[1].error:E[1].data:void 0,P=n.createURL(e.location),O=n.createURL(s),R=t;a&&e.errors?R=j1(t,Object.keys(e.errors)[0],!0):E&&ar(E[1])&&(R=j1(t,E[0]));let N=E?E[1].statusCode:void 0,x=u&&N&&N>=400,k=R.filter((A,U)=>{let{route:j}=A;if(j.lazy)return!0;if(j.loader==null)return!1;if(a)return Ap(j,e.loaderData,e.errors);if(Gx(e.loaderData,e.matches[U],A)||d.some(Z=>Z===A.route.id))return!0;let V=e.matches[U],B=A;return F1(A,kt({currentUrl:P,currentParams:V.params,nextUrl:O,nextParams:B.params},r,{actionResult:S,actionStatus:N,defaultShouldRevalidate:x?!1:c||P.pathname+P.search===O.pathname+O.search||P.search!==O.search||Zw(V,B)}))}),T=[];return m.forEach((A,U)=>{if(a||!t.some(ne=>ne.route.id===A.routeId)||p.has(U))return;let j=ys(_,A.path,w);if(!j){T.push({key:U,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(U),B=Rl(j,A.path),Z=!1;v.has(U)?Z=!1:h.has(U)?(h.delete(U),Z=!0):V&&V.state!=="idle"&&V.data===void 0?Z=c:Z=F1(B,kt({currentUrl:P,currentParams:e.matches[e.matches.length-1].params,nextUrl:O,nextParams:t[t.length-1].params},r,{actionResult:S,actionStatus:N,defaultShouldRevalidate:x?!1:c})),Z&&T.push({key:U,routeId:A.routeId,path:A.path,matches:j,match:B,controller:new AbortController})}),[k,T]}function Ap(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function Gx(n,e,t){let r=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return r||s}function Zw(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function F1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function $1(n,e,t,r,s){var a;let u;if(n){let h=r[n];$e(h,"No route found to patch children into: routeId = "+n),h.children||(h.children=[]),u=h.children}else u=t;let c=e.filter(h=>!u.some(p=>Jw(h,p))),d=Kc(c,s,[n||"_","patch",String(((a=u)==null?void 0:a.length)||"0")],r);u.push(...d)}function Jw(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>Jw(t,a))}):!1}async function Yx(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];$e(s,"No route found in manifest");let a={};for(let u in r){let d=s[u]!==void 0&&u!=="hasErrorBoundary";Ui(!d,'Route "'+s.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!d&&!mx.has(u)&&(a[u]=r[u])}Object.assign(s,a),Object.assign(s,kt({},e(s),{lazy:void 0}))}async function Kx(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,a,u)=>Object.assign(s,{[t[u].route.id]:a}),{})}async function Xx(n,e,t,r,s,a,u,c,d,h){let p=a.map(_=>_.route.lazy?Yx(_.route,d,c):void 0),m=a.map((_,w)=>{let E=p[w],S=s.some(O=>O.route.id===_.route.id);return kt({},_,{shouldLoad:S,resolve:async O=>(O&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(S=!0),S?Qx(e,r,_,E,O,h):Promise.resolve({type:St.data,result:void 0}))})}),v=await n({matches:m,request:r,params:a[0].params,fetcherKey:u,context:h});try{await Promise.all(p)}catch{}return v}async function Qx(n,e,t,r,s,a){let u,c,d=h=>{let p,m=new Promise((w,E)=>p=E);c=()=>p(),e.signal.addEventListener("abort",c);let v=w=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:a},...w!==void 0?[w]:[]),_=(async()=>{try{return{type:"data",result:await(s?s(E=>v(E)):v())}}catch(w){return{type:"error",result:w}}})();return Promise.race([_,m])};try{let h=t.route[n];if(r)if(h){let p,[m]=await Promise.all([d(h).catch(v=>{p=v}),r]);if(p!==void 0)throw p;u=m}else if(await r,h=t.route[n],h)u=await d(h);else if(n==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw qn(405,{method:e.method,pathname:m,routeId:t.route.id})}else return{type:St.data,result:void 0};else if(h)u=await d(h);else{let p=new URL(e.url),m=p.pathname+p.search;throw qn(404,{pathname:m})}$e(u.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:St.error,result:h}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function Zx(n){let{result:e,type:t}=n;if(t0(e)){let m;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(v){return{type:St.error,error:v}}return t===St.error?{type:St.error,error:new Ul(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:St.data,data:m,statusCode:e.status,headers:e.headers}}if(t===St.error){if(q1(e)){var r,s;if(e.data instanceof Error){var a,u;return{type:St.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:St.error,error:new Ul(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:ca(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:St.error,error:e,statusCode:ca(e)?e.status:void 0}}if(rC(e)){var c,d;return{type:St.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((d=e.init)==null?void 0:d.headers)&&new Headers(e.init.headers)}}if(q1(e)){var h,p;return{type:St.data,data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}}return{type:St.data,data:e}}function Jx(n,e,t,r,s,a){let u=n.headers.get("Location");if($e(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!cm.test(u)){let c=r.slice(0,r.findIndex(d=>d.route.id===t)+1);u=Np(new URL(e.url),c,s,!0,u,a),n.headers.set("Location",u)}return n}function U1(n,e,t){if(cm.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Zn(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function qo(n,e,t,r){let s=n.createURL(e0(e)).toString(),a={signal:t};if(r&&Ur(r.formMethod)){let{formMethod:u,formEncType:c}=r;a.method=u.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=kp(r.formData):a.body=r.formData}return new Request(s,a)}function kp(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function B1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function eC(n,e,t,r,s){let a={},u=null,c,d=!1,h={},p=t&&ar(t[1])?t[1].error:void 0;return n.forEach(m=>{if(!(m.route.id in e))return;let v=m.route.id,_=e[v];if($e(!Zs(_),"Cannot handle redirect results in processLoaderData"),ar(_)){let w=_.error;p!==void 0&&(w=p,p=void 0),u=u||{};{let E=Xs(n,v);u[E.route.id]==null&&(u[E.route.id]=w)}a[v]=void 0,d||(d=!0,c=ca(_.error)?_.error.status:500),_.headers&&(h[v]=_.headers)}else vs(_)?(r.set(v,_.deferredData),a[v]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!d&&(c=_.statusCode),_.headers&&(h[v]=_.headers)):(a[v]=_.data,_.statusCode&&_.statusCode!==200&&!d&&(c=_.statusCode),_.headers&&(h[v]=_.headers))}),p!==void 0&&t&&(u={[t[0]]:p},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:c||200,loaderHeaders:h}}function V1(n,e,t,r,s,a,u){let{loaderData:c,errors:d}=eC(e,t,r,u);return s.forEach(h=>{let{key:p,match:m,controller:v}=h,_=a[p];if($e(_,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(ar(_)){let w=Xs(n.matches,m==null?void 0:m.route.id);d&&d[w.route.id]||(d=kt({},d,{[w.route.id]:_.error})),n.fetchers.delete(p)}else if(Zs(_))$e(!1,"Unhandled fetcher revalidation redirect");else if(vs(_))$e(!1,"Unhandled fetcher deferred data");else{let w=ps(_.data);n.fetchers.set(p,w)}}),{loaderData:c,errors:d}}function z1(n,e,t,r){let s=kt({},e);for(let a of t){let u=a.route.id;if(e.hasOwnProperty(u)?e[u]!==void 0&&(s[u]=e[u]):n[u]!==void 0&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function W1(n){return n?ar(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xs(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function H1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qn(n,e){let{pathname:t,routeId:r,method:s,type:a,message:u}=e===void 0?{}:e,c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",s&&t&&r?d="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?d="defer() is not supported in actions":a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",d='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",s&&t&&r?d="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(d='Invalid request method "'+s.toUpperCase()+'"')),new Ul(n||500,c,new Error(d),!0)}function xc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(Zs(s))return{key:r,result:s}}}function e0(n){let e=typeof n=="string"?Nr(n):n;return Gr(kt({},e,{hash:""}))}function tC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function nC(n){return t0(n.result)&&zx.has(n.result.status)}function vs(n){return n.type===St.deferred}function ar(n){return n.type===St.error}function Zs(n){return(n&&n.type)===St.redirect}function q1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function rC(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function t0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function iC(n){return Vx.has(n.toLowerCase())}function Ur(n){return Ux.has(n.toLowerCase())}async function sC(n,e,t,r,s){let a=Object.entries(e);for(let u=0;u<a.length;u++){let[c,d]=a[u],h=n.find(v=>(v==null?void 0:v.route.id)===c);if(!h)continue;let p=r.find(v=>v.route.id===h.route.id),m=p!=null&&!Zw(p,h)&&(s&&s[h.route.id])!==void 0;vs(d)&&m&&await fm(d,t,!1).then(v=>{v&&(e[c]=v)})}}async function oC(n,e,t){for(let r=0;r<t.length;r++){let{key:s,routeId:a,controller:u}=t[r],c=e[s];n.find(h=>(h==null?void 0:h.route.id)===a)&&vs(c)&&($e(u,"Expected an AbortController for revalidating fetcher deferred result"),await fm(c,u.signal,!0).then(h=>{h&&(e[s]=h)}))}}async function fm(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:St.data,data:n.deferredData.unwrappedData}}catch(s){return{type:St.error,error:s}}return{type:St.data,data:n.deferredData.data}}}function hm(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Rl(n,e){let t=typeof e=="string"?Nr(e).search:e.search;if(n[n.length-1].route.index&&hm(t||""))return n[n.length-1];let r=Yw(n);return r[r.length-1]}function G1(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Jh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ps(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function uC(n,e){try{let t=n.sessionStorage.getItem(Qw);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function cC(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(Qw,JSON.stringify(t))}catch(r){Ui(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Es.apply(this,arguments)}const Ca=M.createContext(null),Ql=M.createContext(null),Qc=M.createContext(null),fr=M.createContext(null),Pa=M.createContext(null),hr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),n0=M.createContext(null);function r0(n,e){let{relative:t}=e===void 0?{}:e;As()||$e(!1);let{basename:r,navigator:s}=M.useContext(fr),{hash:a,pathname:u,search:c}=Na(n,{relative:t}),d=u;return r!=="/"&&(d=u==="/"?r:ci([r,u])),s.createHref({pathname:d,search:c,hash:a})}function As(){return M.useContext(Pa)!=null}function Qr(){return As()||$e(!1),M.useContext(Pa).location}function dC(){return M.useContext(Pa).navigationType}function fC(n){As()||$e(!1);let{pathname:e}=Qr();return M.useMemo(()=>ua(n,qw(e)),[e,n])}function i0(n){M.useContext(fr).static||M.useLayoutEffect(n)}function Sd(){let{isDataRoute:n}=M.useContext(hr);return n?xC():hC()}function hC(){As()||$e(!1);let n=M.useContext(Ca),{basename:e,future:t,navigator:r}=M.useContext(fr),{matches:s}=M.useContext(hr),{pathname:a}=Qr(),u=JSON.stringify(_d(s,t.v7_relativeSplatPath)),c=M.useRef(!1);return i0(()=>{c.current=!0}),M.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=wd(h,JSON.parse(u),a,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ci([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,u,a,n])}const s0=M.createContext(null);function pC(){return M.useContext(s0)}function o0(n){let e=M.useContext(hr).outlet;return e&&M.createElement(s0.Provider,{value:n},e)}function Ed(){let{matches:n}=M.useContext(hr),e=n[n.length-1];return e?e.params:{}}function Na(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=M.useContext(fr),{matches:s}=M.useContext(hr),{pathname:a}=Qr(),u=JSON.stringify(_d(s,r.v7_relativeSplatPath));return M.useMemo(()=>wd(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function a0(n,e){return l0(n,e)}function l0(n,e,t,r){As()||$e(!1);let{navigator:s,static:a}=M.useContext(fr),{matches:u}=M.useContext(hr),c=u[u.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=Qr(),m;if(e){var v;let P=typeof e=="string"?Nr(e):e;h==="/"||(v=P.pathname)!=null&&v.startsWith(h)||$e(!1),m=P}else m=p;let _=m.pathname||"/",w=_;if(h!=="/"){let P=h.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=!a&&t&&t.matches&&t.matches.length>0?t.matches:ys(n,{pathname:w}),S=u0(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:ci([h,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:ci([h,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,t,r);return e&&S?M.createElement(Pa.Provider,{value:{location:Es({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:At.Pop}},S):S}function mC(){let n=h0(),e=ca(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,null)}const gC=M.createElement(mC,null);class yC extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(hr.Provider,{value:this.props.routeContext},M.createElement(n0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vC(n){let{routeContext:e,match:t,children:r}=n,s=M.useContext(Ca);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(hr.Provider,{value:e},r)}function u0(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let p=u.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||$e(!1),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let p=0;p<u.length;p++){let m=u[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:v,errors:_}=t,w=m.route.loader&&v[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){d=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((p,m,v)=>{let _,w=!1,E=null,S=null;t&&(_=c&&m.route.id?c[m.route.id]:void 0,E=m.route.errorElement||gC,d&&(h<0&&v===0?(CC("route-fallback"),w=!0,S=null):h===v&&(w=!0,S=m.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,v+1)),O=()=>{let R;return _?R=E:w?R=S:m.route.Component?R=M.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,M.createElement(vC,{match:m,routeContext:{outlet:p,matches:P,isDataRoute:t!=null},children:R})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?M.createElement(yC,{location:t.location,revalidation:t.revalidation,component:E,error:_,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}var Md=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Md||{}),Jn=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Jn||{});function pm(n){let e=M.useContext(Ca);return e||$e(!1),e}function ks(n){let e=M.useContext(Ql);return e||$e(!1),e}function _C(n){let e=M.useContext(hr);return e||$e(!1),e}function Zl(n){let e=_C(),t=e.matches[e.matches.length-1];return t.route.id||$e(!1),t.route.id}function c0(){return Zl(Jn.UseRouteId)}function d0(){return ks(Jn.UseNavigation).navigation}function wC(){let n=pm(Md.UseRevalidator),e=ks(Jn.UseRevalidator);return M.useMemo(()=>({revalidate:n.router.revalidate,state:e.revalidation}),[n.router.revalidate,e.revalidation])}function f0(){let{matches:n,loaderData:e}=ks(Jn.UseMatches);return M.useMemo(()=>n.map(t=>zw(t,e)),[n,e])}function SC(){let n=ks(Jn.UseLoaderData),e=Zl(Jn.UseLoaderData);if(n.errors&&n.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return n.loaderData[e]}function EC(n){return ks(Jn.UseRouteLoaderData).loaderData[n]}function MC(){let n=ks(Jn.UseActionData),e=Zl(Jn.UseLoaderData);return n.actionData?n.actionData[e]:void 0}function h0(){var n;let e=M.useContext(n0),t=ks(Jn.UseRouteError),r=Zl(Jn.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function p0(){let n=M.useContext(Qc);return n==null?void 0:n._data}function bC(){let n=M.useContext(Qc);return n==null?void 0:n._error}let TC=0;function m0(n){let{router:e,basename:t}=pm(Md.UseBlocker),r=ks(Jn.UseBlocker),[s,a]=M.useState(""),u=M.useCallback(c=>{if(typeof n!="function")return!!n;if(t==="/")return n(c);let{currentLocation:d,nextLocation:h,historyAction:p}=c;return n({currentLocation:Es({},d,{pathname:Zn(d.pathname,t)||d.pathname}),nextLocation:Es({},h,{pathname:Zn(h.pathname,t)||h.pathname}),historyAction:p})},[t,n]);return M.useEffect(()=>{let c=String(++TC);return a(c),()=>e.deleteBlocker(c)},[e]),M.useEffect(()=>{s!==""&&e.getBlocker(s,u)},[e,s,u]),s&&r.blockers.has(s)?r.blockers.get(s):Qo}function xC(){let{router:n}=pm(Md.UseNavigateStable),e=Zl(Jn.UseNavigateStable),t=M.useRef(!1);return i0(()=>{t.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Es({fromRouteId:e},a)))},[n,e])}const Y1={};function CC(n,e,t){Y1[n]||(Y1[n]=!0)}function Jl(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}const PC="startTransition",K1=am[PC];function NC(n){let{basename:e,children:t,initialEntries:r,initialIndex:s,future:a}=n,u=M.useRef();u.current==null&&(u.current=$w({initialEntries:r,initialIndex:s,v5Compat:!0}));let c=u.current,[d,h]=M.useState({action:c.action,location:c.location}),{v7_startTransition:p}=a||{},m=M.useCallback(v=>{p&&K1?K1(()=>h(v)):h(v)},[h,p]);return M.useLayoutEffect(()=>c.listen(m),[c,m]),M.useEffect(()=>Jl(a),[a]),M.createElement(Aa,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:a})}function AC(n){let{to:e,replace:t,state:r,relative:s}=n;As()||$e(!1);let{future:a,static:u}=M.useContext(fr),{matches:c}=M.useContext(hr),{pathname:d}=Qr(),h=Sd(),p=wd(e,_d(c,a.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(p);return M.useEffect(()=>h(JSON.parse(m),{replace:t,state:r,relative:s}),[h,m,s,t,r]),null}function g0(n){return o0(n.context)}function y0(n){$e(!1)}function Aa(n){let{basename:e="/",children:t=null,location:r,navigationType:s=At.Pop,navigator:a,static:u=!1,future:c}=n;As()&&$e(!1);let d=e.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:d,navigator:a,static:u,future:Es({v7_relativeSplatPath:!1},c)}),[d,c,a,u]);typeof r=="string"&&(r=Nr(r));let{pathname:p="/",search:m="",hash:v="",state:_=null,key:w="default"}=r,E=M.useMemo(()=>{let S=Zn(p,d);return S==null?null:{location:{pathname:S,search:m,hash:v,state:_,key:w},navigationType:s}},[d,p,m,v,_,w,s]);return E==null?null:M.createElement(fr.Provider,{value:h},M.createElement(Pa.Provider,{children:t,value:E}))}function kC(n){let{children:e,location:t}=n;return a0(Bl(e),t)}function OC(n){let{children:e,errorElement:t,resolve:r}=n;return M.createElement(IC,{resolve:r,errorElement:t},M.createElement(DC,null,e))}var wr=function(n){return n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error",n}(wr||{});const RC=new Promise(()=>{});class IC extends M.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:r}=this.props,s=null,a=wr.pending;if(!(r instanceof Promise))a=wr.success,s=Promise.resolve(),Object.defineProperty(s,"_tracked",{get:()=>!0}),Object.defineProperty(s,"_data",{get:()=>r});else if(this.state.error){a=wr.error;let u=this.state.error;s=Promise.reject().catch(()=>{}),Object.defineProperty(s,"_tracked",{get:()=>!0}),Object.defineProperty(s,"_error",{get:()=>u})}else r._tracked?(s=r,a="_error"in s?wr.error:"_data"in s?wr.success:wr.pending):(a=wr.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),s=r.then(u=>Object.defineProperty(r,"_data",{get:()=>u}),u=>Object.defineProperty(r,"_error",{get:()=>u})));if(a===wr.error&&s._error instanceof Xc)throw RC;if(a===wr.error&&!t)throw s._error;if(a===wr.error)return M.createElement(Qc.Provider,{value:s,children:t});if(a===wr.success)return M.createElement(Qc.Provider,{value:s,children:e});throw s}}function DC(n){let{children:e}=n,t=p0(),r=typeof e=="function"?e(t):e;return M.createElement(M.Fragment,null,r)}function Bl(n,e){e===void 0&&(e=[]);let t=[];return M.Children.forEach(n,(r,s)=>{if(!M.isValidElement(r))return;let a=[...e,s];if(r.type===M.Fragment){t.push.apply(t,Bl(r.props.children,a));return}r.type!==y0&&$e(!1),!r.props.index||!r.props.children||$e(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Bl(r.props.children,a)),t.push(u)}),t}function jC(n){return u0(n)}function mm(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:M.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}function LC(n,e){return dm({basename:e==null?void 0:e.basename,future:Es({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:$w({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:n,mapRouteProperties:mm,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation}).initialize()}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yn.apply(this,arguments)}function gm(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}const Uc="get",ep="application/x-www-form-urlencoded";function bd(n){return n!=null&&typeof n.tagName=="string"}function FC(n){return bd(n)&&n.tagName.toLowerCase()==="button"}function $C(n){return bd(n)&&n.tagName.toLowerCase()==="form"}function UC(n){return bd(n)&&n.tagName.toLowerCase()==="input"}function BC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VC(n,e){return n.button===0&&(!e||e==="_self")&&!BC(n)}function Zc(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function zC(n,e){let t=Zc(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}let Cc=null;function WC(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}const HC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(n){return n!=null&&!HC.has(n)?null:n}function qC(n,e){let t,r,s,a,u;if($C(n)){let c=n.getAttribute("action");r=c?Zn(c,e):null,t=n.getAttribute("method")||Uc,s=tp(n.getAttribute("enctype"))||ep,a=new FormData(n)}else if(FC(n)||UC(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Zn(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Uc,s=tp(n.getAttribute("formenctype"))||tp(c.getAttribute("enctype"))||ep,a=new FormData(c,n),!WC()){let{name:h,type:p,value:m}=n;if(p==="image"){let v=h?h+".":"";a.append(v+"x","0"),a.append(v+"y","0")}else h&&a.append(h,m)}}else{if(bd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uc,r=null,s=ep,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}const GC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],KC=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],XC="6";try{window.__reactRouterVersion=XC}catch{}function QC(n,e){return dm({basename:e==null?void 0:e.basename,future:Yn({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Uw({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||_0(),routes:n,mapRouteProperties:mm,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function v0(n,e){return dm({basename:e==null?void 0:e.basename,future:Yn({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Bw({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||_0(),routes:n,mapRouteProperties:mm,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _0(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Yn({},e,{errors:ZC(e.errors)})),e}function ZC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Ul(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}const ym=M.createContext({isTransitioning:!1}),vm=M.createContext(new Map),JC="startTransition",Ms=am[JC],eP="flushSync",X1=hx[eP],tP="useId",Q1=am[tP];function nP(n){Ms?Ms(n):n()}function Nl(n){X1?X1(n):n()}class rP{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function w0(n){let{fallbackElement:e,router:t,future:r}=n,[s,a]=M.useState(t.state),[u,c]=M.useState(),[d,h]=M.useState({isTransitioning:!1}),[p,m]=M.useState(),[v,_]=M.useState(),[w,E]=M.useState(),S=M.useRef(new Map),{v7_startTransition:P}=r||{},O=M.useCallback(A=>{P?nP(A):A()},[P]),R=M.useCallback((A,U)=>{let{deletedFetchers:j,flushSync:V,viewTransitionOpts:B}=U;A.fetchers.forEach((ne,he)=>{ne.data!==void 0&&S.current.set(he,ne.data)}),j.forEach(ne=>S.current.delete(ne));let Z=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!B||Z){V?Nl(()=>a(A)):O(()=>a(A));return}if(V){Nl(()=>{v&&(p&&p.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let ne=t.window.document.startViewTransition(()=>{Nl(()=>a(A))});ne.finished.finally(()=>{Nl(()=>{m(void 0),_(void 0),c(void 0),h({isTransitioning:!1})})}),Nl(()=>_(ne));return}v?(p&&p.resolve(),v.skipTransition(),E({state:A,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(c(A),h({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,v,p,S,O]);M.useLayoutEffect(()=>t.subscribe(R),[t,R]),M.useEffect(()=>{d.isTransitioning&&!d.flushSync&&m(new rP)},[d]),M.useEffect(()=>{if(p&&u&&t.window){let A=u,U=p.promise,j=t.window.document.startViewTransition(async()=>{O(()=>a(A)),await U});j.finished.finally(()=>{m(void 0),_(void 0),c(void 0),h({isTransitioning:!1})}),_(j)}},[O,u,p,t.window]),M.useEffect(()=>{p&&u&&s.location.key===u.location.key&&p.resolve()},[p,v,s.location,u]),M.useEffect(()=>{!d.isTransitioning&&w&&(c(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[d.isTransitioning,w]),M.useEffect(()=>{},[]);let N=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,U,j)=>t.navigate(A,{state:U,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(A,U,j)=>t.navigate(A,{replace:!0,state:U,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[t]),x=t.basename||"/",k=M.useMemo(()=>({router:t,navigator:N,static:!1,basename:x}),[t,N,x]),T=M.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return M.useEffect(()=>Jl(r,t.future),[r,t.future]),M.createElement(M.Fragment,null,M.createElement(Ca.Provider,{value:k},M.createElement(Ql.Provider,{value:s},M.createElement(vm.Provider,{value:S.current},M.createElement(ym.Provider,{value:d},M.createElement(Aa,{basename:x,location:s.location,navigationType:s.historyAction,navigator:N,future:T},s.initialized||t.future.v7_partialHydration?M.createElement(iP,{routes:t.routes,future:t.future,state:s}):e))))),null)}const iP=M.memo(sP);function sP(n){let{routes:e,future:t,state:r}=n;return l0(e,void 0,r,t)}function oP(n){let{basename:e,children:t,future:r,window:s}=n,a=M.useRef();a.current==null&&(a.current=Uw({window:s,v5Compat:!0}));let u=a.current,[c,d]=M.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},p=M.useCallback(m=>{h&&Ms?Ms(()=>d(m)):d(m)},[d,h]);return M.useLayoutEffect(()=>u.listen(p),[u,p]),M.useEffect(()=>Jl(r),[r]),M.createElement(Aa,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,future:r})}function aP(n){let{basename:e,children:t,future:r,window:s}=n,a=M.useRef();a.current==null&&(a.current=Bw({window:s,v5Compat:!0}));let u=a.current,[c,d]=M.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},p=M.useCallback(m=>{h&&Ms?Ms(()=>d(m)):d(m)},[d,h]);return M.useLayoutEffect(()=>u.listen(p),[u,p]),M.useEffect(()=>Jl(r),[r]),M.createElement(Aa,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,future:r})}function lP(n){let{basename:e,children:t,future:r,history:s}=n,[a,u]=M.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=M.useCallback(h=>{c&&Ms?Ms(()=>u(h)):u(h)},[u,c]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.useEffect(()=>Jl(r),[r]),M.createElement(Aa,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,future:r})}const uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=M.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:c,target:d,to:h,preventScrollReset:p,viewTransition:m}=e,v=gm(e,GC),{basename:_}=M.useContext(fr),w,E=!1;if(typeof h=="string"&&cP.test(h)&&(w=h,uP))try{let R=new URL(window.location.href),N=h.startsWith("//")?new URL(R.protocol+h):new URL(h),x=Zn(N.pathname,_);N.origin===R.origin&&x!=null?h=x+N.search+N.hash:E=!0}catch{}let S=r0(h,{relative:s}),P=E0(h,{replace:u,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:m});function O(R){r&&r(R),R.defaultPrevented||P(R)}return M.createElement("a",Yn({},v,{href:w||S,onClick:E||a?r:O,ref:t,target:d}))}),dP=M.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:u=!1,style:c,to:d,viewTransition:h,children:p}=e,m=gm(e,YC),v=Na(d,{relative:m.relative}),_=Qr(),w=M.useContext(Ql),{navigator:E,basename:S}=M.useContext(fr),P=w!=null&&x0(v)&&h===!0,O=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,R=_.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(R=R.toLowerCase(),N=N?N.toLowerCase():null,O=O.toLowerCase()),N&&S&&(N=Zn(N,S)||N);const x=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let k=R===O||!u&&R.startsWith(O)&&R.charAt(x)==="/",T=N!=null&&(N===O||!u&&N.startsWith(O)&&N.charAt(O.length)==="/"),A={isActive:k,isPending:T,isTransitioning:P},U=k?r:void 0,j;typeof a=="function"?j=a(A):j=[a,k?"active":null,T?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(A):c;return M.createElement(Rn,Yn({},m,{"aria-current":U,className:j,ref:t,style:V,to:d,viewTransition:h}),typeof p=="function"?p(A):p)}),S0=M.forwardRef((n,e)=>{let{fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:u,method:c=Uc,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v}=n,_=gm(n,KC),w=wm(),E=b0(d,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",P=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let R=O.nativeEvent.submitter,N=(R==null?void 0:R.getAttribute("formmethod"))||c;w(R||O.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:u,relative:p,preventScrollReset:m,viewTransition:v})};return M.createElement("form",Yn({ref:e,method:S,action:E,onSubmit:s?h:P},_))});function fP(n){let{getKey:e,storageKey:t}=n;return T0({getKey:e,storageKey:t}),null}var da;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(da||(da={}));var Vl;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Vl||(Vl={}));function Td(n){let e=M.useContext(Ca);return e||$e(!1),e}function _m(n){let e=M.useContext(Ql);return e||$e(!1),e}function E0(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:c}=e===void 0?{}:e,d=Sd(),h=Qr(),p=Na(n,{relative:u});return M.useCallback(m=>{if(VC(m,t)){m.preventDefault();let v=r!==void 0?r:Gr(h)===Gr(p);d(n,{replace:v,state:s,preventScrollReset:a,relative:u,viewTransition:c})}},[h,d,p,r,s,t,n,a,u,c])}function hP(n){let e=M.useRef(Zc(n)),t=M.useRef(!1),r=Qr(),s=M.useMemo(()=>zC(r.search,t.current?null:e.current),[r.search]),a=Sd(),u=M.useCallback((c,d)=>{const h=Zc(typeof c=="function"?c(s):c);t.current=!0,a("?"+h,d)},[a,s]);return[s,u]}function pP(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let mP=0,M0=()=>"__"+String(++mP)+"__";function wm(){let{router:n}=Td(da.UseSubmit),{basename:e}=M.useContext(fr),t=c0();return M.useCallback(function(r,s){s===void 0&&(s={}),pP();let{action:a,method:u,encType:c,formData:d,body:h}=qC(r,e);if(s.navigate===!1){let p=s.fetcherKey||M0();n.fetch(p,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function b0(n,e){let{relative:t}=e===void 0?{}:e,{basename:r}=M.useContext(fr),s=M.useContext(hr);s||$e(!1);let[a]=s.matches.slice(-1),u=Yn({},Na(n||".",{relative:t})),c=Qr();if(n==null){u.search=c.search;let d=new URLSearchParams(u.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();u.search=m?"?"+m:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ci([r,u.pathname])),Gr(u)}function gP(n){var e;let{key:t}=n===void 0?{}:n,{router:r}=Td(da.UseFetcher),s=_m(Vl.UseFetcher),a=M.useContext(vm),u=M.useContext(hr),c=(e=u.matches[u.matches.length-1])==null?void 0:e.route.id;a||$e(!1),u||$e(!1),c==null&&$e(!1);let d=Q1?Q1():"",[h,p]=M.useState(t||d);t&&t!==h?p(t):h||p(M0()),M.useEffect(()=>(r.getFetcher(h),()=>{r.deleteFetcher(h)}),[r,h]);let m=M.useCallback((O,R)=>{c||$e(!1),r.fetch(h,c,O,R)},[h,c,r]),v=wm(),_=M.useCallback((O,R)=>{v(O,Yn({},R,{navigate:!1,fetcherKey:h}))},[h,v]),w=M.useMemo(()=>M.forwardRef((R,N)=>M.createElement(S0,Yn({},R,{navigate:!1,fetcherKey:h,ref:N}))),[h]),E=s.fetchers.get(h)||Xw,S=a.get(h);return M.useMemo(()=>Yn({Form:w,submit:_,load:m},E,{data:S}),[w,_,m,E,S])}function yP(){let n=_m(Vl.UseFetchers);return Array.from(n.fetchers.entries()).map(e=>{let[t,r]=e;return Yn({},r,{key:t})})}const Z1="react-router-scroll-positions";let Pc={};function T0(n){let{getKey:e,storageKey:t}=n===void 0?{}:n,{router:r}=Td(da.UseScrollRestoration),{restoreScrollPosition:s,preventScrollReset:a}=_m(Vl.UseScrollRestoration),{basename:u}=M.useContext(fr),c=Qr(),d=f0(),h=d0();M.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),_P(M.useCallback(()=>{if(h.state==="idle"){let p=(e?e(c,d):null)||c.key;Pc[p]=window.scrollY}try{sessionStorage.setItem(t||Z1,JSON.stringify(Pc))}catch{}window.history.scrollRestoration="auto"},[t,e,h.state,c,d])),typeof document<"u"&&(M.useLayoutEffect(()=>{try{let p=sessionStorage.getItem(t||Z1);p&&(Pc=JSON.parse(p))}catch{}},[t]),M.useLayoutEffect(()=>{let p=e&&u!=="/"?(v,_)=>e(Yn({},v,{pathname:Zn(v.pathname,u)||v.pathname}),_):e,m=r==null?void 0:r.enableScrollRestoration(Pc,()=>window.scrollY,p);return()=>m&&m()},[r,u,e]),M.useLayoutEffect(()=>{if(s!==!1){if(typeof s=="number"){window.scrollTo(0,s);return}if(c.hash){let p=document.getElementById(decodeURIComponent(c.hash.slice(1)));if(p){p.scrollIntoView();return}}a!==!0&&window.scrollTo(0,0)}},[c,s,a]))}function vP(n,e){let{capture:t}=e||{};M.useEffect(()=>{let r=t!=null?{capture:t}:void 0;return window.addEventListener("beforeunload",n,r),()=>{window.removeEventListener("beforeunload",n,r)}},[n,t])}function _P(n,e){let{capture:t}={};M.useEffect(()=>{let r=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",n,r),()=>{window.removeEventListener("pagehide",n,r)}},[n,t])}function wP(n){let{when:e,message:t}=n,r=m0(e);M.useEffect(()=>{r.state==="blocked"&&(window.confirm(t)?setTimeout(r.proceed,0):r.reset())},[r,t]),M.useEffect(()=>{r.state==="blocked"&&!e&&r.reset()},[r,e])}function x0(n,e){e===void 0&&(e={});let t=M.useContext(ym);t==null&&$e(!1);let{basename:r}=Td(da.useViewTransitionState),s=Na(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zn(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Zn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ua(s.pathname,u)!=null||ua(s.pathname,a)!=null}const SP=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:Xc,Await:OC,BrowserRouter:oP,Form:S0,HashRouter:aP,Link:Rn,MemoryRouter:NC,NavLink:dP,Navigate:AC,get NavigationType(){return At},Outlet:g0,Route:y0,Router:Aa,RouterProvider:w0,Routes:kC,ScrollRestoration:fP,UNSAFE_DataRouterContext:Ca,UNSAFE_DataRouterStateContext:Ql,UNSAFE_ErrorResponseImpl:Ul,UNSAFE_FetchersContext:vm,UNSAFE_LocationContext:Pa,UNSAFE_NavigationContext:fr,UNSAFE_RouteContext:hr,UNSAFE_ViewTransitionContext:ym,UNSAFE_useRouteId:c0,UNSAFE_useScrollRestoration:T0,createBrowserRouter:QC,createHashRouter:v0,createMemoryRouter:LC,createPath:Gr,createRoutesFromChildren:Bl,createRoutesFromElements:Bl,createSearchParams:Zc,defer:Lx,generatePath:Cx,isRouteErrorResponse:ca,json:Rx,matchPath:ua,matchRoutes:ys,parsePath:Nr,redirect:um,redirectDocument:Fx,renderMatches:jC,replace:$x,resolvePath:Gw,unstable_HistoryRouter:lP,unstable_usePrompt:wP,useActionData:MC,useAsyncError:bC,useAsyncValue:p0,useBeforeUnload:vP,useBlocker:m0,useFetcher:gP,useFetchers:yP,useFormAction:b0,useHref:r0,useInRouterContext:As,useLinkClickHandler:E0,useLoaderData:SC,useLocation:Qr,useMatch:fC,useMatches:f0,useNavigate:Sd,useNavigation:d0,useNavigationType:dC,useOutlet:o0,useOutletContext:pC,useParams:Ed,useResolvedPath:Na,useRevalidator:wC,useRouteError:h0,useRouteLoaderData:EC,useRoutes:a0,useSearchParams:hP,useSubmit:wm,useViewTransitionState:x0},Symbol.toStringTag,{value:"Module"}));var J1={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var e_;function EP(){if(e_)return J1;e_=1;var n;return function(e){(function(t){var r=typeof globalThis=="object"?globalThis:typeof p1=="object"?p1:typeof self=="object"?self:typeof this=="object"?this:d(),s=a(e);typeof r.Reflect<"u"&&(s=a(r.Reflect,s)),t(s,r),typeof r.Reflect>"u"&&(r.Reflect=e);function a(h,p){return function(m,v){Object.defineProperty(h,m,{configurable:!0,writable:!0,value:v}),p&&p(m,v)}}function u(){try{return Function("return this;")()}catch{}}function c(){try{return(0,eval)("(function() { return this; })()")}catch{}}function d(){return u()||c()}})(function(t,r){var s=Object.prototype.hasOwnProperty,a=typeof Symbol=="function",u=a&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",c=a&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",d=typeof Object.create=="function",h={__proto__:[]}instanceof Array,p=!d&&!h,m={create:d?function(){return $n(Object.create(null))}:h?function(){return $n({__proto__:null})}:function(){return $n({})},has:p?function(W,K){return s.call(W,K)}:function(W,K){return K in W},get:p?function(W,K){return s.call(W,K)?W[K]:void 0}:function(W,K){return W[K]}},v=Object.getPrototypeOf(Function),_=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Zt(),w=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Fn(),E=typeof WeakMap=="function"?WeakMap:ni(),S=a?Symbol.for("@reflect-metadata:registry"):void 0,P=Wt(),O=_n(P);function R(W,K,re,we){if(ee(re)){if(!it(W))throw new TypeError;if(!nn(K))throw new TypeError;return Z(W,K)}else{if(!it(W))throw new TypeError;if(!me(K))throw new TypeError;if(!me(we)&&!ee(we)&&!ge(we))throw new TypeError;return ge(we)&&(we=void 0),re=ft(re),ne(W,K,re,we)}}t("decorate",R);function N(W,K){function re(we,Fe){if(!me(we))throw new TypeError;if(!ee(Fe)&&!de(Fe))throw new TypeError;te(W,K,we,Fe)}return re}t("metadata",N);function x(W,K,re,we){if(!me(re))throw new TypeError;return ee(we)||(we=ft(we)),te(W,K,re,we)}t("defineMetadata",x);function k(W,K,re){if(!me(K))throw new TypeError;return ee(re)||(re=ft(re)),he(W,K,re)}t("hasMetadata",k);function T(W,K,re){if(!me(K))throw new TypeError;return ee(re)||(re=ft(re)),se(W,K,re)}t("hasOwnMetadata",T);function A(W,K,re){if(!me(K))throw new TypeError;return ee(re)||(re=ft(re)),oe(W,K,re)}t("getMetadata",A);function U(W,K,re){if(!me(K))throw new TypeError;return ee(re)||(re=ft(re)),q(W,K,re)}t("getOwnMetadata",U);function j(W,K){if(!me(W))throw new TypeError;return ee(K)||(K=ft(K)),Q(W,K)}t("getMetadataKeys",j);function V(W,K){if(!me(W))throw new TypeError;return ee(K)||(K=ft(K)),D(W,K)}t("getOwnMetadataKeys",V);function B(W,K,re){if(!me(K))throw new TypeError;if(ee(re)||(re=ft(re)),!me(K))throw new TypeError;ee(re)||(re=ft(re));var we=Ht(K,re,!1);return ee(we)?!1:we.OrdinaryDeleteMetadata(W,K,re)}t("deleteMetadata",B);function Z(W,K){for(var re=W.length-1;re>=0;--re){var we=W[re],Fe=we(K);if(!ee(Fe)&&!ge(Fe)){if(!nn(Fe))throw new TypeError;K=Fe}}return K}function ne(W,K,re,we){for(var Fe=W.length-1;Fe>=0;--Fe){var Tt=W[Fe],Pt=Tt(K,re,we);if(!ee(Pt)&&!ge(Pt)){if(!me(Pt))throw new TypeError;we=Pt}}return we}function he(W,K,re){var we=se(W,K,re);if(we)return!0;var Fe=zt(K);return ge(Fe)?!1:he(W,Fe,re)}function se(W,K,re){var we=Ht(K,re,!1);return ee(we)?!1:We(we.OrdinaryHasOwnMetadata(W,K,re))}function oe(W,K,re){var we=se(W,K,re);if(we)return q(W,K,re);var Fe=zt(K);if(!ge(Fe))return oe(W,Fe,re)}function q(W,K,re){var we=Ht(K,re,!1);if(!ee(we))return we.OrdinaryGetOwnMetadata(W,K,re)}function te(W,K,re,we){var Fe=Ht(re,we,!0);Fe.OrdinaryDefineOwnMetadata(W,K,re,we)}function Q(W,K){var re=D(W,K),we=zt(W);if(we===null)return re;var Fe=Q(we,K);if(Fe.length<=0)return re;if(re.length<=0)return Fe;for(var Tt=new w,Pt=[],qe=0,Se=re;qe<Se.length;qe++){var Ee=Se[qe],be=Tt.has(Ee);be||(Tt.add(Ee),Pt.push(Ee))}for(var Ne=0,Ze=Fe;Ne<Ze.length;Ne++){var Ee=Ze[Ne],be=Tt.has(Ee);be||(Tt.add(Ee),Pt.push(Ee))}return Pt}function D(W,K){var re=Ht(W,K,!1);return re?re.OrdinaryOwnMetadataKeys(W,K):[]}function G(W){if(W===null)return 1;switch(typeof W){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return W===null?1:6;default:return 6}}function ee(W){return W===void 0}function ge(W){return W===null}function ue(W){return typeof W=="symbol"}function me(W){return typeof W=="object"?W!==null:typeof W=="function"}function Ie(W,K){switch(G(W)){case 0:return W;case 1:return W;case 2:return W;case 3:return W;case 4:return W;case 5:return W}var re="string",we=st(W,u);if(we!==void 0){var Fe=we.call(W,re);if(me(Fe))throw new TypeError;return Fe}return ce(W)}function ce(W,K){var re,we,Fe;{var Tt=W.toString;if(bt(Tt)){var we=Tt.call(W);if(!me(we))return we}var re=W.valueOf;if(bt(re)){var we=re.call(W);if(!me(we))return we}}throw new TypeError}function We(W){return!!W}function ct(W){return""+W}function ft(W){var K=Ie(W);return ue(K)?K:ct(K)}function it(W){return Array.isArray?Array.isArray(W):W instanceof Object?W instanceof Array:Object.prototype.toString.call(W)==="[object Array]"}function bt(W){return typeof W=="function"}function nn(W){return typeof W=="function"}function de(W){switch(G(W)){case 3:return!0;case 4:return!0;default:return!1}}function Te(W,K){return W===K||W!==W&&K!==K}function st(W,K){var re=W[K];if(re!=null){if(!bt(re))throw new TypeError;return re}}function lt(W){var K=st(W,c);if(!bt(K))throw new TypeError;var re=K.call(W);if(!me(re))throw new TypeError;return re}function Ge(W){return W.value}function Ye(W){var K=W.next();return K.done?!1:K}function yt(W){var K=W.return;K&&K.call(W)}function zt(W){var K=Object.getPrototypeOf(W);if(typeof W!="function"||W===v||K!==v)return K;var re=W.prototype,we=re&&Object.getPrototypeOf(re);if(we==null||we===Object.prototype)return K;var Fe=we.constructor;return typeof Fe!="function"||Fe===W?K:Fe}function vn(){var W;!ee(S)&&typeof r.Reflect<"u"&&!(S in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(W=Ke(r.Reflect));var K,re,we,Fe=new E,Tt={registerProvider:Pt,getProvider:Se,setProvider:be};return Tt;function Pt(Ne){if(!Object.isExtensible(Tt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case W===Ne:break;case ee(K):K=Ne;break;case K===Ne:break;case ee(re):re=Ne;break;case re===Ne:break;default:we===void 0&&(we=new w),we.add(Ne);break}}function qe(Ne,Ze){if(!ee(K)){if(K.isProviderFor(Ne,Ze))return K;if(!ee(re)){if(re.isProviderFor(Ne,Ze))return K;if(!ee(we))for(var vt=lt(we);;){var xt=Ye(vt);if(!xt)return;var ln=Ge(xt);if(ln.isProviderFor(Ne,Ze))return yt(vt),ln}}}if(!ee(W)&&W.isProviderFor(Ne,Ze))return W}function Se(Ne,Ze){var vt=Fe.get(Ne),xt;return ee(vt)||(xt=vt.get(Ze)),ee(xt)&&(xt=qe(Ne,Ze),ee(xt)||(ee(vt)&&(vt=new _,Fe.set(Ne,vt)),vt.set(Ze,xt))),xt}function Ee(Ne){if(ee(Ne))throw new TypeError;return K===Ne||re===Ne||!ee(we)&&we.has(Ne)}function be(Ne,Ze,vt){if(!Ee(vt))throw new Error("Metadata provider not registered.");var xt=Se(Ne,Ze);if(xt!==vt){if(!ee(xt))return!1;var ln=Fe.get(Ne);ee(ln)&&(ln=new _,Fe.set(Ne,ln)),ln.set(Ze,vt)}return!0}}function Wt(){var W;return!ee(S)&&me(r.Reflect)&&Object.isExtensible(r.Reflect)&&(W=r.Reflect[S]),ee(W)&&(W=vn()),!ee(S)&&me(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,S,{enumerable:!1,configurable:!1,writable:!1,value:W}),W}function _n(W){var K=new E,re={isProviderFor:function(Ee,be){var Ne=K.get(Ee);return ee(Ne)?!1:Ne.has(be)},OrdinaryDefineOwnMetadata:Pt,OrdinaryHasOwnMetadata:Fe,OrdinaryGetOwnMetadata:Tt,OrdinaryOwnMetadataKeys:qe,OrdinaryDeleteMetadata:Se};return P.registerProvider(re),re;function we(Ee,be,Ne){var Ze=K.get(Ee),vt=!1;if(ee(Ze)){if(!Ne)return;Ze=new _,K.set(Ee,Ze),vt=!0}var xt=Ze.get(be);if(ee(xt)){if(!Ne)return;if(xt=new _,Ze.set(be,xt),!W.setProvider(Ee,be,re))throw Ze.delete(be),vt&&K.delete(Ee),new Error("Wrong provider for target.")}return xt}function Fe(Ee,be,Ne){var Ze=we(be,Ne,!1);return ee(Ze)?!1:We(Ze.has(Ee))}function Tt(Ee,be,Ne){var Ze=we(be,Ne,!1);if(!ee(Ze))return Ze.get(Ee)}function Pt(Ee,be,Ne,Ze){var vt=we(Ne,Ze,!0);vt.set(Ee,be)}function qe(Ee,be){var Ne=[],Ze=we(Ee,be,!1);if(ee(Ze))return Ne;for(var vt=Ze.keys(),xt=lt(vt),ln=0;;){var Ar=Ye(xt);if(!Ar)return Ne.length=ln,Ne;var So=Ge(Ar);try{Ne[ln]=So}catch(wi){try{yt(xt)}finally{throw wi}}ln++}}function Se(Ee,be,Ne){var Ze=we(be,Ne,!1);if(ee(Ze)||!Ze.delete(Ee))return!1;if(Ze.size===0){var vt=K.get(be);ee(vt)||(vt.delete(Ne),vt.size===0&&K.delete(vt))}return!0}}function Ke(W){var K=W.defineMetadata,re=W.hasOwnMetadata,we=W.getOwnMetadata,Fe=W.getOwnMetadataKeys,Tt=W.deleteMetadata,Pt=new E,qe={isProviderFor:function(Se,Ee){var be=Pt.get(Se);return!ee(be)&&be.has(Ee)?!0:Fe(Se,Ee).length?(ee(be)&&(be=new w,Pt.set(Se,be)),be.add(Ee),!0):!1},OrdinaryDefineOwnMetadata:K,OrdinaryHasOwnMetadata:re,OrdinaryGetOwnMetadata:we,OrdinaryOwnMetadataKeys:Fe,OrdinaryDeleteMetadata:Tt};return qe}function Ht(W,K,re){var we=P.getProvider(W,K);if(!ee(we))return we;if(re){if(P.setProvider(W,K,O))return O;throw new Error("Illegal state.")}}function Zt(){var W={},K=[],re=function(){function qe(Se,Ee,be){this._index=0,this._keys=Se,this._values=Ee,this._selector=be}return qe.prototype["@@iterator"]=function(){return this},qe.prototype[c]=function(){return this},qe.prototype.next=function(){var Se=this._index;if(Se>=0&&Se<this._keys.length){var Ee=this._selector(this._keys[Se],this._values[Se]);return Se+1>=this._keys.length?(this._index=-1,this._keys=K,this._values=K):this._index++,{value:Ee,done:!1}}return{value:void 0,done:!0}},qe.prototype.throw=function(Se){throw this._index>=0&&(this._index=-1,this._keys=K,this._values=K),Se},qe.prototype.return=function(Se){return this._index>=0&&(this._index=-1,this._keys=K,this._values=K),{value:Se,done:!0}},qe}(),we=function(){function qe(){this._keys=[],this._values=[],this._cacheKey=W,this._cacheIndex=-2}return Object.defineProperty(qe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),qe.prototype.has=function(Se){return this._find(Se,!1)>=0},qe.prototype.get=function(Se){var Ee=this._find(Se,!1);return Ee>=0?this._values[Ee]:void 0},qe.prototype.set=function(Se,Ee){var be=this._find(Se,!0);return this._values[be]=Ee,this},qe.prototype.delete=function(Se){var Ee=this._find(Se,!1);if(Ee>=0){for(var be=this._keys.length,Ne=Ee+1;Ne<be;Ne++)this._keys[Ne-1]=this._keys[Ne],this._values[Ne-1]=this._values[Ne];return this._keys.length--,this._values.length--,Te(Se,this._cacheKey)&&(this._cacheKey=W,this._cacheIndex=-2),!0}return!1},qe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=W,this._cacheIndex=-2},qe.prototype.keys=function(){return new re(this._keys,this._values,Fe)},qe.prototype.values=function(){return new re(this._keys,this._values,Tt)},qe.prototype.entries=function(){return new re(this._keys,this._values,Pt)},qe.prototype["@@iterator"]=function(){return this.entries()},qe.prototype[c]=function(){return this.entries()},qe.prototype._find=function(Se,Ee){if(!Te(this._cacheKey,Se)){this._cacheIndex=-1;for(var be=0;be<this._keys.length;be++)if(Te(this._keys[be],Se)){this._cacheIndex=be;break}}return this._cacheIndex<0&&Ee&&(this._cacheIndex=this._keys.length,this._keys.push(Se),this._values.push(void 0)),this._cacheIndex},qe}();return we;function Fe(qe,Se){return qe}function Tt(qe,Se){return Se}function Pt(qe,Se){return[qe,Se]}}function Fn(){var W=function(){function K(){this._map=new _}return Object.defineProperty(K.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),K.prototype.has=function(re){return this._map.has(re)},K.prototype.add=function(re){return this._map.set(re,re),this},K.prototype.delete=function(re){return this._map.delete(re)},K.prototype.clear=function(){this._map.clear()},K.prototype.keys=function(){return this._map.keys()},K.prototype.values=function(){return this._map.keys()},K.prototype.entries=function(){return this._map.entries()},K.prototype["@@iterator"]=function(){return this.keys()},K.prototype[c]=function(){return this.keys()},K}();return W}function ni(){var W=16,K=m.create(),re=we();return function(){function Se(){this._key=we()}return Se.prototype.has=function(Ee){var be=Fe(Ee,!1);return be!==void 0?m.has(be,this._key):!1},Se.prototype.get=function(Ee){var be=Fe(Ee,!1);return be!==void 0?m.get(be,this._key):void 0},Se.prototype.set=function(Ee,be){var Ne=Fe(Ee,!0);return Ne[this._key]=be,this},Se.prototype.delete=function(Ee){var be=Fe(Ee,!1);return be!==void 0?delete be[this._key]:!1},Se.prototype.clear=function(){this._key=we()},Se}();function we(){var Se;do Se="@@WeakMap@@"+qe();while(m.has(K,Se));return K[Se]=!0,Se}function Fe(Se,Ee){if(!s.call(Se,re)){if(!Ee)return;Object.defineProperty(Se,re,{value:m.create()})}return Se[re]}function Tt(Se,Ee){for(var be=0;be<Ee;++be)Se[be]=Math.random()*255|0;return Se}function Pt(Se){if(typeof Uint8Array=="function"){var Ee=new Uint8Array(Se);return typeof crypto<"u"?crypto.getRandomValues(Ee):typeof msCrypto<"u"?msCrypto.getRandomValues(Ee):Tt(Ee,Se),Ee}return Tt(new Array(Se),Se)}function qe(){var Se=Pt(W);Se[6]=Se[6]&79|64,Se[8]=Se[8]&191|128;for(var Ee="",be=0;be<W;++be){var Ne=Se[be];(be===4||be===6||be===8)&&(Ee+="-"),Ne<16&&(Ee+="0"),Ee+=Ne.toString(16).toLowerCase()}return Ee}}function $n(W){return W.__=void 0,delete W.__,W}})}(n||(n={})),J1}EP();function MP(){return C.jsxs("footer",{children:[C.jsxs("p",{children:["Copyright  2021 - ",new Date().getFullYear()," Toni Barth"]}),C.jsx(Rn,{to:"/privacy-policy",children:"Privacy Policy"})]})}var np={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var t_;function bP(){return t_||(t_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=s(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=s(u,c));return u}function s(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(np)),np.exports}var TP=bP();const ze=gi(TP),xP=["xxl","xl","lg","md","sm","xs"],CP="xs",eu=M.createContext({prefixes:{},breakpoints:xP,minBreakpoint:CP}),{Consumer:L5,Provider:F5}=eu;function Je(n,e){const{prefixes:t}=M.useContext(eu);return n||t[e]||e}function $5(){const{breakpoints:n}=M.useContext(eu);return n}function U5(){const{minBreakpoint:n}=M.useContext(eu);return n}function C0(){const{dir:n}=M.useContext(eu);return n==="rtl"}const P0=M.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...s},a)=>{const u=Je(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(t,{ref:a,...s,className:ze(r,e?`${u}${c}`:u)})});P0.displayName="Container";function Op(){return Op=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Op.apply(null,arguments)}function N0(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function n_(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function PP(n){var e=NP(n,"string");return typeof e=="symbol"?e:String(e)}function NP(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function AP(n,e,t){var r=M.useRef(n!==void 0),s=M.useState(e),a=s[0],u=s[1],c=n!==void 0,d=r.current;return r.current=c,!c&&d&&a!==e&&u(e),[c?n:a,M.useCallback(function(h){for(var p=arguments.length,m=new Array(p>1?p-1:0),v=1;v<p;v++)m[v-1]=arguments[v];t&&t.apply(void 0,[h].concat(m)),u(h)},[t])]}function xd(n,e){return Object.keys(e).reduce(function(t,r){var s,a=t,u=a[n_(r)],c=a[r],d=N0(a,[n_(r),r].map(PP)),h=e[r],p=AP(c,u,n[h]),m=p[0],v=p[1];return Op({},d,(s={},s[r]=m,s[h]=v,s))},n)}function Rp(n,e){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Rp(n,e)}function kP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Rp(n,e)}var OP=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ri(n,e){return OP(n.querySelectorAll(e))}function A0(){const[,n]=M.useReducer(e=>e+1,0);return n}const r_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function RP(n,e){const t=r_(n),r=r_(e);return s=>{t&&t(s),r&&r(s)}}function Cd(n,e){return M.useMemo(()=>RP(n,e),[n,e])}const Pd=M.createContext(null);Pd.displayName="NavContext";const lo=M.createContext(null),fa=(n,e=null)=>n!=null?String(n):e||null,k0=M.createContext(null),IP="data-rr-ui-",DP="rrUi";function ka(n){return`${IP}${n}`}function jP(n){return`${DP}${n}`}function LP(n){const e=M.useRef(n);return M.useEffect(()=>{e.current=n},[n]),e}function Nn(n){const e=LP(n);return M.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const FP=["as","disabled"];function $P(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function UP(n){return!n||n.trim()==="#"}function Sm({tagName:n,disabled:e,href:t,target:r,rel:s,role:a,onClick:u,tabIndex:c=0,type:d}){n||(t!=null||r!=null||s!=null?n="a":n="button");const h={tagName:n};if(n==="button")return[{type:d||"button",disabled:e},h];const p=v=>{if((e||n==="a"&&UP(t))&&v.preventDefault(),e){v.stopPropagation();return}u==null||u(v)},m=v=>{v.key===" "&&(v.preventDefault(),p(v))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:p,onKeyDown:m},h]}const Em=M.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=$P(n,FP);const[a,{tagName:u}]=Sm(Object.assign({tagName:t,disabled:r},s));return C.jsx(u,Object.assign({},s,a,{ref:e}))});Em.displayName="Button";const BP=["as","active","eventKey"];function VP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mm({key:n,onClick:e,active:t,id:r,role:s,disabled:a}){const u=M.useContext(lo),c=M.useContext(Pd),d=M.useContext(k0);let h=t;const p={role:s};if(c){!s&&c.role==="tablist"&&(p.role="tab");const m=c.getControllerId(n??null),v=c.getControlledId(n??null);p[ka("event-key")]=n,p.id=m||r,h=t==null&&n!=null?c.activeKey===n:t,(h||!(d!=null&&d.unmountOnExit)&&!(d!=null&&d.mountOnEnter))&&(p["aria-controls"]=v)}return p.role==="tab"&&(p["aria-selected"]=h,h||(p.tabIndex=-1),a&&(p.tabIndex=-1,p["aria-disabled"]=!0)),p.onClick=Nn(m=>{a||(e==null||e(m),n!=null&&u&&!m.isPropagationStopped()&&u(n,m))}),[p,{isActive:h}]}const O0=M.forwardRef((n,e)=>{let{as:t=Em,active:r,eventKey:s}=n,a=VP(n,BP);const[u,c]=Mm(Object.assign({key:fa(s,a.href),active:r},a));return u[ka("active")]=c.isActive,C.jsx(t,Object.assign({},a,u,{ref:e}))});O0.displayName="NavItem";const zP=["as","onSelect","activeKey","role","onKeyDown"];function WP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const i_=()=>{},s_=ka("event-key"),R0=M.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:s,role:a,onKeyDown:u}=n,c=WP(n,zP);const d=A0(),h=M.useRef(!1),p=M.useContext(lo),m=M.useContext(k0);let v,_;m&&(a=a||"tablist",s=m.activeKey,v=m.getControlledId,_=m.getControllerId);const w=M.useRef(null),E=R=>{const N=w.current;if(!N)return null;const x=Ri(N,`[${s_}]:not([aria-disabled=true])`),k=N.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const T=x.indexOf(k);if(T===-1)return null;let A=T+R;return A>=x.length&&(A=0),A<0&&(A=x.length-1),x[A]},S=(R,N)=>{R!=null&&(r==null||r(R,N),p==null||p(R,N))},P=R=>{if(u==null||u(R),!m)return;let N;switch(R.key){case"ArrowLeft":case"ArrowUp":N=E(-1);break;case"ArrowRight":case"ArrowDown":N=E(1);break;default:return}N&&(R.preventDefault(),S(N.dataset[jP("EventKey")]||null,R),h.current=!0,d())};M.useEffect(()=>{if(w.current&&h.current){const R=w.current.querySelector(`[${s_}][aria-selected=true]`);R==null||R.focus()}h.current=!1});const O=Cd(e,w);return C.jsx(lo.Provider,{value:S,children:C.jsx(Pd.Provider,{value:{role:a,activeKey:fa(s),getControlledId:v||i_,getControllerId:_||i_},children:C.jsx(t,Object.assign({},c,{onKeyDown:P,ref:O,role:a}))})})});R0.displayName="Nav";const I0=Object.assign(R0,{Item:O0}),mo=M.createContext(null);mo.displayName="NavbarContext";const bm=M.createContext(null);bm.displayName="CardHeaderContext";const D0=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"nav-item"),C.jsx(t,{ref:s,className:ze(n,e),...r})));D0.displayName="NavItem";function HP(){return M.useState(null)}function qP(n,e,t,r=!1){const s=Nn(t);M.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,s,r),()=>a.removeEventListener(e,s,r)},[n])}function j0(){const n=M.useRef(!0),e=M.useRef(()=>n.current);return M.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function L0(n){const e=M.useRef(null);return M.useEffect(()=>{e.current=n}),e.current}const ji=globalThis||void 0||self,GP=typeof ji<"u"&&ji.navigator&&ji.navigator.product==="ReactNative",YP=typeof document<"u",o_=YP||GP?M.useLayoutEffect:M.useEffect,KP=["onKeyDown"];function XP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function QP(n){return!n||n.trim()==="#"}const Tm=M.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=XP(n,KP);const[s]=Sm(Object.assign({tagName:"a"},r)),a=Nn(u=>{s.onKeyDown(u),t==null||t(u)});return QP(r.href)||r.role==="button"?C.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:a})):C.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});Tm.displayName="Anchor";const xm=M.forwardRef(({bsPrefix:n,className:e,as:t=Tm,active:r,eventKey:s,disabled:a=!1,...u},c)=>{n=Je(n,"nav-link");const[d,h]=Mm({key:fa(s,u.href),active:r,disabled:a,...u});return C.jsx(t,{...u,...d,ref:c,disabled:a,className:ze(e,n,a&&"disabled",h.isActive&&"active")})});xm.displayName="NavLink";const F0=M.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:s,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:d,className:h,activeKey:p,...m}=xd(n,{activeKey:"onSelect"}),v=Je(r,"nav");let _,w,E=!1;const S=M.useContext(mo),P=M.useContext(bm);return S?(_=S.bsPrefix,E=c??!0):P&&({cardHeaderBsPrefix:w}=P),C.jsx(I0,{as:t,ref:e,activeKey:p,className:ze(h,{[v]:!E,[`${_}-nav`]:E,[`${_}-nav-scroll`]:E&&d,[`${w}-${s}`]:!!w,[`${v}-${s}`]:!!s,[`${v}-fill`]:a,[`${v}-justified`]:u}),...m})});F0.displayName="Nav";const $r=Object.assign(F0,{Item:D0,Link:xm}),$0=M.forwardRef(({bsPrefix:n,className:e,as:t,...r},s)=>{n=Je(n,"navbar-brand");const a=t||(r.href?"a":"span");return C.jsx(a,{...r,ref:s,className:ze(e,n)})});$0.displayName="NavbarBrand";function tu(n){return n&&n.ownerDocument||document}function ZP(n){var e=tu(n);return e&&e.defaultView||window}function JP(n,e){return ZP(n).getComputedStyle(n,e)}var eN=/([A-Z])/g;function tN(n){return n.replace(eN,"-$1").toLowerCase()}var nN=/^ms-/;function Nc(n){return tN(n).replace(nN,"-ms-")}var rN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iN(n){return!!(n&&rN.test(n))}function Li(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Nc(e))||JP(n).getPropertyValue(Nc(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?n.style.removeProperty(Nc(s)):iN(s)?r+=s+"("+a+") ":t+=Nc(s)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var rp={exports:{}},ip,a_;function sN(){if(a_)return ip;a_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ip=n,ip}var sp,l_;function oN(){if(l_)return sp;l_=1;var n=sN();function e(){}function t(){}return t.resetWarningCache=e,sp=function(){function r(u,c,d,h,p,m){if(m!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},sp}var u_;function U0(){return u_||(u_=1,rp.exports=oN()()),rp.exports}var aN=U0();const Ut=gi(aN),c_={disabled:!1},B0=Ot.createContext(null);var lN=function(e){return e.scrollTop},Il="unmounted",ms="exited",Vr="entering",Ii="entered",zl="exiting",Vi=function(n){kP(e,n);function e(r,s){var a;a=n.call(this,r,s)||this;var u=s,c=u&&!u.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?c?(d=ms,a.appearStatus=Vr):d=Ii:r.unmountOnExit||r.mountOnEnter?d=Il:d=ms,a.state={status:d},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===Il?{status:ms}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Vr&&u!==Ii&&(a=Vr):(u===Vr||u===Ii)&&(a=zl)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,a,u,c;return a=u=c=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,c=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:c}},t.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Vr){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Qs.findDOMNode(this);u&&lN(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ms&&this.setState({status:Il})},t.performEnter=function(s){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:s,d=this.props.nodeRef?[c]:[Qs.findDOMNode(this),c],h=d[0],p=d[1],m=this.getTimeouts(),v=c?m.appear:m.enter;if(!s&&!u||c_.disabled){this.safeSetState({status:Ii},function(){a.props.onEntered(h)});return}this.props.onEnter(h,p),this.safeSetState({status:Vr},function(){a.props.onEntering(h,p),a.onTransitionEnd(v,function(){a.safeSetState({status:Ii},function(){a.props.onEntered(h,p)})})})},t.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Qs.findDOMNode(this);if(!a||c_.disabled){this.safeSetState({status:ms},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:zl},function(){s.props.onExiting(c),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:ms},function(){s.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},t.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Qs.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=d[0],p=d[1];this.props.addEndListener(h,p)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Il)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=N0(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ot.createElement(B0.Provider,{value:null},typeof u=="function"?u(s,c):Ot.cloneElement(Ot.Children.only(u),c))},e}(Ot.Component);Vi.contextType=B0;Vi.propTypes={};function Go(){}Vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Go,onEntering:Go,onEntered:Go,onExit:Go,onExiting:Go,onExited:Go};Vi.UNMOUNTED=Il;Vi.EXITED=ms;Vi.ENTERING=Vr;Vi.ENTERED=Ii;Vi.EXITING=zl;function uN(n){return n.code==="Escape"||n.keyCode===27}function cN(){const n=M.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Oa(n){if(!n||typeof n=="function")return null;const{major:e}=cN();return e>=19?n.props.ref:n.ref}const Ra=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ip=!1,Dp=!1;try{var op={get passive(){return Ip=!0},get once(){return Dp=Ip=!0}};Ra&&(window.addEventListener("test",op,op),window.removeEventListener("test",op,!0))}catch{}function Cm(n,e,t,r){if(r&&typeof r!="boolean"&&!Dp){var s=r.once,a=r.capture,u=t;!Dp&&s&&(u=t.__once||function c(d){this.removeEventListener(e,c,a),t.call(this,d)},t.__once=u),n.addEventListener(e,u,Ip?r:a)}n.addEventListener(e,t,r)}function jp(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function _s(n,e,t,r){return Cm(n,e,t,r),function(){jp(n,e,t,r)}}function dN(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function fN(n){var e=Li(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function hN(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||dN(n,"transitionend",!0)},e+t),a=_s(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function V0(n,e,t,r){t==null&&(t=fN(n)||0);var s=hN(n,t,r),a=_s(n,"transitionend",e);return function(){s(),a()}}function d_(n,e){const t=Li(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Pm(n,e){const t=d_(n,"transitionDuration"),r=d_(n,"transitionDelay"),s=V0(n,a=>{a.target===n&&(s(),e(a))},t+r)}function Al(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function z0(n){n.offsetHeight}const f_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function pN(n,e){const t=f_(n),r=f_(e);return s=>{t&&t(s),r&&r(s)}}function Nd(n,e){return M.useMemo(()=>pN(n,e),[n,e])}function mN(n){return n&&"setState"in n?Qs.findDOMNode(n):n??null}const Nm=Ot.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:c,childRef:d,...h},p)=>{const m=M.useRef(null),v=Nd(m,d),_=k=>{v(mN(k))},w=k=>T=>{k&&m.current&&k(m.current,T)},E=M.useCallback(w(n),[n]),S=M.useCallback(w(e),[e]),P=M.useCallback(w(t),[t]),O=M.useCallback(w(r),[r]),R=M.useCallback(w(s),[s]),N=M.useCallback(w(a),[a]),x=M.useCallback(w(u),[u]);return C.jsx(Vi,{ref:p,...h,onEnter:E,onEntered:P,onEntering:S,onExit:O,onExited:N,onExiting:R,addEndListener:x,nodeRef:m,children:typeof c=="function"?(k,T)=>c(k,{...T,ref:_}):Ot.cloneElement(c,{ref:_})})}),gN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yN(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],s=gN[n];return r+parseInt(Li(e,s[0]),10)+parseInt(Li(e,s[1]),10)}const vN={[ms]:"collapse",[zl]:"collapsing",[Vr]:"collapsing",[Ii]:"collapse show"},_N=Ot.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,className:a,children:u,dimension:c="height",in:d=!1,timeout:h=300,mountOnEnter:p=!1,unmountOnExit:m=!1,appear:v=!1,getDimensionValue:_=yN,...w},E)=>{const S=typeof c=="function"?c():c,P=M.useMemo(()=>Al(k=>{k.style[S]="0"},n),[S,n]),O=M.useMemo(()=>Al(k=>{const T=`scroll${S[0].toUpperCase()}${S.slice(1)}`;k.style[S]=`${k[T]}px`},e),[S,e]),R=M.useMemo(()=>Al(k=>{k.style[S]=null},t),[S,t]),N=M.useMemo(()=>Al(k=>{k.style[S]=`${_(S,k)}px`,z0(k)},r),[r,_,S]),x=M.useMemo(()=>Al(k=>{k.style[S]=null},s),[S,s]);return C.jsx(Nm,{ref:E,addEndListener:Pm,...w,"aria-expanded":w.role?d:null,onEnter:P,onEntering:O,onEntered:R,onExit:N,onExiting:x,childRef:Oa(u),in:d,timeout:h,mountOnEnter:p,unmountOnExit:m,appear:v,children:(k,T)=>Ot.cloneElement(u,{...T,className:ze(a,u.props.className,vN[k],S==="width"&&"collapse-horizontal")})})}),W0=M.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Je(e,"navbar-collapse");const s=M.useContext(mo);return C.jsx(_N,{in:!!(s&&s.expanded),...t,children:C.jsx("div",{ref:r,className:e,children:n})})});W0.displayName="NavbarCollapse";function wN(n){const e=M.useRef(n);return M.useEffect(()=>{e.current=n},[n]),e}function bs(n){const e=wN(n);return M.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const H0=M.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:s="button",onClick:a,...u},c)=>{n=Je(n,"navbar-toggler");const{onToggle:d,expanded:h}=M.useContext(mo)||{},p=bs(m=>{a&&a(m),d&&d()});return s==="button"&&(u.type="button"),C.jsx(s,{...u,ref:c,onClick:p,"aria-label":r,className:ze(e,n,!h&&"collapsed"),children:t||C.jsx("span",{className:`${n}-icon`})})});H0.displayName="NavbarToggle";const SN=typeof ji<"u"&&ji.navigator&&ji.navigator.product==="ReactNative",EN=typeof document<"u",q0=EN||SN?M.useLayoutEffect:M.useEffect,Lp=new WeakMap,h_=(n,e)=>{if(!n||!e)return;const t=Lp.get(e)||new Map;Lp.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function MN(n,e=typeof window>"u"?void 0:window){const t=h_(n,e),[r,s]=M.useState(()=>t?t.matches:!1);return q0(()=>{let a=h_(n,e);if(!a)return s(!1);let u=Lp.get(e);const c=()=>{s(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(u==null||u.delete(a.media)),a=void 0}},[n]),r}function bN(n){const e=Object.keys(n);function t(c,d){return c===d?d:c?`${c} and ${d}`:d}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function s(c){const d=r(c);let h=n[d];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function a(c){let d=n[c];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function u(c,d,h){let p;typeof c=="object"?(p=c,h=d,d=!0):(d=d||!0,p={[c]:d});let m=M.useMemo(()=>Object.entries(p).reduce((v,[_,w])=>((w==="up"||w===!0)&&(v=t(v,a(_))),(w==="down"||w===!0)&&(v=t(v,s(_))),v),""),[JSON.stringify(p)]);return MN(m,h)}return u}const TN=bN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function ap(n){n===void 0&&(n=tu());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function Jc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function xN(n){const e=M.useRef(n);return e.current=n,e}function CN(n){const e=xN(n);M.useEffect(()=>()=>e.current(),[])}function PN(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const p_=ka("modal-open");class Am{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return PN(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(Li(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(p_,""),Li(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(p_),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const G0=M.createContext(Ra?window:void 0);G0.Provider;function Ad(){return M.useContext(G0)}const lp=(n,e)=>Ra?n==null?(e||tu()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function NN(n,e){const t=Ad(),[r,s]=M.useState(()=>lp(n,t==null?void 0:t.document));if(!r){const a=lp(n);a&&s(a)}return M.useEffect(()=>{},[e,r]),M.useEffect(()=>{const a=lp(n);a!==r&&s(a)},[n,r]),r}function AN({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const a=M.useRef(null),u=M.useRef(e),c=Nn(t);M.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const d=Cd(a,Oa(n)),h=M.cloneElement(n,{ref:d});return e?h:s||!u.current&&r?null:h}const kN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ON(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function RN(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:c,children:d}=n,h=ON(n,kN);const p=M.useRef(null),m=Cd(p,Oa(d)),v=N=>x=>{N&&p.current&&N(p.current,x)},_=M.useCallback(v(e),[e]),w=M.useCallback(v(t),[t]),E=M.useCallback(v(r),[r]),S=M.useCallback(v(s),[s]),P=M.useCallback(v(a),[a]),O=M.useCallback(v(u),[u]),R=M.useCallback(v(c),[c]);return Object.assign({},h,{nodeRef:p},e&&{onEnter:_},t&&{onEntering:w},r&&{onEntered:E},s&&{onExit:S},a&&{onExiting:P},u&&{onExited:O},c&&{addEndListener:R},{children:typeof d=="function"?(N,x)=>d(N,Object.assign({},x,{ref:m})):M.cloneElement(d,{ref:m})})}const IN=["component"];function DN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const jN=M.forwardRef((n,e)=>{let{component:t}=n,r=DN(n,IN);const s=RN(r);return C.jsx(t,Object.assign({ref:e},s))});function LN({in:n,onTransition:e}){const t=M.useRef(null),r=M.useRef(!0),s=Nn(e);return o_(()=>{if(!t.current)return;let a=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,s]),o_(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function FN({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[a,u]=M.useState(!e);e&&a&&u(!1);const c=LN({in:!!e,onTransition:h=>{const p=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(u(!0),t==null||t(h.element)))};Promise.resolve(s(h)).then(p,m=>{throw h.in||u(!0),m})}}),d=Cd(c,Oa(n));return a&&!e?null:M.cloneElement(n,{ref:d})}function m_(n,e,t){return n?C.jsx(jN,Object.assign({},t,{component:n})):e?C.jsx(FN,Object.assign({},t,{transition:e})):C.jsx(AN,Object.assign({},t))}const $N=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function UN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let up;function BN(n){return up||(up=new Am({ownerDocument:n==null?void 0:n.document})),up}function VN(n){const e=Ad(),t=n||BN(e),r=M.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:M.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:M.useCallback(s=>{r.current.backdrop=s},[])})}const Y0=M.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:a,children:u,backdrop:c=!0,keyboard:d=!0,onBackdropClick:h,onEscapeKeyDown:p,transition:m,runTransition:v,backdropTransition:_,runBackdropTransition:w,autoFocus:E=!0,enforceFocus:S=!0,restoreFocus:P=!0,restoreFocusOptions:O,renderDialog:R,renderBackdrop:N=de=>C.jsx("div",Object.assign({},de)),manager:x,container:k,onShow:T,onHide:A=()=>{},onExit:U,onExited:j,onExiting:V,onEnter:B,onEntering:Z,onEntered:ne}=n,he=UN(n,$N);const se=Ad(),oe=NN(k),q=VN(x),te=j0(),Q=L0(t),[D,G]=M.useState(!t),ee=M.useRef(null);M.useImperativeHandle(e,()=>q,[q]),Ra&&!Q&&t&&(ee.current=ap(se==null?void 0:se.document)),t&&D&&G(!1);const ge=Nn(()=>{if(q.add(),ct.current=_s(document,"keydown",ce),We.current=_s(document,"focus",()=>setTimeout(me),!0),T&&T(),E){var de,Te;const st=ap((de=(Te=q.dialog)==null?void 0:Te.ownerDocument)!=null?de:se==null?void 0:se.document);q.dialog&&st&&!Jc(q.dialog,st)&&(ee.current=st,q.dialog.focus())}}),ue=Nn(()=>{if(q.remove(),ct.current==null||ct.current(),We.current==null||We.current(),P){var de;(de=ee.current)==null||de.focus==null||de.focus(O),ee.current=null}});M.useEffect(()=>{!t||!oe||ge()},[t,oe,ge]),M.useEffect(()=>{D&&ue()},[D,ue]),CN(()=>{ue()});const me=Nn(()=>{if(!S||!te()||!q.isTopModal())return;const de=ap(se==null?void 0:se.document);q.dialog&&de&&!Jc(q.dialog,de)&&q.dialog.focus()}),Ie=Nn(de=>{de.target===de.currentTarget&&(h==null||h(de),c===!0&&A())}),ce=Nn(de=>{d&&uN(de)&&q.isTopModal()&&(p==null||p(de),de.defaultPrevented||A())}),We=M.useRef(),ct=M.useRef(),ft=(...de)=>{G(!0),j==null||j(...de)};if(!oe)return null;const it=Object.assign({role:r,ref:q.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},he,{style:a,className:s,tabIndex:-1});let bt=R?R(it):C.jsx("div",Object.assign({},it,{children:M.cloneElement(u,{role:"document"})}));bt=m_(m,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:U,onExiting:V,onExited:ft,onEnter:B,onEntering:Z,onEntered:ne,children:bt});let nn=null;return c&&(nn=N({ref:q.setBackdropRef,onClick:Ie}),nn=m_(_,w,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:nn})),C.jsx(C.Fragment,{children:Qs.createPortal(C.jsxs(C.Fragment,{children:[nn,bt]}),oe)})});Y0.displayName="Modal";const K0=Object.assign(Y0,{Manager:Am}),zN={[Vr]:"show",[Ii]:"show"},kd=M.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=M.useCallback((d,h)=>{z0(d),r==null||r(d,h)},[r]);return C.jsx(Nm,{ref:a,addEndListener:Pm,...u,onEnter:c,childRef:Oa(e),children:(d,h)=>M.cloneElement(e,{...h,className:ze("fade",n,e.props.className,zN[d],t[d])})})});kd.displayName="Fade";const X0=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"offcanvas-body"),C.jsx(t,{ref:s,className:ze(n,e),...r})));X0.displayName="OffcanvasBody";const WN={[Vr]:"show",[Ii]:"show"},Q0=M.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:u=!1,...c},d)=>(n=Je(n,"offcanvas"),C.jsx(Nm,{ref:d,addEndListener:Pm,in:r,mountOnEnter:s,unmountOnExit:a,appear:u,...c,childRef:Oa(t),children:(h,p)=>M.cloneElement(t,{...p,className:ze(e,t.props.className,(h===Vr||h===zl)&&`${n}-toggling`,WN[h])})})));Q0.displayName="OffcanvasToggling";const km=M.createContext({onHide(){}}),HN={"aria-label":Ut.string,onClick:Ut.func,variant:Ut.oneOf(["white"])},Om=M.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>C.jsx("button",{ref:s,type:"button",className:ze("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Om.displayName="CloseButton";Om.propTypes=HN;const Z0=M.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...a},u)=>{const c=M.useContext(km),d=bs(()=>{c==null||c.onHide(),r==null||r()});return C.jsxs("div",{ref:u,...a,children:[s,t&&C.jsx(Om,{"aria-label":n,variant:e,onClick:d})]})}),J0=M.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Je(n,"offcanvas-header"),C.jsx(Z0,{ref:a,...s,className:ze(e,n),closeLabel:t,closeButton:r})));J0.displayName="OffcanvasHeader";const Od=n=>M.forwardRef((e,t)=>C.jsx("div",{...e,ref:t,className:ze(e.className,n)})),qN=Od("h5"),eS=M.forwardRef(({className:n,bsPrefix:e,as:t=qN,...r},s)=>(e=Je(e,"offcanvas-title"),C.jsx(t,{ref:s,className:ze(n,e),...r})));eS.displayName="OffcanvasTitle";function GN(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function YN(n,e){n.classList?n.classList.add(e):GN(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function g_(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KN(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=g_(n.className,e):n.setAttribute("class",g_(n.className&&n.className.baseVal||"",e))}const Yo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class tS extends Am{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,Li(t,{[e]:`${parseFloat(Li(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],Li(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(YN(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ri(t,Yo.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ri(t,Yo.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Ri(t,Yo.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();KN(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ri(t,Yo.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ri(t,Yo.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Ri(t,Yo.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let cp;function nS(n){return cp||(cp=new tS(n)),cp}function XN(n){return C.jsx(Q0,{...n})}function QN(n){return C.jsx(kd,{...n})}const rS=M.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:s="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:p,onShow:m,onHide:v,container:_,autoFocus:w=!0,enforceFocus:E=!0,restoreFocus:S=!0,restoreFocusOptions:P,onEntered:O,onExit:R,onExiting:N,onEnter:x,onEntering:k,onExited:T,backdropClassName:A,manager:U,renderStaticNode:j=!1,...V},B)=>{const Z=M.useRef();n=Je(n,"offcanvas");const[ne,he]=M.useState(!1),se=bs(v),oe=TN(a||"xs","up");M.useEffect(()=>{he(a?u&&!oe:u)},[u,a,oe]);const q=M.useMemo(()=>({onHide:se}),[se]);function te(){return U||(h?(Z.current||(Z.current=new tS({handleContainerOverflow:!1})),Z.current):nS())}const Q=(ge,...ue)=>{ge&&(ge.style.visibility="visible"),x==null||x(ge,...ue)},D=(ge,...ue)=>{ge&&(ge.style.visibility=""),T==null||T(...ue)},G=M.useCallback(ge=>C.jsx("div",{...ge,className:ze(`${n}-backdrop`,A)}),[A,n]),ee=ge=>C.jsx("div",{...ge,...V,className:ze(e,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":r,children:t});return C.jsxs(C.Fragment,{children:[!ne&&(a||j)&&ee({}),C.jsx(km.Provider,{value:q,children:C.jsx(K0,{show:ne,ref:B,backdrop:c,container:_,keyboard:d,autoFocus:w,enforceFocus:E&&!h,restoreFocus:S,restoreFocusOptions:P,onEscapeKeyDown:p,onShow:m,onHide:se,onEnter:Q,onEntering:k,onEntered:O,onExit:R,onExiting:N,onExited:D,manager:te(),transition:XN,backdropTransition:QN,renderBackdrop:G,renderDialog:ee})})]})});rS.displayName="Offcanvas";const ZN=Object.assign(rS,{Body:X0,Header:J0,Title:eS}),iS=M.forwardRef(({onHide:n,...e},t)=>{const r=M.useContext(mo),s=bs(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return C.jsx(ZN,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});iS.displayName="NavbarOffcanvas";const sS=M.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Je(e,"navbar-text"),C.jsx(t,{ref:s,className:ze(n,e),...r})));sS.displayName="NavbarText";const oS=M.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:s="light",bg:a,fixed:u,sticky:c,className:d,as:h="nav",expanded:p,onToggle:m,onSelect:v,collapseOnSelect:_=!1,...w}=xd(n,{expanded:"onToggle"}),E=Je(t,"navbar"),S=M.useCallback((...R)=>{v==null||v(...R),_&&p&&(m==null||m(!1))},[v,_,p,m]);w.role===void 0&&h!=="nav"&&(w.role="navigation");let P=`${E}-expand`;typeof r=="string"&&(P=`${P}-${r}`);const O=M.useMemo(()=>({onToggle:()=>m==null?void 0:m(!p),bsPrefix:E,expanded:!!p,expand:r}),[E,p,r,m]);return C.jsx(mo.Provider,{value:O,children:C.jsx(lo.Provider,{value:S,children:C.jsx(h,{ref:e,...w,className:ze(d,E,r&&P,s&&`${E}-${s}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});oS.displayName="Navbar";const y_=Object.assign(oS,{Brand:$0,Collapse:W0,Offcanvas:iS,Text:sS,Toggle:H0});function JN(n,e,t){const r=M.useRef(n!==void 0),[s,a]=M.useState(e),u=n!==void 0,c=r.current;return r.current=u,!u&&c&&s!==e&&a(e),[u?n:s,M.useCallback((...d)=>{const[h,...p]=d;let m=t==null?void 0:t(h,...p);return a(h),m},[t])]}const Rd=M.createContext(null);var v_=Object.prototype.hasOwnProperty;function __(n,e,t){for(t of n.keys())if(jl(t,e))return t}function jl(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&jl(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=__(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=__(e,s),!s)||!jl(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(v_.call(n,t)&&++r&&!v_.call(e,t)||!(t in e)||!jl(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function eA(n){const e=j0();return[n[0],M.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Kn="top",Cr="bottom",Pr="right",Xn="left",Rm="auto",nu=[Kn,Cr,Pr,Xn],ha="start",Wl="end",tA="clippingParents",aS="viewport",kl="popper",nA="reference",w_=nu.reduce(function(n,e){return n.concat([e+"-"+ha,e+"-"+Wl])},[]),lS=[].concat(nu,[Rm]).reduce(function(n,e){return n.concat([e,e+"-"+ha,e+"-"+Wl])},[]),rA="beforeRead",iA="read",sA="afterRead",oA="beforeMain",aA="main",lA="afterMain",uA="beforeWrite",cA="write",dA="afterWrite",fA=[rA,iA,sA,oA,aA,lA,uA,cA,dA];function di(n){return n.split("-")[0]}function cr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function uo(n){var e=cr(n).Element;return n instanceof e||n instanceof Element}function fi(n){var e=cr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Im(n){if(typeof ShadowRoot>"u")return!1;var e=cr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var ro=Math.max,ed=Math.min,pa=Math.round;function Fp(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function uS(){return!/^((?!chrome|android).)*safari/i.test(Fp())}function ma(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,a=1;e&&fi(n)&&(s=n.offsetWidth>0&&pa(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&pa(r.height)/n.offsetHeight||1);var u=uo(n)?cr(n):window,c=u.visualViewport,d=!uS()&&t,h=(r.left+(d&&c?c.offsetLeft:0))/s,p=(r.top+(d&&c?c.offsetTop:0))/a,m=r.width/s,v=r.height/a;return{width:m,height:v,top:p,right:h+m,bottom:p+v,left:h,x:h,y:p}}function Dm(n){var e=ma(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function cS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Im(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ts(n){return n?(n.nodeName||"").toLowerCase():null}function Bi(n){return cr(n).getComputedStyle(n)}function hA(n){return["table","td","th"].indexOf(Ts(n))>=0}function Os(n){return((uo(n)?n.ownerDocument:n.document)||window.document).documentElement}function Id(n){return Ts(n)==="html"?n:n.assignedSlot||n.parentNode||(Im(n)?n.host:null)||Os(n)}function S_(n){return!fi(n)||Bi(n).position==="fixed"?null:n.offsetParent}function pA(n){var e=/firefox/i.test(Fp()),t=/Trident/i.test(Fp());if(t&&fi(n)){var r=Bi(n);if(r.position==="fixed")return null}var s=Id(n);for(Im(s)&&(s=s.host);fi(s)&&["html","body"].indexOf(Ts(s))<0;){var a=Bi(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function ru(n){for(var e=cr(n),t=S_(n);t&&hA(t)&&Bi(t).position==="static";)t=S_(t);return t&&(Ts(t)==="html"||Ts(t)==="body"&&Bi(t).position==="static")?e:t||pA(n)||e}function jm(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ll(n,e,t){return ro(n,ed(e,t))}function mA(n,e,t){var r=Ll(n,e,t);return r>t?t:r}function dS(){return{top:0,right:0,bottom:0,left:0}}function fS(n){return Object.assign({},dS(),n)}function hS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var gA=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,fS(typeof e!="number"?e:hS(e,nu))};function yA(n){var e,t=n.state,r=n.name,s=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,c=di(t.placement),d=jm(c),h=[Xn,Pr].indexOf(c)>=0,p=h?"height":"width";if(!(!a||!u)){var m=gA(s.padding,t),v=Dm(a),_=d==="y"?Kn:Xn,w=d==="y"?Cr:Pr,E=t.rects.reference[p]+t.rects.reference[d]-u[d]-t.rects.popper[p],S=u[d]-t.rects.reference[d],P=ru(a),O=P?d==="y"?P.clientHeight||0:P.clientWidth||0:0,R=E/2-S/2,N=m[_],x=O-v[p]-m[w],k=O/2-v[p]/2+R,T=Ll(N,k,x),A=d;t.modifiersData[r]=(e={},e[A]=T,e.centerOffset=T-k,e)}}function vA(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||cS(e.elements.popper,s)&&(e.elements.arrow=s))}const _A={name:"arrow",enabled:!0,phase:"main",fn:yA,effect:vA,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ga(n){return n.split("-")[1]}var wA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SA(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:pa(t*s)/s||0,y:pa(r*s)/s||0}}function E_(n){var e,t=n.popper,r=n.popperRect,s=n.placement,a=n.variation,u=n.offsets,c=n.position,d=n.gpuAcceleration,h=n.adaptive,p=n.roundOffsets,m=n.isFixed,v=u.x,_=v===void 0?0:v,w=u.y,E=w===void 0?0:w,S=typeof p=="function"?p({x:_,y:E}):{x:_,y:E};_=S.x,E=S.y;var P=u.hasOwnProperty("x"),O=u.hasOwnProperty("y"),R=Xn,N=Kn,x=window;if(h){var k=ru(t),T="clientHeight",A="clientWidth";if(k===cr(t)&&(k=Os(t),Bi(k).position!=="static"&&c==="absolute"&&(T="scrollHeight",A="scrollWidth")),k=k,s===Kn||(s===Xn||s===Pr)&&a===Wl){N=Cr;var U=m&&k===x&&x.visualViewport?x.visualViewport.height:k[T];E-=U-r.height,E*=d?1:-1}if(s===Xn||(s===Kn||s===Cr)&&a===Wl){R=Pr;var j=m&&k===x&&x.visualViewport?x.visualViewport.width:k[A];_-=j-r.width,_*=d?1:-1}}var V=Object.assign({position:c},h&&wA),B=p===!0?SA({x:_,y:E},cr(t)):{x:_,y:E};if(_=B.x,E=B.y,d){var Z;return Object.assign({},V,(Z={},Z[N]=O?"0":"",Z[R]=P?"0":"",Z.transform=(x.devicePixelRatio||1)<=1?"translate("+_+"px, "+E+"px)":"translate3d("+_+"px, "+E+"px, 0)",Z))}return Object.assign({},V,(e={},e[N]=O?E+"px":"",e[R]=P?_+"px":"",e.transform="",e))}function EA(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,c=t.roundOffsets,d=c===void 0?!0:c,h={placement:di(e.placement),variation:ga(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,E_(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,E_(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const MA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:EA,data:{}};var Ac={passive:!0};function bA(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,a=s===void 0?!0:s,u=r.resize,c=u===void 0?!0:u,d=cr(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach(function(p){p.addEventListener("scroll",t.update,Ac)}),c&&d.addEventListener("resize",t.update,Ac),function(){a&&h.forEach(function(p){p.removeEventListener("scroll",t.update,Ac)}),c&&d.removeEventListener("resize",t.update,Ac)}}const TA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bA,data:{}};var xA={left:"right",right:"left",bottom:"top",top:"bottom"};function Bc(n){return n.replace(/left|right|bottom|top/g,function(e){return xA[e]})}var CA={start:"end",end:"start"};function M_(n){return n.replace(/start|end/g,function(e){return CA[e]})}function Lm(n){var e=cr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Fm(n){return ma(Os(n)).left+Lm(n).scrollLeft}function PA(n,e){var t=cr(n),r=Os(n),s=t.visualViewport,a=r.clientWidth,u=r.clientHeight,c=0,d=0;if(s){a=s.width,u=s.height;var h=uS();(h||!h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:a,height:u,x:c+Fm(n),y:d}}function NA(n){var e,t=Os(n),r=Lm(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=ro(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),u=ro(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+Fm(n),d=-r.scrollTop;return Bi(s||t).direction==="rtl"&&(c+=ro(t.clientWidth,s?s.clientWidth:0)-a),{width:a,height:u,x:c,y:d}}function $m(n){var e=Bi(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function pS(n){return["html","body","#document"].indexOf(Ts(n))>=0?n.ownerDocument.body:fi(n)&&$m(n)?n:pS(Id(n))}function Fl(n,e){var t;e===void 0&&(e=[]);var r=pS(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),a=cr(r),u=s?[a].concat(a.visualViewport||[],$m(r)?r:[]):r,c=e.concat(u);return s?c:c.concat(Fl(Id(u)))}function $p(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function AA(n,e){var t=ma(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function b_(n,e,t){return e===aS?$p(PA(n,t)):uo(e)?AA(e,t):$p(NA(Os(n)))}function kA(n){var e=Fl(Id(n)),t=["absolute","fixed"].indexOf(Bi(n).position)>=0,r=t&&fi(n)?ru(n):n;return uo(r)?e.filter(function(s){return uo(s)&&cS(s,r)&&Ts(s)!=="body"}):[]}function OA(n,e,t,r){var s=e==="clippingParents"?kA(n):[].concat(e),a=[].concat(s,[t]),u=a[0],c=a.reduce(function(d,h){var p=b_(n,h,r);return d.top=ro(p.top,d.top),d.right=ed(p.right,d.right),d.bottom=ed(p.bottom,d.bottom),d.left=ro(p.left,d.left),d},b_(n,u,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function mS(n){var e=n.reference,t=n.element,r=n.placement,s=r?di(r):null,a=r?ga(r):null,u=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,d;switch(s){case Kn:d={x:u,y:e.y-t.height};break;case Cr:d={x:u,y:e.y+e.height};break;case Pr:d={x:e.x+e.width,y:c};break;case Xn:d={x:e.x-t.width,y:c};break;default:d={x:e.x,y:e.y}}var h=s?jm(s):null;if(h!=null){var p=h==="y"?"height":"width";switch(a){case ha:d[h]=d[h]-(e[p]/2-t[p]/2);break;case Wl:d[h]=d[h]+(e[p]/2-t[p]/2);break}}return d}function Hl(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,c=t.boundary,d=c===void 0?tA:c,h=t.rootBoundary,p=h===void 0?aS:h,m=t.elementContext,v=m===void 0?kl:m,_=t.altBoundary,w=_===void 0?!1:_,E=t.padding,S=E===void 0?0:E,P=fS(typeof S!="number"?S:hS(S,nu)),O=v===kl?nA:kl,R=n.rects.popper,N=n.elements[w?O:v],x=OA(uo(N)?N:N.contextElement||Os(n.elements.popper),d,p,u),k=ma(n.elements.reference),T=mS({reference:k,element:R,placement:s}),A=$p(Object.assign({},R,T)),U=v===kl?A:k,j={top:x.top-U.top+P.top,bottom:U.bottom-x.bottom+P.bottom,left:x.left-U.left+P.left,right:U.right-x.right+P.right},V=n.modifiersData.offset;if(v===kl&&V){var B=V[s];Object.keys(j).forEach(function(Z){var ne=[Pr,Cr].indexOf(Z)>=0?1:-1,he=[Kn,Cr].indexOf(Z)>=0?"y":"x";j[Z]+=B[he]*ne})}return j}function RA(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,a=t.rootBoundary,u=t.padding,c=t.flipVariations,d=t.allowedAutoPlacements,h=d===void 0?lS:d,p=ga(r),m=p?c?w_:w_.filter(function(w){return ga(w)===p}):nu,v=m.filter(function(w){return h.indexOf(w)>=0});v.length===0&&(v=m);var _=v.reduce(function(w,E){return w[E]=Hl(n,{placement:E,boundary:s,rootBoundary:a,padding:u})[di(E)],w},{});return Object.keys(_).sort(function(w,E){return _[w]-_[E]})}function IA(n){if(di(n)===Rm)return[];var e=Bc(n);return[M_(n),e,M_(e)]}function DA(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,a=s===void 0?!0:s,u=t.altAxis,c=u===void 0?!0:u,d=t.fallbackPlacements,h=t.padding,p=t.boundary,m=t.rootBoundary,v=t.altBoundary,_=t.flipVariations,w=_===void 0?!0:_,E=t.allowedAutoPlacements,S=e.options.placement,P=di(S),O=P===S,R=d||(O||!w?[Bc(S)]:IA(S)),N=[S].concat(R).reduce(function(ge,ue){return ge.concat(di(ue)===Rm?RA(e,{placement:ue,boundary:p,rootBoundary:m,padding:h,flipVariations:w,allowedAutoPlacements:E}):ue)},[]),x=e.rects.reference,k=e.rects.popper,T=new Map,A=!0,U=N[0],j=0;j<N.length;j++){var V=N[j],B=di(V),Z=ga(V)===ha,ne=[Kn,Cr].indexOf(B)>=0,he=ne?"width":"height",se=Hl(e,{placement:V,boundary:p,rootBoundary:m,altBoundary:v,padding:h}),oe=ne?Z?Pr:Xn:Z?Cr:Kn;x[he]>k[he]&&(oe=Bc(oe));var q=Bc(oe),te=[];if(a&&te.push(se[B]<=0),c&&te.push(se[oe]<=0,se[q]<=0),te.every(function(ge){return ge})){U=V,A=!1;break}T.set(V,te)}if(A)for(var Q=w?3:1,D=function(ue){var me=N.find(function(Ie){var ce=T.get(Ie);if(ce)return ce.slice(0,ue).every(function(We){return We})});if(me)return U=me,"break"},G=Q;G>0;G--){var ee=D(G);if(ee==="break")break}e.placement!==U&&(e.modifiersData[r]._skip=!0,e.placement=U,e.reset=!0)}}const jA={name:"flip",enabled:!0,phase:"main",fn:DA,requiresIfExists:["offset"],data:{_skip:!1}};function T_(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function x_(n){return[Kn,Pr,Cr,Xn].some(function(e){return n[e]>=0})}function LA(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,u=Hl(e,{elementContext:"reference"}),c=Hl(e,{altBoundary:!0}),d=T_(u,r),h=T_(c,s,a),p=x_(d),m=x_(h);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const FA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:LA};function $A(n,e,t){var r=di(n),s=[Xn,Kn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],c=a[1];return u=u||0,c=(c||0)*s,[Xn,Pr].indexOf(r)>=0?{x:c,y:u}:{x:u,y:c}}function UA(n){var e=n.state,t=n.options,r=n.name,s=t.offset,a=s===void 0?[0,0]:s,u=lS.reduce(function(p,m){return p[m]=$A(m,e.rects,a),p},{}),c=u[e.placement],d=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=u}const BA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:UA};function VA(n){var e=n.state,t=n.name;e.modifiersData[t]=mS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const zA={name:"popperOffsets",enabled:!0,phase:"read",fn:VA,data:{}};function WA(n){return n==="x"?"y":"x"}function HA(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,a=s===void 0?!0:s,u=t.altAxis,c=u===void 0?!1:u,d=t.boundary,h=t.rootBoundary,p=t.altBoundary,m=t.padding,v=t.tether,_=v===void 0?!0:v,w=t.tetherOffset,E=w===void 0?0:w,S=Hl(e,{boundary:d,rootBoundary:h,padding:m,altBoundary:p}),P=di(e.placement),O=ga(e.placement),R=!O,N=jm(P),x=WA(N),k=e.modifiersData.popperOffsets,T=e.rects.reference,A=e.rects.popper,U=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,j=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(k){if(a){var Z,ne=N==="y"?Kn:Xn,he=N==="y"?Cr:Pr,se=N==="y"?"height":"width",oe=k[N],q=oe+S[ne],te=oe-S[he],Q=_?-A[se]/2:0,D=O===ha?T[se]:A[se],G=O===ha?-A[se]:-T[se],ee=e.elements.arrow,ge=_&&ee?Dm(ee):{width:0,height:0},ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:dS(),me=ue[ne],Ie=ue[he],ce=Ll(0,T[se],ge[se]),We=R?T[se]/2-Q-ce-me-j.mainAxis:D-ce-me-j.mainAxis,ct=R?-T[se]/2+Q+ce+Ie+j.mainAxis:G+ce+Ie+j.mainAxis,ft=e.elements.arrow&&ru(e.elements.arrow),it=ft?N==="y"?ft.clientTop||0:ft.clientLeft||0:0,bt=(Z=V==null?void 0:V[N])!=null?Z:0,nn=oe+We-bt-it,de=oe+ct-bt,Te=Ll(_?ed(q,nn):q,oe,_?ro(te,de):te);k[N]=Te,B[N]=Te-oe}if(c){var st,lt=N==="x"?Kn:Xn,Ge=N==="x"?Cr:Pr,Ye=k[x],yt=x==="y"?"height":"width",zt=Ye+S[lt],vn=Ye-S[Ge],Wt=[Kn,Xn].indexOf(P)!==-1,_n=(st=V==null?void 0:V[x])!=null?st:0,Ke=Wt?zt:Ye-T[yt]-A[yt]-_n+j.altAxis,Ht=Wt?Ye+T[yt]+A[yt]-_n-j.altAxis:vn,Zt=_&&Wt?mA(Ke,Ye,Ht):Ll(_?Ke:zt,Ye,_?Ht:vn);k[x]=Zt,B[x]=Zt-Ye}e.modifiersData[r]=B}}const qA={name:"preventOverflow",enabled:!0,phase:"main",fn:HA,requiresIfExists:["offset"]};function GA(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function YA(n){return n===cr(n)||!fi(n)?Lm(n):GA(n)}function KA(n){var e=n.getBoundingClientRect(),t=pa(e.width)/n.offsetWidth||1,r=pa(e.height)/n.offsetHeight||1;return t!==1||r!==1}function XA(n,e,t){t===void 0&&(t=!1);var r=fi(e),s=fi(e)&&KA(e),a=Os(e),u=ma(n,s,t),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Ts(e)!=="body"||$m(a))&&(c=YA(e)),fi(e)?(d=ma(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=Fm(a))),{x:u.left+c.scrollLeft-d.x,y:u.top+c.scrollTop-d.y,width:u.width,height:u.height}}function QA(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function s(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!t.has(c)){var d=e.get(c);d&&s(d)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||s(a)}),r}function ZA(n){var e=QA(n);return fA.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function JA(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function ek(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var C_={placement:"bottom",modifiers:[],strategy:"absolute"};function P_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function tk(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,a=s===void 0?C_:s;return function(c,d,h){h===void 0&&(h=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},C_,a),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},m=[],v=!1,_={state:p,setOptions:function(P){var O=typeof P=="function"?P(p.options):P;E(),p.options=Object.assign({},a,p.options,O),p.scrollParents={reference:uo(c)?Fl(c):c.contextElement?Fl(c.contextElement):[],popper:Fl(d)};var R=ZA(ek([].concat(r,p.options.modifiers)));return p.orderedModifiers=R.filter(function(N){return N.enabled}),w(),_.update()},forceUpdate:function(){if(!v){var P=p.elements,O=P.reference,R=P.popper;if(P_(O,R)){p.rects={reference:XA(O,ru(R),p.options.strategy==="fixed"),popper:Dm(R)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(j){return p.modifiersData[j.name]=Object.assign({},j.data)});for(var N=0;N<p.orderedModifiers.length;N++){if(p.reset===!0){p.reset=!1,N=-1;continue}var x=p.orderedModifiers[N],k=x.fn,T=x.options,A=T===void 0?{}:T,U=x.name;typeof k=="function"&&(p=k({state:p,options:A,name:U,instance:_})||p)}}}},update:JA(function(){return new Promise(function(S){_.forceUpdate(),S(p)})}),destroy:function(){E(),v=!0}};if(!P_(c,d))return _;_.setOptions(h).then(function(S){!v&&h.onFirstUpdate&&h.onFirstUpdate(S)});function w(){p.orderedModifiers.forEach(function(S){var P=S.name,O=S.options,R=O===void 0?{}:O,N=S.effect;if(typeof N=="function"){var x=N({state:p,name:P,instance:_,options:R}),k=function(){};m.push(x||k)}})}function E(){m.forEach(function(S){return S()}),m=[]}return _}}const nk=tk({defaultModifiers:[FA,zA,MA,TA,BA,jA,qA,_A]}),rk=["enabled","placement","strategy","modifiers"];function ik(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const sk={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ok={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},ak=[];function lk(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:a="absolute",modifiers:u=ak}=t,c=ik(t,rk);const d=M.useRef(u),h=M.useRef(),p=M.useCallback(()=>{var S;(S=h.current)==null||S.update()},[]),m=M.useCallback(()=>{var S;(S=h.current)==null||S.forceUpdate()},[]),[v,_]=eA(M.useState({placement:s,update:p,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),w=M.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const P={},O={};Object.keys(S.elements).forEach(R=>{P[R]=S.styles[R],O[R]=S.attributes[R]}),_({state:S,styles:P,attributes:O,update:p,forceUpdate:m,placement:S.placement})}}),[p,m,_]),E=M.useMemo(()=>(jl(d.current,u)||(d.current=u),d.current),[u]);return M.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:s,strategy:a,modifiers:[...E,w,sk]})},[a,s,w,r,E]),M.useEffect(()=>{if(!(!r||n==null||e==null))return h.current=nk(n,e,Object.assign({},c,{placement:s,strategy:a,modifiers:[...E,ok,w]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,_(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),v}var dp,N_;function uk(){if(N_)return dp;N_=1;var n=function(){};return dp=n,dp}var ck=uk();const dk=gi(ck),A_=()=>{};function fk(n){return n.button===0}function hk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const fp=n=>n&&("current"in n?n.current:n),k_={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function pk(n,e=A_,{disabled:t,clickTrigger:r="click"}={}){const s=M.useRef(!1),a=M.useRef(!1),u=M.useCallback(h=>{const p=fp(n);dk(!!p,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!p||hk(h)||!fk(h)||!!Jc(p,h.target)||a.current,a.current=!1},[n]),c=Nn(h=>{const p=fp(n);p&&Jc(p,h.target)?a.current=!0:a.current=!1}),d=Nn(h=>{s.current||e(h)});M.useEffect(()=>{var h,p;if(t||n==null)return;const m=tu(fp(n)),v=m.defaultView||window;let _=(h=v.event)!=null?h:(p=v.parent)==null?void 0:p.event,w=null;k_[r]&&(w=_s(m,k_[r],c,!0));const E=_s(m,r,u,!0),S=_s(m,r,O=>{if(O===_){_=void 0;return}d(O)});let P=[];return"ontouchstart"in m.documentElement&&(P=[].slice.call(m.body.children).map(O=>_s(O,"mousemove",A_))),()=>{w==null||w(),E(),S(),P.forEach(O=>O())}},[n,t,r,u,c,d])}function mk(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function gk(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function yk({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:a,containerPadding:u,arrowElement:c,popperConfig:d={}}){var h,p,m,v,_;const w=mk(d.modifiers);return Object.assign({},d,{placement:t,enabled:n,strategy:a?"fixed":d.strategy,modifiers:gk(Object.assign({},w,{eventListeners:{enabled:e,options:(h=w.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},w.preventOverflow,{options:u?Object.assign({padding:u},(p=w.preventOverflow)==null?void 0:p.options):(m=w.preventOverflow)==null?void 0:m.options}),offset:{options:Object.assign({offset:s},(v=w.offset)==null?void 0:v.options)},arrow:Object.assign({},w.arrow,{enabled:!!c,options:Object.assign({},(_=w.arrow)==null?void 0:_.options,{element:c})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const vk=["children","usePopper"];function _k(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const wk=()=>{};function gS(n={}){const e=M.useContext(Rd),[t,r]=HP(),s=M.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:d=!1,placement:h,popperConfig:p={},enableEventListeners:m=!0,usePopper:v=!!e}=n,_=(e==null?void 0:e.show)==null?!!n.show:e.show;_&&!s.current&&(s.current=!0);const w=k=>{e==null||e.toggle(!1,k)},{placement:E,setMenu:S,menuElement:P,toggleElement:O}=e||{},R=lk(O,P,yk({placement:h||E||"bottom-start",enabled:v,enableEvents:m??_,offset:u,flip:a,fixed:d,arrowElement:t,popperConfig:p})),N=Object.assign({ref:S||wk,"aria-labelledby":O==null?void 0:O.id},R.attributes.popper,{style:R.styles.popper}),x={show:_,placement:E,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:v?R:null,arrowProps:v?Object.assign({ref:r},R.attributes.arrow,{style:R.styles.arrow}):{}};return pk(P,w,{clickTrigger:c,disabled:!_}),[N,x]}function yS(n){let{children:e,usePopper:t=!0}=n,r=_k(n,vk);const[s,a]=gS(Object.assign({},r,{usePopper:t}));return C.jsx(C.Fragment,{children:e(s,a)})}yS.displayName="DropdownMenu";const Um={prefix:String(Math.round(Math.random()*1e10)),current:0},vS=Ot.createContext(Um),Sk=Ot.createContext(!1);let Ek=!!(typeof window<"u"&&window.document&&window.document.createElement),hp=new WeakMap;function Mk(n=!1){let e=M.useContext(vS),t=M.useRef(null);if(t.current===null&&!n){var r,s;let a=(s=Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let u=hp.get(a);u==null?hp.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,hp.delete(a))}t.current=++e.current}return t.current}function bk(n){let e=M.useContext(vS);e===Um&&!Ek&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=Mk(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function Tk(n){let e=Ot.useId(),[t]=M.useState(Ak()),r=t?"react-aria":`react-aria${Um.prefix}`;return n||`${r}-${e}`}const xk=typeof Ot.useId=="function"?Tk:bk;function Ck(){return!1}function Pk(){return!0}function Nk(n){return()=>{}}function Ak(){return typeof Ot.useSyncExternalStore=="function"?Ot.useSyncExternalStore(Nk,Ck,Pk):M.useContext(Sk)}const _S=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},O_=()=>{};function wS(){const n=xk(),{show:e=!1,toggle:t=O_,setToggle:r,menuElement:s}=M.useContext(Rd)||{},a=M.useCallback(c=>{t(!e,c)},[e,t]),u={id:n,ref:r||O_,onClick:a,"aria-expanded":!!e};return s&&_S(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function SS({children:n}){const[e,t]=wS();return C.jsx(C.Fragment,{children:n(e,t)})}SS.displayName="DropdownToggle";const kk=["eventKey","disabled","onClick","active","as"];function Ok(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ES({key:n,href:e,active:t,disabled:r,onClick:s}){const a=M.useContext(lo),u=M.useContext(Pd),{activeKey:c}=u||{},d=fa(n,e),h=t==null&&n!=null?fa(c)===d:t;return[{onClick:Nn(m=>{r||(s==null||s(m),a&&!m.isPropagationStopped()&&a(d,m))}),"aria-disabled":r||void 0,"aria-selected":h,[ka("dropdown-item")]:""},{isActive:h}]}const MS=M.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:a,as:u=Em}=n,c=Ok(n,kk);const[d]=ES({key:t,href:c.href,disabled:r,onClick:s,active:a});return C.jsx(u,Object.assign({},c,{ref:e},d))});MS.displayName="DropdownItem";function R_(){const n=A0(),e=M.useRef(null),t=M.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function iu({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${ka("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const d=Ad(),[h,p]=JN(e,n,r),[m,v]=R_(),_=m.current,[w,E]=R_(),S=w.current,P=L0(h),O=M.useRef(null),R=M.useRef(!1),N=M.useContext(lo),x=M.useCallback((V,B,Z=B==null?void 0:B.type)=>{p(V,{originalEvent:B,source:Z})},[p]),k=Nn((V,B)=>{t==null||t(V,B),x(!1,B,"select"),B.isPropagationStopped()||N==null||N(V,B)}),T=M.useMemo(()=>({toggle:x,placement:u,show:h,menuElement:_,toggleElement:S,setMenu:v,setToggle:E}),[x,u,h,_,S,v,E]);_&&P&&!h&&(R.current=_.contains(_.ownerDocument.activeElement));const A=Nn(()=>{S&&S.focus&&S.focus()}),U=Nn(()=>{const V=O.current;let B=a;if(B==null&&(B=m.current&&_S(m.current)?"keyboard":!1),B===!1||B==="keyboard"&&!/^key.+$/.test(V))return;const Z=Ri(m.current,s)[0];Z&&Z.focus&&Z.focus()});M.useEffect(()=>{h?U():R.current&&(R.current=!1,A())},[h,R,A,U]),M.useEffect(()=>{O.current=null});const j=(V,B)=>{if(!m.current)return null;const Z=Ri(m.current,s);let ne=Z.indexOf(V)+B;return ne=Math.max(0,Math.min(ne,Z.length)),Z[ne]};return qP(M.useCallback(()=>d.document,[d]),"keydown",V=>{var B,Z;const{key:ne}=V,he=V.target,se=(B=m.current)==null?void 0:B.contains(he),oe=(Z=w.current)==null?void 0:Z.contains(he);if(/input|textarea/i.test(he.tagName)&&(ne===" "||ne!=="Escape"&&se||ne==="Escape"&&he.type==="search")||!se&&!oe||ne==="Tab"&&(!m.current||!h))return;O.current=V.type;const te={originalEvent:V,source:V.type};switch(ne){case"ArrowUp":{const Q=j(he,-1);Q&&Q.focus&&Q.focus(),V.preventDefault();return}case"ArrowDown":if(V.preventDefault(),!h)p(!0,te);else{const Q=j(he,1);Q&&Q.focus&&Q.focus()}return;case"Tab":Cm(he.ownerDocument,"keyup",Q=>{var D;(Q.key==="Tab"&&!Q.target||!((D=m.current)!=null&&D.contains(Q.target)))&&p(!1,te)},{once:!0});break;case"Escape":ne==="Escape"&&(V.preventDefault(),V.stopPropagation()),p(!1,te);break}}),C.jsx(lo.Provider,{value:k,children:C.jsx(Rd.Provider,{value:T,children:c})})}iu.displayName="Dropdown";iu.Menu=yS;iu.Toggle=SS;iu.Item=MS;const Bm=M.createContext({});Bm.displayName="DropdownContext";const bS=M.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},a)=>(e=Je(e,"dropdown-divider"),C.jsx(t,{ref:a,className:ze(n,e),role:r,...s})));bS.displayName="DropdownDivider";const TS=M.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},a)=>(e=Je(e,"dropdown-header"),C.jsx(t,{ref:a,className:ze(n,e),role:r,...s})));TS.displayName="DropdownHeader";const xS=M.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:a,as:u=Tm,...c},d)=>{const h=Je(n,"dropdown-item"),[p,m]=ES({key:t,href:c.href,disabled:r,onClick:s,active:a});return C.jsx(u,{...c,...p,ref:d,className:ze(e,h,m.isActive&&"active",r&&"disabled")})});xS.displayName="DropdownItem";const CS=M.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Je(e,"dropdown-item-text"),C.jsx(t,{ref:s,className:ze(n,e),...r})));CS.displayName="DropdownItemText";const Vm=M.createContext(null);Vm.displayName="InputGroupContext";function PS(n,e){return n}const Ko=Ut.oneOf(["start","end"]),Rk=Ut.oneOfType([Ko,Ut.shape({sm:Ko}),Ut.shape({md:Ko}),Ut.shape({lg:Ko}),Ut.shape({xl:Ko}),Ut.shape({xxl:Ko}),Ut.object]);function NS(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",d=t?"right-end":"left-end",h=t?"left-start":"right-start",p=t?"left-end":"right-end";let m=n?u:a;return e==="up"?m=n?s:r:e==="end"?m=n?p:h:e==="start"?m=n?d:c:e==="down-centered"?m="bottom":e==="up-centered"&&(m="top"),m}const zm=M.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:a,renderOnMount:u,as:c="div",popperConfig:d,variant:h,...p},m)=>{let v=!1;const _=M.useContext(mo),w=Je(n,"dropdown-menu"),{align:E,drop:S,isRTL:P}=M.useContext(Bm);t=t||E;const O=M.useContext(Vm),R=[];if(t)if(typeof t=="object"){const V=Object.keys(t);if(V.length){const B=V[0],Z=t[B];v=Z==="start",R.push(`${w}-${B}-${Z}`)}}else t==="end"&&(v=!0);const N=NS(v,S,P),[x,{hasShown:k,popper:T,show:A,toggle:U}]=gS({flip:s,rootCloseEvent:r,show:a,usePopper:!_&&R.length===0,offset:[0,2],popperConfig:d,placement:N});if(x.ref=Nd(PS(m),x.ref),q0(()=>{A&&(T==null||T.update())},[A]),!k&&!u&&!O)return null;typeof c!="string"&&(x.show=A,x.close=()=>U==null?void 0:U(!1),x.align=t);let j=p.style;return T!=null&&T.placement&&(j={...p.style,...x.style},p["x-placement"]=T.placement),C.jsx(c,{...p,...x,style:j,...(R.length||_)&&{"data-bs-popper":"static"},className:ze(e,w,A&&"show",v&&`${w}-end`,h&&`${w}-${h}`,...R)})});zm.displayName="DropdownMenu";const Fi=M.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:a=!1,className:u,...c},d)=>{const h=Je(e,"btn"),[p,{tagName:m}]=Sm({tagName:n,disabled:a,...c}),v=m;return C.jsx(v,{...p,...c,ref:d,disabled:a,className:ze(u,h,s&&"active",t&&`${h}-${t}`,r&&`${h}-${r}`,c.href&&a&&"disabled")})});Fi.displayName="Button";const Wm=M.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=Fi,...a},u)=>{const c=Je(n,"dropdown-toggle"),d=M.useContext(Rd);r!==void 0&&(a.bsPrefix=r);const[h]=wS();return h.ref=Nd(h.ref,PS(u)),C.jsx(s,{className:ze(t,c,e&&`${c}-split`,(d==null?void 0:d.show)&&"show"),...h,...a})});Wm.displayName="DropdownToggle";const AS=M.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:a,align:u="start",onSelect:c,onToggle:d,focusFirstItemOnShow:h,as:p="div",navbar:m,autoClose:v=!0,..._}=xd(n,{show:"onToggle"}),w=M.useContext(Vm),E=Je(t,"dropdown"),S=C0(),P=T=>v===!1?T==="click":v==="inside"?T!=="rootClose":v==="outside"?T!=="select":!0,O=bs((T,A)=>{var U;!((U=A.originalEvent)==null||(U=U.target)==null)&&U.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),P(A.source)&&(d==null||d(T,A)))}),N=NS(u==="end",r,S),x=M.useMemo(()=>({align:u,drop:r,isRTL:S}),[u,r,S]),k={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C.jsx(Bm.Provider,{value:x,children:C.jsx(iu,{placement:N,show:s,onSelect:c,onToggle:O,focusFirstItemOnShow:h,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:w?_.children:C.jsx(p,{..._,ref:e,className:ze(a,s&&"show",k[r])})})})});AS.displayName="Dropdown";const Mr=Object.assign(AS,{Toggle:Wm,Menu:zm,Item:xS,ItemText:CS,Divider:bS,Header:TS}),kS=M.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:s,rootCloseEvent:a,menuRole:u,disabled:c,active:d,renderMenuOnMount:h,menuVariant:p,...m},v)=>{const _=Je(void 0,"nav-item");return C.jsxs(Mr,{ref:v,...m,className:ze(s,_),children:[C.jsx(Mr.Toggle,{id:n,eventKey:null,active:d,disabled:c,childBsPrefix:r,as:xm,children:e}),C.jsx(Mr.Menu,{role:u,renderOnMount:h,rootCloseEvent:a,variant:p,children:t})]})});kS.displayName="NavDropdown";const Xo=Object.assign(kS,{Item:Mr.Item,ItemText:Mr.ItemText,Divider:Mr.Divider,Header:Mr.Header});function Ik(){return C.jsx("div",{children:C.jsxs(P0,{children:[C.jsx("h2",{children:"Navigation"}),C.jsx(y_,{className:"fixed-top",bg:"light",variant:"light",children:C.jsx(y_.Collapse,{children:C.jsxs($r,{className:"mr-auto",children:[C.jsx($r.Item,{children:C.jsx($r.Link,{as:Rn,to:"/",active:!0,children:"Home"})}),C.jsxs(Xo,{title:"Music Theory",children:[C.jsx(Xo.Item,{as:"div",children:C.jsx($r.Link,{as:Rn,to:"/notes",children:"Notes"})}),C.jsx(Xo.Item,{as:"div",children:C.jsx($r.Link,{as:Rn,to:"/scales",children:"Scales"})}),C.jsx(Xo.Item,{as:"div",children:C.jsx($r.Link,{as:Rn,to:"/chords",children:"Chords"})})]}),C.jsx(Xo,{title:"Ear Training",children:C.jsx(Xo.Item,{as:"div",children:C.jsx($r.Link,{as:Rn,to:"/frequency-identifier",children:"Frequency Identifier (WIP)"})})}),C.jsx($r.Item,{children:C.jsx($r.Link,{as:Rn,to:"/catalog",active:!0,children:"Accessible Audio Plugin And Software Catalog (APS)"})}),C.jsx($r.Item,{children:C.jsx($r.Link,{as:Rn,to:"/imprint",children:"Imprint"})})]})})})]})})}function Dk(){return C.jsxs(C.Fragment,{children:[C.jsx("h1",{children:"Musical Sight"}),C.jsx(Ik,{}),C.jsx(g0,{}),C.jsx(MP,{})]})}function jk(n,e){const t=[];for(;e--;t[e]=e+n);return t}function Lk(n,e){const t=[];for(;e--;t[e]=n-e);return t}function Fk(n,e){return n<e?jk(n,e-n+1):Lk(n,n-e+1)}function Dd(n,e){const t=e.length,r=(n%t+t)%t;return e.slice(r,t).concat(e.slice(0,r))}function $k(n){return n.filter(e=>e===0||e)}function Uk(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function Bk(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var OS=[0,2,4,-1,1,3,5],RS=OS.map(n=>Math.floor(n*7/12));function Vk(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=OS[e]+7*t;if(r===void 0)return[s*a];const u=r-RS[e]-4*t;return[s*a,s*u]}var zk=[3,0,4,1,5,2,6];function Wk(n){const[e,t,r]=n,s=zk[Hk(e)],a=Math.floor((e+1)/7);if(t===void 0)return{step:s,alt:a,dir:r};const u=t+4*a+RS[s];return{step:s,alt:a,oct:u,dir:r}}function Hk(n){const e=(n+1)%7;return e<0?7+e:e}var I_=(n,e)=>Array(Math.abs(e)+1).join(n),Up=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),qk="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Gk="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Yk=new RegExp("^"+qk+"|"+Gk+"$");function Kk(n){const e=Yk.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var D_={};function td(n){return typeof n=="string"?D_[n]||(D_[n]=Xk(n)):Bk(n)?td(Jk(n)):Uk(n)?td(n.name):Up}var j_=[0,2,4,5,7,9,11],IS="PMMPPMM";function Xk(n){const e=Kk(n);if(e[0]==="")return Up;const t=+e[0],r=e[1],s=(Math.abs(t)-1)%7,a=IS[s];if(a==="M"&&r==="P")return Up;const u=a==="M"?"majorable":"perfectable",c=""+t+r,d=t<0?-1:1,h=t===8||t===-8?t:d*(s+1),p=Zk(u,r),m=Math.floor((Math.abs(t)-1)/7),v=d*(j_[s]+p+12*m),_=(d*(j_[s]+p)%12+12)%12,w=Vk({step:s,alt:p,oct:m,dir:d});return{empty:!1,name:c,num:t,q:r,step:s,alt:p,dir:d,type:u,simple:h,semitones:v,chroma:_,coord:w,oct:m}}function Qk(n,e){const[t,r=0]=n,s=t*7+r*12<0,a=e||s?[-t,-r,-1]:[t,r,1];return td(Wk(a))}function Zk(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function Jk(n){const{step:e,alt:t,oct:r=0,dir:s}=n;if(!s)return"";const a=e+1+7*r,u=a===0?e+1:a,c=s<0?"-":"",d=IS[e]==="M"?"majorable":"perfectable";return c+u+eO(d,t)}function eO(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?I_("A",e):I_("d",n==="perfectable"?e:e+1)}function tO(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function nO(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var DS=[0,2,4,-1,1,3,5],jS=DS.map(n=>Math.floor(n*7/12));function rO(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=DS[e]+7*t;if(r===void 0)return[s*a];const u=r-jS[e]-4*t;return[s*a,s*u]}var iO=[3,0,4,1,5,2,6];function sO(n){const[e,t,r]=n,s=iO[oO(e)],a=Math.floor((e+1)/7);if(t===void 0)return{step:s,alt:a,dir:r};const u=t+4*a+jS[s];return{step:s,alt:a,oct:u,dir:r}}function oO(n){const e=(n+1)%7;return e<0?7+e:e}var L_=(n,e)=>Array(Math.abs(e)+1).join(n),LS=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),F_=new Map,aO=n=>"CDEFGAB".charAt(n),lO=n=>n<0?L_("b",-n):L_("#",n),uO=n=>n[0]==="b"?-n.length:n.length;function Vt(n){const e=JSON.stringify(n),t=F_.get(e);if(t)return t;const r=typeof n=="string"?pO(n):nO(n)?Vt(mO(n)):tO(n)?Vt(n.name):LS;return F_.set(e,r),r}var cO=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function dO(n){const e=cO.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function fO(n){return Vt(sO(n))}var hO=(n,e)=>(n%e+e)%e,pp=[0,2,4,5,7,9,11];function pO(n){const e=dO(n);if(e[0]===""||e[3]!=="")return LS;const t=e[0],r=e[1],s=e[2],a=(t.charCodeAt(0)+3)%7,u=uO(r),c=s.length?+s:void 0,d=rO({step:a,alt:u,oct:c}),h=t+r+s,p=t+r,m=(pp[a]+u+120)%12,v=c===void 0?hO(pp[a]+u,12)-12*99:pp[a]+u+12*(c+1),_=v>=0&&v<=127?v:null,w=c===void 0?null:Math.pow(2,(v-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:m,coord:d,freq:w,height:v,letter:t,midi:_,name:h,oct:c,pc:p,step:a}}function mO(n){const{step:e,alt:t,oct:r}=n,s=aO(e);if(!s)return"";const a=s+lO(t);return r||r===0?a+r:a}function ql(n,e){const t=Vt(n),r=Array.isArray(e)?e:td(e).coord;if(t.empty||!r||r.length<2)return"";const s=t.coord,a=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return fO(a).name}function FS(n,e){const t=n.length;return r=>{if(!e)return"";const s=r<0?(t- -r%t)%t:r%t,a=Math.floor(r/t),u=ql(e,[0,a]);return ql(u,n[s])}}function gO(n,e){const t=Vt(n),r=Vt(e);if(t.empty||r.empty)return"";const s=t.coord,a=r.coord,u=a[0]-s[0],c=s.length===2&&a.length===2?a[1]-s[1]:-Math.floor(u*7/12),d=r.height===t.height&&r.midi!==null&&t.oct===r.oct&&t.step>r.step;return Qk([u,c],d).name}function yO(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function vO(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var $S=[0,2,4,-1,1,3,5],_O=$S.map(n=>Math.floor(n*7/12));function wO(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=$S[e]+7*t;if(r===void 0)return[s*a];const u=r-_O[e]-4*t;return[s*a,s*u]}var $_=(n,e)=>Array(Math.abs(e)+1).join(n),Bp=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),SO="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",EO="(AA|A|P|M|m|d|dd)([-+]?\\d+)",MO=new RegExp("^"+SO+"|"+EO+"$");function bO(n){const e=MO.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var U_={};function Vp(n){return typeof n=="string"?U_[n]||(U_[n]=TO(n)):vO(n)?Vp(CO(n)):yO(n)?Vp(n.name):Bp}var B_=[0,2,4,5,7,9,11],US="PMMPPMM";function TO(n){const e=bO(n);if(e[0]==="")return Bp;const t=+e[0],r=e[1],s=(Math.abs(t)-1)%7,a=US[s];if(a==="M"&&r==="P")return Bp;const u=a==="M"?"majorable":"perfectable",c=""+t+r,d=t<0?-1:1,h=t===8||t===-8?t:d*(s+1),p=xO(u,r),m=Math.floor((Math.abs(t)-1)/7),v=d*(B_[s]+p+12*m),_=(d*(B_[s]+p)%12+12)%12,w=wO({step:s,alt:p,oct:m,dir:d});return{empty:!1,name:c,num:t,q:r,step:s,alt:p,dir:d,type:u,simple:h,semitones:v,chroma:_,coord:w,oct:m}}function xO(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function CO(n){const{step:e,alt:t,oct:r=0,dir:s}=n;if(!s)return"";const a=e+1+7*r,u=a===0?e+1:a,c=s<0?"-":"",d=US[e]==="M"?"majorable":"perfectable";return c+u+PO(d,t)}function PO(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?$_("A",e):$_("d",n==="perfectable"?e:e+1)}var xs={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},BS=n=>Number(n).toString(2).padStart(12,"0"),V_=n=>parseInt(n,2),NO=/^[01]{12}$/;function Hm(n){return NO.test(n)}var AO=n=>typeof n=="number"&&n>=0&&n<=4095,kO=n=>n&&Hm(n.chroma),z_={[xs.chroma]:xs};function hi(n){const e=Hm(n)?n:AO(n)?BS(n):Array.isArray(n)?LO(n):kO(n)?n.chroma:xs.chroma;return z_[e]=z_[e]||jO(e)}var OO=n=>hi(n).chroma,RO=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function IO(n){const e=[];for(let t=0;t<12;t++)n.charAt(t)==="1"&&e.push(RO[t]);return e}function VS(n,e=!0){const r=hi(n).chroma.split("");return $k(r.map((s,a)=>{const u=Dd(a,r);return e&&u[0]==="0"?null:u.join("")}))}function qm(n){const e=hi(n).setNum;return t=>{const r=hi(t).setNum;return e&&e!==r&&(r&e)===r}}function Gm(n){const e=hi(n).setNum;return t=>{const r=hi(t).setNum;return e&&e!==r&&(r|e)===r}}function DO(n){const e=n.split("");return e.map((t,r)=>Dd(r,e).join(""))}function jO(n){const e=V_(n),t=DO(n).map(V_).filter(a=>a>=2048).sort()[0],r=BS(t),s=IO(n);return{empty:!1,name:"",setNum:e,chroma:n,normalized:r,intervals:s}}function LO(n){if(n.length===0)return xs.chroma;let e;const t=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<n.length;r++)e=Vt(n[r]),e.empty&&(e=Vp(n[r])),e.empty||(t[e.chroma]=1);return t.join("")}var FO=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],$O=FO;({...xs});var Ym=[],Vc={};function UO(){return Ym.slice()}function BO(n,e,t){const r=zO(n),s={...hi(n),name:t||"",quality:r,intervals:n,aliases:e};Ym.push(s),s.name&&(Vc[s.name]=s),Vc[s.setNum]=s,Vc[s.chroma]=s,s.aliases.forEach(a=>VO(s,a))}function VO(n,e){Vc[e]=n}function zO(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}$O.forEach(([n,e,t])=>BO(n.split(" "),t.split(" "),e));Ym.sort((n,e)=>n.setNum-e.setNum);var WO=n=>{const e=n.reduce((t,r)=>{const s=Vt(r).chroma;return s!==void 0&&(t[s]=t[s]||Vt(r).name),t},{});return t=>e[t]};function HO(n,e={}){const t=n.map(s=>Vt(s).pc).filter(s=>s);return Vt.length===0?[]:ZO(t,1,e).filter(s=>s.weight).sort((s,a)=>a.weight-s.weight).map(s=>s.name)}var jd={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Ld=n=>e=>!!(e&n),qO=Ld(jd.anyThirds),GO=Ld(jd.perfectFifth),YO=Ld(jd.anySeventh),KO=Ld(jd.nonPerfectFifths);function XO(n){const e=parseInt(n.chroma,2);return qO(e)&&GO(e)&&YO(e)}function QO(n){const e=parseInt(n,2);return KO(e)?n:(e|16).toString(2)}function ZO(n,e,t){const r=n[0],s=Vt(r).chroma,a=WO(n),u=VS(n,!1),c=[];return u.forEach((d,h)=>{const p=t.assumePerfectFifth&&QO(d);UO().filter(v=>t.assumePerfectFifth&&XO(v)?v.chroma===p:v.chroma===d).forEach(v=>{const _=v.aliases[0],w=a(h);h!==s?c.push({weight:.5*e,name:`${w}${_}/${r}`}):c.push({weight:1*e,name:`${w}${_}`})})}),c}function zS(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function WS(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"}var HS=[0,2,4,-1,1,3,5],qS=HS.map(n=>Math.floor(n*7/12));function GS(n){const{step:e,alt:t,oct:r,dir:s=1}=n,a=HS[e]+7*t;if(r===void 0)return[s*a];const u=r-qS[e]-4*t;return[s*a,s*u]}var JO=[3,0,4,1,5,2,6];function YS(n){const[e,t,r]=n,s=JO[eR(e)],a=Math.floor((e+1)/7);if(t===void 0)return{step:s,alt:a,dir:r};const u=t+4*a+qS[s];return{step:s,alt:a,oct:u,dir:r}}function eR(n){const e=(n+1)%7;return e<0?7+e:e}var W_=(n,e)=>Array(Math.abs(e)+1).join(n),zp={empty:!0,name:"",acc:""},tR="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",nR="(AA|A|P|M|m|d|dd)([-+]?\\d+)",rR=new RegExp("^"+tR+"|"+nR+"$");function iR(n){const e=rR.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var H_={};function nd(n){return typeof n=="string"?H_[n]||(H_[n]=sR(n)):WS(n)?nd(lR(n)):zS(n)?nd(n.name):zp}var q_=[0,2,4,5,7,9,11],KS="PMMPPMM";function sR(n){const e=iR(n);if(e[0]==="")return zp;const t=+e[0],r=e[1],s=(Math.abs(t)-1)%7,a=KS[s];if(a==="M"&&r==="P")return zp;const u=a==="M"?"majorable":"perfectable",c=""+t+r,d=t<0?-1:1,h=t===8||t===-8?t:d*(s+1),p=aR(u,r),m=Math.floor((Math.abs(t)-1)/7),v=d*(q_[s]+p+12*m),_=(d*(q_[s]+p)%12+12)%12,w=GS({step:s,alt:p,oct:m,dir:d});return{empty:!1,name:c,num:t,q:r,step:s,alt:p,dir:d,type:u,simple:h,semitones:v,chroma:_,coord:w,oct:m}}function oR(n,e){const[t,r=0]=n,s=t*7+r*12<0,a=e||s?[-t,-r,-1]:[t,r,1];return nd(YS(a))}function aR(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function lR(n){const{step:e,alt:t,oct:r=0,dir:s}=n;if(!s)return"";const a=e+1+7*r,u=a===0?e+1:a,c=s<0?"-":"",d=KS[e]==="M"?"majorable":"perfectable";return c+u+uR(d,t)}function uR(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?W_("A",e):W_("d",n==="perfectable"?e:e+1)}var G_=(n,e)=>Array(Math.abs(e)+1).join(n),XS={empty:!0,name:"",pc:"",acc:""},Y_=new Map,cR=n=>"CDEFGAB".charAt(n),dR=n=>n<0?G_("b",-n):G_("#",n),fR=n=>n[0]==="b"?-n.length:n.length;function Cs(n){const e=JSON.stringify(n),t=Y_.get(e);if(t)return t;const r=typeof n=="string"?gR(n):WS(n)?Cs(yR(n)):zS(n)?Cs(n.name):XS;return Y_.set(e,r),r}var hR=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function QS(n){const e=hR.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function pR(n){return Cs(YS(n))}var mR=(n,e)=>(n%e+e)%e,mp=[0,2,4,5,7,9,11];function gR(n){const e=QS(n);if(e[0]===""||e[3]!=="")return XS;const t=e[0],r=e[1],s=e[2],a=(t.charCodeAt(0)+3)%7,u=fR(r),c=s.length?+s:void 0,d=GS({step:a,alt:u,oct:c}),h=t+r+s,p=t+r,m=(mp[a]+u+120)%12,v=c===void 0?mR(mp[a]+u,12)-12*99:mp[a]+u+12*(c+1),_=v>=0&&v<=127?v:null,w=c===void 0?null:Math.pow(2,(v-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:m,coord:d,freq:w,height:v,letter:t,midi:_,name:h,oct:c,pc:p,step:a}}function yR(n){const{step:e,alt:t,oct:r}=n,s=cR(e);if(!s)return"";const a=s+dR(t);return r||r===0?a+r:a}function rd(n,e){const t=Cs(n),r=Array.isArray(e)?e:nd(e).coord;if(t.empty||!r||r.length<2)return"";const s=t.coord,a=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return pR(a).name}function ZS(n,e){const t=n.length;return r=>{if(!e)return"";const s=r<0?(t- -r%t)%t:r%t,a=Math.floor(r/t),u=rd(e,[0,a]);return rd(u,n[s])}}function vR(n,e){const t=Cs(n),r=Cs(e);if(t.empty||r.empty)return"";const s=t.coord,a=r.coord,u=a[0]-s[0],c=s.length===2&&a.length===2?a[1]-s[1]:-Math.floor(u*7/12),d=r.height===t.height&&r.midi!==null&&t.midi!==null&&t.step>r.step;return oR([u,c],d).name}function Km(n,e,t){return function(...r){return console.warn(`${n} is deprecated. Use ${e}.`),t.apply(this,r)}}var _R=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],wR=_R,SR={...xs,name:"",quality:"Unknown",intervals:[],aliases:[]},Ia=[],io={};function Xm(n){return io[n]||SR}var ER=Km("ChordType.chordType","ChordType.get",Xm);function MR(){return Ia.map(n=>n.name).filter(n=>n)}function bR(){return Ia.map(n=>n.aliases[0]).filter(n=>n)}function TR(){return Object.keys(io)}function Fd(){return Ia.slice()}var xR=Km("ChordType.entries","ChordType.all",Fd);function CR(){Ia=[],io={}}function JS(n,e,t){const r=NR(n),s={...hi(n),name:t||"",quality:r,intervals:n,aliases:e};Ia.push(s),s.name&&(io[s.name]=s),io[s.setNum]=s,io[s.chroma]=s,s.aliases.forEach(a=>PR(s,a))}function PR(n,e){io[e]=n}function NR(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}wR.forEach(([n,e,t])=>JS(n.split(" "),t.split(" "),e));Ia.sort((n,e)=>n.setNum-e.setNum);var Wp={names:MR,symbols:bR,get:Xm,all:Fd,add:JS,removeAll:CR,keys:TR,entries:xR,chordType:ER},AR=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],kR=AR,OR={...xs,intervals:[],aliases:[]},$d=[],so={};function eE(){return $d.map(n=>n.name)}function Qm(n){return so[n]||OR}var RR=Qm;function Da(){return $d.slice()}var IR=Da;function DR(){return Object.keys(so)}function jR(){$d=[],so={}}function tE(n,e,t=[]){const r={...hi(n),name:e,intervals:n,aliases:t};return $d.push(r),so[r.name]=r,so[r.setNum]=r,so[r.chroma]=r,r.aliases.forEach(s=>LR(r,s)),r}function LR(n,e){so[e]=n}kR.forEach(([n,e,...t])=>tE(n.split(" "),e,t));var Hp={names:eE,get:Qm,all:Da,add:tE,removeAll:jR,keys:DR,entries:IR,scaleType:RR},qp={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Zm(n){const[e,t,r,s]=QS(n);return e===""?["",n]:e==="A"&&s==="ug"?["","aug"]:[e+t,r+s]}function go(n){if(n==="")return qp;if(Array.isArray(n)&&n.length===2)return zc(n[1],n[0]);{const[e,t]=Zm(n),r=zc(t,e);return r.empty?zc(n):r}}function zc(n,e,t){const r=Xm(n),s=Cs(e||""),a=Cs(t||"");if(r.empty||e&&s.empty||t&&a.empty)return qp;const u=vR(s.pc,a.pc),c=r.intervals.indexOf(u)+1;if(!a.empty&&!c)return qp;const d=Array.from(r.intervals);for(let v=1;v<c;v++){const _=d[0][0],w=d[0][1],E=parseInt(_,10)+7;d.push(`${E}${w}`),d.shift()}const h=s.empty?[]:d.map(v=>rd(s,v));n=r.aliases.indexOf(n)!==-1?n:r.aliases[0];const p=`${s.empty?"":s.pc}${n}${a.empty||c<=1?"":"/"+a.pc}`,m=`${e?s.pc+" ":""}${r.name}${c>1&&t?" over "+a.pc:""}`;return{...r,name:m,symbol:p,type:r.name,root:a.name,intervals:d,rootDegree:c,tonic:s.name,notes:h}}var FR=Km("Chord.chord","Chord.get",go);function $R(n,e){const[t,r]=Zm(n);return t?rd(t,e)+r:n}function UR(n){const e=go(n),t=Gm(e.chroma);return Da().filter(r=>t(r.chroma)).map(r=>r.name)}function BR(n){const e=go(n),t=Gm(e.chroma);return Fd().filter(r=>t(r.chroma)).map(r=>e.tonic+r.aliases[0])}function VR(n){const e=go(n),t=qm(e.chroma);return Fd().filter(r=>t(r.chroma)).map(r=>e.tonic+r.aliases[0])}function zR(n){const{intervals:e,tonic:t}=go(n),r=ZS(e,t);return s=>s?r(s>0?s-1:s):""}function WR(n){const{intervals:e,tonic:t}=go(n);return ZS(e,t)}var sr={getChord:zc,get:go,detect:HO,chordScales:UR,extended:BR,reduced:VR,tokenize:Zm,transpose:$R,degrees:zR,steps:WR,chord:FR},HR=Math.log(2),qR=Math.log(440);function nE(n){const e=12*(Math.log(n)-qR)/HR+69;return Math.round(e*100)/100}var GR="C C# D D# E F F# G G# A A# B".split(" "),YR="C Db D Eb E F Gb G Ab A Bb B".split(" ");function ja(n,e={}){if(isNaN(n)||n===-1/0||n===1/0)return"";n=Math.round(n);const r=(e.sharps===!0?GR:YR)[n%12];if(e.pitchClass)return r;const s=Math.floor(n/12)-1;return r+s}var KR=["C","D","E","F","G","A","B"],rE=n=>n.name,iE=n=>n.map(Vt).filter(e=>!e.empty);function XR(n){return n===void 0?KR.slice():Array.isArray(n)?iE(n).map(rE):[]}var Yr=Vt,QR=n=>Yr(n).name,ZR=n=>Yr(n).pc,JR=n=>Yr(n).acc,eI=n=>Yr(n).oct,tI=n=>Yr(n).midi,nI=n=>Yr(n).freq,rI=n=>Yr(n).chroma;function sE(n){return ja(n)}function iI(n){return ja(nE(n))}function sI(n){return ja(nE(n),{sharps:!0})}function oI(n){return ja(n,{sharps:!0})}var aI=gO,su=ql,lI=ql,oE=n=>e=>su(e,n),uI=oE,aE=n=>e=>su(n,e),cI=aE;function lE(n,e){return su(n,[e,0])}var dI=lE;function fI(n,e){return su(n,[0,e])}var Jm=(n,e)=>n.height-e.height,hI=(n,e)=>e.height-n.height;function uE(n,e){return e=e||Jm,iE(n).sort(e).map(rE)}function cE(n){return uE(n,Jm).filter((e,t,r)=>t===0||e!==r[t-1])}var pI=n=>{const e=Yr(n);return e.empty?"":ja(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function dE(n,e){const t=Yr(n);if(t.empty)return"";const r=Yr(e||ja(t.midi||t.chroma,{sharps:t.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==t.chroma)return"";if(t.oct===void 0)return r.pc;const s=t.chroma-t.alt,a=r.chroma-r.alt,u=s>11||a<0?-1:s<0||a>11?1:0,c=t.oct+u;return r.pc+c}var sa={names:XR,get:Yr,name:QR,pitchClass:ZR,accidentals:JR,octave:eI,midi:tI,ascending:Jm,descending:hI,distance:aI,sortedNames:uE,sortedUniqNames:cE,fromMidi:sE,fromMidiSharps:oI,freq:nI,fromFreq:iI,fromFreqSharps:sI,chroma:rI,transpose:su,tr:lI,transposeBy:oE,trBy:uI,transposeFrom:aE,trFrom:cI,transposeFifths:lE,transposeOctaves:fI,trFifths:dI,simplify:pI,enharmonic:dE};const eg=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"card-body"),C.jsx(t,{ref:s,className:ze(n,e),...r})));eg.displayName="CardBody";const fE=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"card-footer"),C.jsx(t,{ref:s,className:ze(n,e),...r})));fE.displayName="CardFooter";const hE=M.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Je(n,"card-header"),u=M.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return C.jsx(bm.Provider,{value:u,children:C.jsx(t,{ref:s,...r,className:ze(e,a)})})});hE.displayName="CardHeader";const pE=M.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...s},a)=>{const u=Je(n,"card-img");return C.jsx(r,{ref:a,className:ze(t?`${u}-${t}`:u,e),...s})});pE.displayName="CardImg";const mE=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"card-img-overlay"),C.jsx(t,{ref:s,className:ze(n,e),...r})));mE.displayName="CardImgOverlay";const gE=M.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},s)=>(e=Je(e,"card-link"),C.jsx(t,{ref:s,className:ze(n,e),...r})));gE.displayName="CardLink";const mI=Od("h6"),yE=M.forwardRef(({className:n,bsPrefix:e,as:t=mI,...r},s)=>(e=Je(e,"card-subtitle"),C.jsx(t,{ref:s,className:ze(n,e),...r})));yE.displayName="CardSubtitle";const vE=M.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},s)=>(e=Je(e,"card-text"),C.jsx(t,{ref:s,className:ze(n,e),...r})));vE.displayName="CardText";const gI=Od("h5"),_E=M.forwardRef(({className:n,bsPrefix:e,as:t=gI,...r},s)=>(e=Je(e,"card-title"),C.jsx(t,{ref:s,className:ze(n,e),...r})));_E.displayName="CardTitle";const wE=M.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:s,body:a=!1,children:u,as:c="div",...d},h)=>{const p=Je(n,"card");return C.jsx(c,{ref:h,...d,className:ze(e,p,t&&`bg-${t}`,r&&`text-${r}`,s&&`border-${s}`),children:a?C.jsx(eg,{children:u}):u})});wE.displayName="Card";const Xe=Object.assign(wE,{Img:pE,Title:_E,Subtitle:yE,Body:eg,Link:gE,Text:vE,Header:hE,Footer:fE,ImgOverlay:mE}),yI={id:Ut.string,href:Ut.string,onClick:Ut.func,title:Ut.node.isRequired,disabled:Ut.bool,align:Rk,menuRole:Ut.string,renderMenuOnMount:Ut.bool,rootCloseEvent:Ut.string,menuVariant:Ut.oneOf(["dark"]),flip:Ut.bool,bsPrefix:Ut.string,variant:Ut.string,size:Ut.string},ya=M.forwardRef(({title:n,children:e,bsPrefix:t,rootCloseEvent:r,variant:s,size:a,menuRole:u,renderMenuOnMount:c,disabled:d,href:h,id:p,menuVariant:m,flip:v,..._},w)=>C.jsxs(Mr,{ref:w,..._,children:[C.jsx(Wm,{id:p,href:h,size:a,variant:s,disabled:d,childBsPrefix:t,children:n}),C.jsx(zm,{role:u,renderOnMount:c,rootCloseEvent:r,variant:m,flip:v,children:e})]}));ya.displayName="DropdownButton";ya.propTypes=yI;var gp={},yp={};const vI=AT(SP);var K_;function _I(){return K_||(K_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=a(vd()),t=a(U0()),r=vI,s=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function a(E){return E&&E.__esModule?E:{default:E}}function u(E,S){var P=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);S&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(E,R).enumerable})),P.push.apply(P,O)}return P}function c(E){for(var S=1;S<arguments.length;S++){var P=arguments[S]!=null?arguments[S]:{};S%2?u(Object(P),!0).forEach(function(O){d(E,O,P[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(P)):u(Object(P)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(P,O))})}return E}function d(E,S,P){return S in E?Object.defineProperty(E,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[S]=P,E}function h(E){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(E)}function p(E,S){if(E==null)return{};var P=m(E,S),O,R;if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);for(R=0;R<N.length;R++)O=N[R],!(S.indexOf(O)>=0)&&Object.prototype.propertyIsEnumerable.call(E,O)&&(P[O]=E[O])}return P}function m(E,S){if(E==null)return{};var P={},O=Object.keys(E),R,N;for(N=0;N<O.length;N++)R=O[N],!(S.indexOf(R)>=0)&&(P[R]=E[R]);return P}var v=function(S){return!!(S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)},_=function(S){var P=S.children,O=S.onClick,R=S.replace,N=R===void 0?!1:R,x=S.to,k=S.state,T=S.activeClassName,A=T===void 0?"active":T,U=S.className,j=S.activeStyle,V=S.style,B=S.isActive,Z=p(S,s),ne=h(x)==="object"?x.pathname||"":x,he=(0,r.useNavigate)(),se=(0,r.useHref)(typeof x=="string"?{pathname:x}:x),oe=(0,r.useMatch)(ne),q=(0,r.useLocation)(),te=e.default.Children.only(P),Q=!!(B?typeof B=="function"?B(oe,q):B:oe),D=function(ee){P.props.onClick&&P.props.onClick(ee),O&&O(ee),!ee.defaultPrevented&&ee.button===0&&!v(ee)&&(ee.preventDefault(),he(x,{replace:N,state:k}))};return e.default.cloneElement(te,c(c({},Z),{},{className:[U,te.props.className,Q?A:null].join(" ").trim(),style:Q?c(c({},V),j):V,href:se,onClick:D}))};_.propTypes={children:t.default.element.isRequired,onClick:t.default.func,replace:t.default.bool,to:t.default.oneOfType([t.default.string,t.default.object]).isRequired,state:t.default.object,className:t.default.string,activeClassName:t.default.string,style:t.default.objectOf(t.default.oneOfType([t.default.string,t.default.number])),activeStyle:t.default.objectOf(t.default.oneOfType([t.default.string,t.default.number])),isActive:t.default.oneOfType([t.default.func,t.default.bool])};var w=_;n.default=w}(yp)),yp}var X_;function wI(){return X_||(X_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LinkContainer",{enumerable:!0,get:function(){return e.default}});var e=t(_I());function t(r){return r&&r.__esModule?r:{default:r}}}(gp)),gp}var co=wI();const SI=/(\S+)|(.)/g,EI=/[\.#][\p{L}\p{N}]/u,MI=new RegExp("\\p{Ll}(?=[\\p{Lu}])","u"),bI=/[\p{L}\p{N}]+/gu,TI=new RegExp("^([^\\p{L}])*(?:\\p{L}\\.){2,}([^\\p{L}])*$","u"),xI=new Set(["","","-","","/"]),SE=new Set([".","!","?"]),CI=new Set([...SE,":",'"',"'",""]),PI=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function or(n,e={}){const{locale:t=void 0,sentenceCase:r=!1,sentenceTerminators:s=SE,titleTerminators:a=CI,smallWords:u=PI,wordSeparators:c=xI}=typeof e=="string"||Array.isArray(e)?{locale:e}:e,d=r?s:a;let h="",p=!0;for(const m of n.matchAll(SI)){const{1:v,2:_,index:w=0}=m;if(_){h+=_;continue}if(EI.test(v)){const E=v.match(TI);if(E){const[S,P="",O=""]=E;h+=r&&!p?v:Q_(v,P.length,t),p=d.has(O.charAt(0));continue}h+=v,p=d.has(v.charAt(v.length-1))}else{const E=Array.from(v.matchAll(bI));let S=v,P=!1;for(let O=0;O<E.length;O++){const{0:R,index:N=0}=E[O],x=v.charAt(N+R.length);if(P=d.has(x),p)p=!1;else{if(r||MI.test(R))continue;if(E.length===1){if(u.has(R)&&!(w+v.length===n.length)&&!P)continue}else if(O>0&&(!c.has(v.charAt(N-1))||u.has(R)&&c.has(x)))continue}S=Q_(S,N,t)}h+=S,p=P||d.has(v.charAt(v.length-1))}}return h}function Q_(n,e,t){return n.slice(0,e)+n.charAt(e).toLocaleUpperCase(t)+n.slice(e+1)}function Zr({title:n}){return C.jsx(fx,{children:C.jsxs("title",{children:[n," - Musical Sight"]})})}const EE="15.0.4",Z_=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),J_=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Gp=(n,e)=>({startTime:e,type:"setValue",value:n}),ME=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),bE=(n,e,{startTime:t,target:r,timeConstant:s})=>r+(e-r)*Math.exp((t-n)/s),Jo=n=>n.type==="exponentialRampToValue",id=n=>n.type==="linearRampToValue",gs=n=>Jo(n)||id(n),tg=n=>n.type==="setValue",Oi=n=>n.type==="setValueCurve",sd=(n,e,t,r)=>{const s=n[e];return s===void 0?r:gs(s)||tg(s)?s.value:Oi(s)?s.values[s.values.length-1]:bE(t,sd(n,e-1,s.startTime,r),s)},ew=(n,e,t,r,s)=>t===void 0?[r.insertTime,s]:gs(t)?[t.endTime,t.value]:tg(t)?[t.startTime,t.value]:Oi(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,sd(n,e-1,t.startTime,s)],Yp=n=>n.type==="cancelAndHold",Kp=n=>n.type==="cancelScheduledValues",hs=n=>Yp(n)||Kp(n)?n.cancelTime:Jo(n)||id(n)?n.endTime:n.startTime,tw=(n,e,t,{endTime:r,value:s})=>t===s?s:0<t&&0<s||t<0&&s<0?t*(s/t)**((n-e)/(r-e)):0,nw=(n,e,t,{endTime:r,value:s})=>t+(n-e)/(r-e)*(s-t),NI=(n,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?n[t]:(1-(e-t))*n[t]+(1-(r-e))*n[r]},AI=(n,{duration:e,startTime:t,values:r})=>{const s=(n-t)/e*(r.length-1);return NI(r,s)},kc=n=>n.type==="setTarget";class kI{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=hs(e);if(Yp(e)||Kp(e)){const r=this._automationEvents.findIndex(a=>Kp(e)&&Oi(a)?a.startTime+a.duration>=t:hs(a)>=t),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Yp(e)){const a=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&gs(s)){if(a!==void 0&&kc(a))throw new Error("The internal list is malformed.");const u=a===void 0?s.insertTime:Oi(a)?a.startTime+a.duration:hs(a),c=a===void 0?this._defaultValue:Oi(a)?a.values[a.values.length-1]:a.value,d=Jo(s)?tw(t,u,c,s):nw(t,u,c,s),h=Jo(s)?Z_(d,t,this._currenTime):J_(d,t,this._currenTime);this._automationEvents.push(h)}if(a!==void 0&&kc(a)&&this._automationEvents.push(Gp(this.getValue(t),t)),a!==void 0&&Oi(a)&&a.startTime+a.duration>t){const u=t-a.startTime,c=(a.values.length-1)/a.duration,d=Math.max(2,1+Math.ceil(u*c)),h=u/(d-1)*c,p=a.values.slice(0,d);if(h<1)for(let m=1;m<d;m+=1){const v=h*m%1;p[m]=a.values[m-1]*(1-v)+a.values[m]*v}this._automationEvents[this._automationEvents.length-1]=ME(p,a.startTime,u)}}}else{const r=this._automationEvents.findIndex(u=>hs(u)>t),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&Oi(s)&&hs(s)+s.duration>t)return!1;const a=Jo(e)?Z_(e.value,e.endTime,this._currenTime):id(e)?J_(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(a);else{if(Oi(e)&&t+e.duration>hs(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,a)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>hs(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),s=r[0];kc(s)&&r.unshift(Gp(sd(this._automationEvents,t-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>hs(u)>e),r=this._automationEvents[t],s=(t===-1?this._automationEvents.length:t)-1,a=this._automationEvents[s];if(a!==void 0&&kc(a)&&(r===void 0||!gs(r)||r.insertTime>e))return bE(e,sd(this._automationEvents,s-1,a.startTime,this._defaultValue),a);if(a!==void 0&&tg(a)&&(r===void 0||!gs(r)))return a.value;if(a!==void 0&&Oi(a)&&(r===void 0||!gs(r)||a.startTime+a.duration>e))return e<a.startTime+a.duration?AI(e,a):a.values[a.values.length-1];if(a!==void 0&&gs(a)&&(r===void 0||!gs(r)))return a.value;if(r!==void 0&&Jo(r)){const[u,c]=ew(this._automationEvents,s,a,r,this._defaultValue);return tw(e,u,c,r)}if(r!==void 0&&id(r)){const[u,c]=ew(this._automationEvents,s,a,r,this._defaultValue);return nw(e,u,c,r)}return this._defaultValue}}const OI=n=>({cancelTime:n,type:"cancelAndHold"}),RI=n=>({cancelTime:n,type:"cancelScheduledValues"}),II=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),DI=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),jI=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),LI=()=>new DOMException("","AbortError"),FI=n=>(e,t,[r,s,a],u)=>{n(e[s],[t,r,a],c=>c[0]===t&&c[1]===r,u)},$I=n=>(e,t,r)=>{const s=[];for(let a=0;a<r.numberOfInputs;a+=1)s.push(new Set);n.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},UI=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},va=new WeakSet,TE=new WeakMap,ng=new WeakMap,xE=new WeakMap,rg=new WeakMap,Ud=new WeakMap,CE=new WeakMap,Xp=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,PE={construct(){return PE}},BI=n=>{try{const e=new Proxy(n,PE);new e}catch{return!1}return!0},rw=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,iw=(n,e)=>{const t=[];let r=n.replace(/^[\s]+/,""),s=r.match(rw);for(;s!==null;){const a=s[1].slice(1,-1),u=s[0].replace(/([\s]+)?;?$/,"").replace(a,new URL(a,e).toString());t.push(u),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(rw)}return[t.join(";"),r]},sw=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ow=n=>{if(!BI(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},VI=(n,e,t,r,s,a,u,c,d,h,p,m,v)=>{let _=0;return(w,E,S={credentials:"omit"})=>{const P=p.get(w);if(P!==void 0&&P.has(E))return Promise.resolve();const O=h.get(w);if(O!==void 0){const x=O.get(E);if(x!==void 0)return x}const R=a(w),N=R.audioWorklet===void 0?s(E).then(([x,k])=>{const[T,A]=iw(x,k),U=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${A}
})})(window,'_AWGS')`;return t(U)}).then(()=>{const x=v._AWGS.pop();if(x===void 0)throw new SyntaxError;r(R.currentTime,R.sampleRate,()=>x(class{},void 0,(k,T)=>{if(k.trim()==="")throw e();const A=Qp.get(R);if(A!==void 0){if(A.has(k))throw e();ow(T),sw(T.parameterDescriptors),A.set(k,T)}else ow(T),sw(T.parameterDescriptors),Qp.set(R,new Map([[k,T]]))},R.sampleRate,void 0,void 0))}):Promise.all([s(E),Promise.resolve(n(m,m))]).then(([[x,k],T])=>{const A=_+1;_=A;const[U,j]=iw(x,k),ne=`${U};((AudioWorkletProcessor,registerProcessor)=>{${j}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${A}',class extends AudioWorkletProcessor{process(){return !1}})`,he=new Blob([ne],{type:"application/javascript; charset=utf-8"}),se=URL.createObjectURL(he);return R.audioWorklet.addModule(se,S).then(()=>{if(c(R))return R;const oe=u(R);return oe.audioWorklet.addModule(se,S).then(()=>oe)}).then(oe=>{if(d===null)throw new SyntaxError;try{new d(oe,`__sac${A}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(se))});return O===void 0?h.set(w,new Map([[E,N]])):O.set(E,N),N.then(()=>{const x=p.get(w);x===void 0?p.set(w,new Set([E])):x.add(E)}).finally(()=>{const x=h.get(w);x!==void 0&&x.delete(E)}),N}},Kr=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},Bd=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return n.delete(r),r},NE=(n,e,t,r)=>{const s=Kr(n,e),a=Bd(s,u=>u[0]===t&&u[1]===r);return s.size===0&&n.delete(e),a},ou=n=>Kr(CE,n),_a=n=>{if(va.has(n))throw new Error("The AudioNode is already stored.");va.add(n),ou(n).forEach(e=>e(!0))},AE=n=>"port"in n,au=n=>{if(!va.has(n))throw new Error("The AudioNode is not stored.");va.delete(n),ou(n).forEach(e=>e(!1))},Jp=(n,e)=>{!AE(n)&&e.every(t=>t.size===0)&&au(n)},zI=(n,e,t,r,s,a,u,c,d,h,p,m,v)=>{const _=new WeakMap;return(w,E,S,P,O)=>{const{activeInputs:R,passiveInputs:N}=a(E),{outputs:x}=a(w),k=c(w),T=A=>{const U=d(E),j=d(w);if(A){const V=NE(N,w,S,P);n(R,w,V,!1),!O&&!m(w)&&t(j,U,S,P),v(E)&&_a(E)}else{const V=r(R,w,S,P);e(N,P,V,!1),!O&&!m(w)&&s(j,U,S,P);const B=u(E);if(B===0)p(E)&&Jp(E,R);else{const Z=_.get(E);Z!==void 0&&clearTimeout(Z),_.set(E,setTimeout(()=>{p(E)&&Jp(E,R)},B*1e3))}}};return h(x,[E,S,P],A=>A[0]===E&&A[1]===S&&A[2]===P,!0)?(k.add(T),p(w)?n(R,w,[S,P,T],!0):e(N,P,[w,S,T],!0),!0):!1}},WI=n=>(e,t,[r,s,a],u)=>{const c=e.get(r);c===void 0?e.set(r,new Set([[s,t,a]])):n(c,[s,t,a],d=>d[0]===s&&d[1]===t,u)},HI=n=>(e,t)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const s=()=>{t.removeEventListener("ended",s),t.disconnect(r),r.disconnect()};t.addEventListener("ended",s)},qI=n=>(e,t)=>{n(e).add(t)},GI={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},YI=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=s(c),p={...GI,...d},m=r(h,p),v=a(h)?e():null;super(c,!1,m,v),this._nativeAnalyserNode=m}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},An=(n,e)=>n.context===e,KI=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!An(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,h)}return r.set(u,c),await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},od=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},yi=()=>new DOMException("","IndexSizeError"),ig=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(r){throw r.code===12?yi():r}})(n.getChannelData)},XI={numberOfChannels:1},QI=(n,e,t,r,s,a,u,c)=>{let d=null;return class kE{constructor(p){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:m,numberOfChannels:v,sampleRate:_}={...XI,...p};d===null&&(d=new s(1,1,44100));const w=r!==null&&e(a,a)?new r({length:m,numberOfChannels:v,sampleRate:_}):d.createBuffer(v,m,_);if(w.numberOfChannels===0)throw t();return typeof w.copyFromChannel!="function"?(u(w),ig(w)):e(od,()=>od(w))||c(w),n.add(w),w}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===kE.prototype||n.has(p)}}},lr=-34028234663852886e22,In=34028234663852886e22,$i=n=>va.has(n),ZI={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},JI=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const m=a(h),v={...ZI,...p},_=s(m,v),w=u(m),E=w?e():null;super(h,!1,_,E),this._audioBufferSourceNodeRenderer=E,this._isBufferNullified=!1,this._isBufferSet=v.buffer!==null,this._nativeAudioBufferSourceNode=_,this._onended=null,this._playbackRate=t(this,w,_.playbackRate,In,lr)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const p=typeof h=="function"?c(this,h):null;this._nativeAudioBufferSourceNode.onended=p;const m=this._nativeAudioBufferSourceNode.onended;this._onended=m!==null&&m===p?h:m}get playbackRate(){return this._playbackRate}start(h=0,p=0,m){if(this._nativeAudioBufferSourceNode.start(h,p,m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=m===void 0?[h,p]:[h,p,m]),this.context.state!=="closed"){_a(this);const v=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",v),$i(this)&&au(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",v)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},eD=(n,e,t,r,s)=>()=>{const a=new WeakMap;let u=null,c=null;const d=async(h,p)=>{let m=t(h);const v=An(m,p);if(!v){const _={buffer:m.buffer,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,loop:m.loop,loopEnd:m.loopEnd,loopStart:m.loopStart,playbackRate:m.playbackRate.value};m=e(p,_),u!==null&&m.start(...u),c!==null&&m.stop(c)}return a.set(p,m),v?await n(p,h.playbackRate,m.playbackRate):await r(p,h.playbackRate,m.playbackRate),await s(h,p,m),m};return{set start(h){u=h},set stop(h){c=h},render(h,p){const m=a.get(p);return m!==void 0?Promise.resolve(m):d(h,p)}}},tD=n=>"playbackRate"in n,nD=n=>"frequency"in n&&"gain"in n,rD=n=>"offset"in n,iD=n=>!("frequency"in n)&&"gain"in n,sD=n=>"detune"in n&&"frequency"in n&&!("gain"in n),oD=n=>"pan"in n,Dn=n=>Kr(TE,n),lu=n=>Kr(xE,n),em=(n,e)=>{const{activeInputs:t}=Dn(n);t.forEach(s=>s.forEach(([a])=>{e.includes(n)||em(a,[...e,n])}));const r=tD(n)?[n.playbackRate]:AE(n)?Array.from(n.parameters.values()):nD(n)?[n.Q,n.detune,n.frequency,n.gain]:rD(n)?[n.offset]:iD(n)?[n.gain]:sD(n)?[n.detune,n.frequency]:oD(n)?[n.pan]:[];for(const s of r){const a=lu(s);a!==void 0&&a.activeInputs.forEach(([u])=>em(u,e))}$i(n)&&au(n)},OE=n=>{em(n.destination,[])},aD=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),lD=(n,e,t,r,s,a,u,c,d)=>class extends n{constructor(p={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let m;try{m=new d(p)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?t():w}if(m===null)throw r();if(!aD(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&m.sampleRate!==p.sampleRate)throw t();super(m,2);const{latencyHint:v}=p,{sampleRate:_}=m;if(this._baseLatency=typeof m.baseLatency=="number"?m.baseLatency:v==="balanced"?512/_:v==="interactive"||v===void 0?256/_:v==="playback"?1024/_:Math.max(2,Math.min(128,Math.round(v*_/128)))*128/_,this._nativeAudioContext=m,d.name==="webkitAudioContext"?(this._nativeGainNode=m.createGain(),this._nativeOscillatorNode=m.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(m.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,m.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),m.removeEventListener("statechange",w)};m.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),OE(this)}))}createMediaElementSource(p){return new s(this,{mediaElement:p})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new c(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,m)=>{const v=()=>{this._nativeAudioContext.removeEventListener("statechange",v),this._nativeAudioContext.state==="running"?p():this.resume().then(p,m)};this._nativeAudioContext.addEventListener("statechange",v)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?e():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?e():p})}},uD=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const m=a(h),v=u(m),_=s(m,p,v),w=v?e(c):null;super(h,!1,_,w),this._isNodeOfNativeOfflineAudioContext=v,this._nativeAudioDestinationNode=_}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},cD=n=>{const e=new WeakMap,t=async(r,s)=>{const a=s.destination;return e.set(s,a),await n(r,s,a),a};return{render(r,s){const a=e.get(s);return a!==void 0?Promise.resolve(a):t(r,s)}}},dD=(n,e,t,r,s,a,u,c)=>(d,h)=>{const p=h.listener,m=()=>{const x=new Float32Array(1),k=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=u(h);let A=!1,U=[0,0,-1,0,1,0],j=[0,0,0];const V=()=>{if(A)return;A=!0;const he=r(h,256,9,0);he.onaudioprocess=({inputBuffer:se})=>{const oe=[a(se,x,0),a(se,x,1),a(se,x,2),a(se,x,3),a(se,x,4),a(se,x,5)];oe.some((te,Q)=>te!==U[Q])&&(p.setOrientation(...oe),U=oe);const q=[a(se,x,6),a(se,x,7),a(se,x,8)];q.some((te,Q)=>te!==j[Q])&&(p.setPosition(...q),j=q)},k.connect(he)},B=he=>se=>{se!==U[he]&&(U[he]=se,p.setOrientation(...U))},Z=he=>se=>{se!==j[he]&&(j[he]=se,p.setPosition(...j))},ne=(he,se,oe)=>{const q=t(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se});q.connect(k,0,he),q.start(),Object.defineProperty(q.offset,"defaultValue",{get(){return se}});const te=n({context:d},T,q.offset,In,lr);return c(te,"value",Q=>()=>Q.call(te),Q=>D=>{try{Q.call(te,D)}catch(G){if(G.code!==9)throw G}V(),T&&oe(D)}),te.cancelAndHoldAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.cancelAndHoldAtTime),te.cancelScheduledValues=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.cancelScheduledValues),te.exponentialRampToValueAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.exponentialRampToValueAtTime),te.linearRampToValueAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.linearRampToValueAtTime),te.setTargetAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.setTargetAtTime),te.setValueAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.setValueAtTime),te.setValueCurveAtTime=(Q=>T?()=>{throw s()}:(...D)=>{const G=Q.apply(te,D);return V(),G})(te.setValueCurveAtTime),te};return{forwardX:ne(0,0,B(0)),forwardY:ne(1,0,B(1)),forwardZ:ne(2,-1,B(2)),positionX:ne(6,0,Z(0)),positionY:ne(7,0,Z(1)),positionZ:ne(8,0,Z(2)),upX:ne(3,0,B(3)),upY:ne(4,1,B(4)),upZ:ne(5,0,B(5))}},{forwardX:v,forwardY:_,forwardZ:w,positionX:E,positionY:S,positionZ:P,upX:O,upY:R,upZ:N}=p.forwardX===void 0?m():p;return{get forwardX(){return v},get forwardY(){return _},get forwardZ(){return w},get positionX(){return E},get positionY(){return S},get positionZ(){return P},get upX(){return O},get upY(){return R},get upZ(){return N}}},ad=n=>"context"in n,uu=n=>ad(n[0]),yo=(n,e,t,r)=>{for(const s of n)if(t(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},aw=(n,e,[t,r],s)=>{yo(n,[e,t,r],a=>a[0]===e&&a[1]===t,s)},lw=(n,[e,t,r],s)=>{const a=n.get(e);a===void 0?n.set(e,new Set([[t,r]])):yo(a,[t,r],u=>u[0]===t,s)},La=n=>"inputs"in n,ld=(n,e,t,r)=>{if(La(e)){const s=e.inputs[r];return n.connect(s,t,0),[s,t,0]}return n.connect(e,t,r),[e,t,r]},RE=(n,e,t)=>{for(const r of n)if(r[0]===e&&r[1]===t)return n.delete(r),r;return null},fD=(n,e,t)=>Bd(n,r=>r[0]===e&&r[1]===t),IE=(n,e)=>{if(!ou(n).delete(e))throw new Error("Missing the expected event listener.")},DE=(n,e,t)=>{const r=Kr(n,e),s=Bd(r,a=>a[0]===t);return r.size===0&&n.delete(e),s},ud=(n,e,t,r)=>{La(e)?n.disconnect(e.inputs[r],t,0):n.disconnect(e,t,r)},Ft=n=>Kr(ng,n),Gl=n=>Kr(rg,n),fo=n=>Xp.has(n),Wc=n=>!va.has(n),uw=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=n.createScriptProcessor(256,1,1),s=n.createGain(),a=n.createBuffer(1,2,44100),u=a.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=a,c.loop=!0,c.connect(r).connect(n.destination),c.connect(s),c.disconnect(s),r.onaudioprocess=d=>{const h=d.inputBuffer.getChannelData(0);Array.prototype.some.call(h,p=>p===1)?t(!0):t(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(n.destination)},c.start()}}),vp=(n,e)=>{const t=new Map;for(const r of n)for(const s of r){const a=t.get(s);t.set(s,a===void 0?1:a+1)}t.forEach((r,s)=>e(s,r))},cd=n=>"context"in n,hD=n=>{const e=new Map;n.connect=(t=>(r,s=0,a=0)=>{const u=cd(r)?t(r,s,a):t(r,s),c=e.get(r);return c===void 0?e.set(r,[{input:a,output:s}]):c.every(d=>d.input!==a||d.output!==s)&&c.push({input:a,output:s}),u})(n.connect.bind(n)),n.disconnect=(t=>(r,s,a)=>{if(t.apply(n),r===void 0)e.clear();else if(typeof r=="number")for(const[u,c]of e){const d=c.filter(h=>h.output!==r);d.length===0?e.delete(u):e.set(u,d)}else if(e.has(r))if(s===void 0)e.delete(r);else{const u=e.get(r);if(u!==void 0){const c=u.filter(d=>d.output!==s&&(d.input!==a||a===void 0));c.length===0?e.delete(r):e.set(r,c)}}for(const[u,c]of e)c.forEach(d=>{cd(u)?n.connect(u,d.output,d.input):n.connect(u,d.output)})})(n.disconnect)},pD=(n,e,t,r)=>{const{activeInputs:s,passiveInputs:a}=lu(e),{outputs:u}=Dn(n),c=ou(n),d=h=>{const p=Ft(n),m=Gl(e);if(h){const v=DE(a,n,t);aw(s,n,v,!1),!r&&!fo(n)&&p.connect(m,t)}else{const v=fD(s,n,t);lw(a,v,!1),!r&&!fo(n)&&p.disconnect(m,t)}};return yo(u,[e,t],h=>h[0]===e&&h[1]===t,!0)?(c.add(d),$i(n)?aw(s,n,[t,d],!0):lw(a,[n,t,d],!0),!0):!1},mD=(n,e,t,r)=>{const{activeInputs:s,passiveInputs:a}=Dn(e),u=RE(s[r],n,t);return u===null?[NE(a,n,t,r)[2],!1]:[u[2],!0]},gD=(n,e,t)=>{const{activeInputs:r,passiveInputs:s}=lu(e),a=RE(r,n,t);return a===null?[DE(s,n,t)[1],!1]:[a[2],!0]},sg=(n,e,t,r,s)=>{const[a,u]=mD(n,t,r,s);if(a!==null&&(IE(n,a),u&&!e&&!fo(n)&&ud(Ft(n),Ft(t),r,s)),$i(t)){const{activeInputs:c}=Dn(t);Jp(t,c)}},og=(n,e,t,r)=>{const[s,a]=gD(n,t,r);s!==null&&(IE(n,s),a&&!e&&!fo(n)&&Ft(n).disconnect(Gl(t),r))},yD=(n,e)=>{const t=Dn(n),r=[];for(const s of t.outputs)uu(s)?sg(n,e,...s):og(n,e,...s),r.push(s[0]);return t.outputs.clear(),r},vD=(n,e,t)=>{const r=Dn(n),s=[];for(const a of r.outputs)a[1]===t&&(uu(a)?sg(n,e,...a):og(n,e,...a),s.push(a[0]),r.outputs.delete(a));return s},_D=(n,e,t,r,s)=>{const a=Dn(n);return Array.from(a.outputs).filter(u=>u[0]===t&&(r===void 0||u[1]===r)&&(s===void 0||u[2]===s)).map(u=>(uu(u)?sg(n,e,...u):og(n,e,...u),a.outputs.delete(u),u[0]))},wD=(n,e,t,r,s,a,u,c,d,h,p,m,v,_,w,E)=>class extends h{constructor(P,O,R,N){super(R),this._context=P,this._nativeAudioNode=R;const x=p(P);m(x)&&t(uw,()=>uw(x,E))!==!0&&hD(R),ng.set(this,R),CE.set(this,new Set),P.state!=="closed"&&O&&_a(this),n(this,N,R)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(P){this._nativeAudioNode.channelCount=P}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(P){this._nativeAudioNode.channelCountMode=P}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(P){this._nativeAudioNode.channelInterpretation=P}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(P,O=0,R=0){if(O<0||O>=this._nativeAudioNode.numberOfOutputs)throw s();const N=p(this._context),x=w(N);if(v(P)||_(P))throw a();if(ad(P)){const A=Ft(P);try{const j=ld(this._nativeAudioNode,A,O,R),V=Wc(this);(x||V)&&this._nativeAudioNode.disconnect(...j),this.context.state!=="closed"&&!V&&Wc(P)&&_a(P)}catch(j){throw j.code===12?a():j}if(e(this,P,O,R,x)){const j=d([this],P);vp(j,r(x))}return P}const k=Gl(P);if(k.name==="playbackRate"&&k.maxValue===1024)throw u();try{this._nativeAudioNode.connect(k,O),(x||Wc(this))&&this._nativeAudioNode.disconnect(k,O)}catch(A){throw A.code===12?a():A}if(pD(this,P,O,x)){const A=d([this],P);vp(A,r(x))}}disconnect(P,O,R){let N;const x=p(this._context),k=w(x);if(P===void 0)N=yD(this,k);else if(typeof P=="number"){if(P<0||P>=this.numberOfOutputs)throw s();N=vD(this,k,P)}else{if(O!==void 0&&(O<0||O>=this.numberOfOutputs)||ad(P)&&R!==void 0&&(R<0||R>=P.numberOfInputs))throw s();if(N=_D(this,k,P,O,R),N.length===0)throw a()}for(const T of N){const A=d([this],T);vp(A,c)}}},SD=(n,e,t,r,s,a,u,c,d,h,p,m,v)=>(_,w,E,S=null,P=null)=>{const O=E.value,R=new kI(O),N=w?r(R):null,x={get defaultValue(){return O},get maxValue(){return S===null?E.maxValue:S},get minValue(){return P===null?E.minValue:P},get value(){return E.value},set value(k){E.value=k,x.setValueAtTime(k,_.context.currentTime)},cancelAndHoldAtTime(k){if(typeof E.cancelAndHoldAtTime=="function")N===null&&R.flush(_.context.currentTime),R.add(s(k)),E.cancelAndHoldAtTime(k);else{const T=Array.from(R).pop();N===null&&R.flush(_.context.currentTime),R.add(s(k));const A=Array.from(R).pop();E.cancelScheduledValues(k),T!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?E.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?E.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?E.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&E.setValueCurveAtTime(A.values,A.startTime,A.duration))}return x},cancelScheduledValues(k){return N===null&&R.flush(_.context.currentTime),R.add(a(k)),E.cancelScheduledValues(k),x},exponentialRampToValueAtTime(k,T){if(k===0)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;const A=_.context.currentTime;return N===null&&R.flush(A),Array.from(R).length===0&&(R.add(h(O,A)),E.setValueAtTime(O,A)),R.add(u(k,T)),E.exponentialRampToValueAtTime(k,T),x},linearRampToValueAtTime(k,T){const A=_.context.currentTime;return N===null&&R.flush(A),Array.from(R).length===0&&(R.add(h(O,A)),E.setValueAtTime(O,A)),R.add(c(k,T)),E.linearRampToValueAtTime(k,T),x},setTargetAtTime(k,T,A){return N===null&&R.flush(_.context.currentTime),R.add(d(k,T,A)),E.setTargetAtTime(k,T,A),x},setValueAtTime(k,T){return N===null&&R.flush(_.context.currentTime),R.add(h(k,T)),E.setValueAtTime(k,T),x},setValueCurveAtTime(k,T,A){const U=k instanceof Float32Array?k:new Float32Array(k);if(m!==null&&m.name==="webkitAudioContext"){const j=T+A,V=_.context.sampleRate,B=Math.ceil(T*V),Z=Math.floor(j*V),ne=Z-B,he=new Float32Array(ne);for(let oe=0;oe<ne;oe+=1){const q=(U.length-1)/A*((B+oe)/V-T),te=Math.floor(q),Q=Math.ceil(q);he[oe]=te===Q?U[te]:(1-(q-te))*U[te]+(1-(Q-q))*U[Q]}N===null&&R.flush(_.context.currentTime),R.add(p(he,T,A)),E.setValueCurveAtTime(he,T,A);const se=Z/V;se<j&&v(x,he[he.length-1],se),v(x,U[U.length-1],j)}else N===null&&R.flush(_.context.currentTime),R.add(p(U,T,A)),E.setValueCurveAtTime(U,T,A);return x}};return t.set(x,E),e.set(x,_),n(x,N),x},ED=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:r,value:s}=t;e.exponentialRampToValueAtTime(s,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:s}=t;e.linearRampToValueAtTime(s,r)}else if(t.type==="setTarget"){const{startTime:r,target:s,timeConstant:a}=t;e.setTargetAtTime(s,r,a)}else if(t.type==="setValue"){const{startTime:r,value:s}=t;e.setValueAtTime(s,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:s,values:a}=t;e.setValueCurveAtTime(a,s,r)}else throw new Error("Can't apply an unknown automation.")}});class jE{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,s)=>e.call(t,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const MD={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},bD=(n,e,t,r,s,a,u,c,d,h,p,m,v,_)=>class extends e{constructor(E,S,P){var O;const R=c(E),N=d(R),x=p({...MD,...P});v(x);const k=Qp.get(R),T=k==null?void 0:k.get(S),A=N||R.state!=="closed"?R:(O=u(R))!==null&&O!==void 0?O:R,U=s(A,N?null:E.baseLatency,h,S,T,x),j=N?r(S,x,T):null;super(E,!0,U,j);const V=[];U.parameters.forEach((Z,ne)=>{const he=t(this,N,Z);V.push([ne,he])}),this._nativeAudioWorkletNode=U,this._onprocessorerror=null,this._parameters=new jE(V),N&&n(R,this);const{activeInputs:B}=a(this);m(U,B)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(E){const S=typeof E=="function"?_(this,E):null;this._nativeAudioWorkletNode.onprocessorerror=S;const P=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=P!==null&&P===S?E:P}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function dd(n,e,t,r,s){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],r,s);else{const a=n.getChannelData(r);if(e[t].byteLength===0)e[t]=a.slice(s,s+128);else{const u=new Float32Array(a.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const LE=(n,e,t,r,s)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],r,s):e[t].byteLength!==0&&n.getChannelData(r).set(e[t],s)},fd=(n,e)=>{const t=[];for(let r=0;r<n;r+=1){const s=[],a=typeof e=="number"?e:e[r];for(let u=0;u<a;u+=1)s.push(new Float32Array(128));t.push(s)}return t},TD=(n,e)=>{const t=Kr(Zp,n),r=Ft(e);return Kr(t,r)},xD=async(n,e,t,r,s,a,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,d=r.channelCount*r.numberOfInputs,h=s.reduce((S,P)=>S+P,0),p=h===0?null:t.createBuffer(h,c,t.sampleRate);if(a===void 0)throw new Error("Missing the processor constructor.");const m=Dn(n),v=await TD(t,n),_=fd(r.numberOfInputs,r.channelCount),w=fd(r.numberOfOutputs,s),E=Array.from(n.parameters.keys()).reduce((S,P)=>({...S,[P]:new Float32Array(128)}),{});for(let S=0;S<c;S+=128){if(r.numberOfInputs>0&&e!==null)for(let P=0;P<r.numberOfInputs;P+=1)for(let O=0;O<r.channelCount;O+=1)dd(e,_[P],O,O,S);a.parameterDescriptors!==void 0&&e!==null&&a.parameterDescriptors.forEach(({name:P},O)=>{dd(e,E,P,d+O,S)});for(let P=0;P<r.numberOfInputs;P+=1)for(let O=0;O<s[P];O+=1)w[P][O].byteLength===0&&(w[P][O]=new Float32Array(128));try{const P=_.map((R,N)=>m.activeInputs[N].size===0?[]:R),O=u(S/t.sampleRate,t.sampleRate,()=>v.process(P,w,E));if(p!==null)for(let R=0,N=0;R<r.numberOfOutputs;R+=1){for(let x=0;x<s[R];x+=1)LE(p,w[R],x,N+x,S);N+=s[R]}if(!O)break}catch(P){n.dispatchEvent(new ErrorEvent("processorerror",{colno:P.colno,filename:P.filename,lineno:P.lineno,message:P.message}));break}}return p},CD=(n,e,t,r,s,a,u,c,d,h,p,m,v,_,w,E)=>(S,P,O)=>{const R=new WeakMap;let N=null;const x=async(k,T)=>{let A=p(k),U=null;const j=An(A,T),V=Array.isArray(P.outputChannelCount)?P.outputChannelCount:Array.from(P.outputChannelCount);if(m===null){const B=V.reduce((se,oe)=>se+oe,0),Z=s(T,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),ne=[];for(let se=0;se<k.numberOfOutputs;se+=1)ne.push(r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:V[se]}));const he=u(T,{channelCount:P.channelCount,channelCountMode:P.channelCountMode,channelInterpretation:P.channelInterpretation,gain:1});he.connect=e.bind(null,ne),he.disconnect=d.bind(null,ne),U=[Z,ne,he]}else j||(A=new m(T,S));if(R.set(T,U===null?A:U[2]),U!==null){if(N===null){if(O===void 0)throw new Error("Missing the processor constructor.");if(v===null)throw new Error("Missing the native OfflineAudioContext constructor.");const oe=k.channelCount*k.numberOfInputs,q=O.parameterDescriptors===void 0?0:O.parameterDescriptors.length,te=oe+q;N=xD(k,te===0?null:await(async()=>{const D=new v(te,Math.ceil(k.context.length/128)*128,T.sampleRate),G=[],ee=[];for(let me=0;me<P.numberOfInputs;me+=1)G.push(u(D,{channelCount:P.channelCount,channelCountMode:P.channelCountMode,channelInterpretation:P.channelInterpretation,gain:1})),ee.push(s(D,{channelCount:P.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:P.channelCount}));const ge=await Promise.all(Array.from(k.parameters.values()).map(async me=>{const Ie=a(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:me.value});return await _(D,me,Ie.offset),Ie})),ue=r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,oe+q)});for(let me=0;me<P.numberOfInputs;me+=1){G[me].connect(ee[me]);for(let Ie=0;Ie<P.channelCount;Ie+=1)ee[me].connect(ue,Ie,me*P.channelCount+Ie)}for(const[me,Ie]of ge.entries())Ie.connect(ue,0,oe+me),Ie.start(0);return ue.connect(D.destination),await Promise.all(G.map(me=>w(k,D,me))),E(D)})(),T,P,V,O,h)}const B=await N,Z=t(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ne,he,se]=U;B!==null&&(Z.buffer=B,Z.start(0)),Z.connect(ne);for(let oe=0,q=0;oe<k.numberOfOutputs;oe+=1){const te=he[oe];for(let Q=0;Q<V[oe];Q+=1)ne.connect(te,q+Q,Q);q+=V[oe]}return se}if(j)for(const[B,Z]of k.parameters.entries())await n(T,Z,A.parameters.get(B));else for(const[B,Z]of k.parameters.entries())await _(T,Z,A.parameters.get(B));return await w(k,T,A),A};return{render(k,T){c(T,k);const A=R.get(T);return A!==void 0?Promise.resolve(A):x(k,T)}}},PD=(n,e,t,r,s,a,u,c,d,h,p,m,v,_,w,E,S,P,O,R)=>class extends w{constructor(x,k){super(x,k),this._nativeContext=x,this._audioWorklet=n===void 0?void 0:{addModule:(T,A)=>n(this,T,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(x,k,T){return new t({length:k,numberOfChannels:x,sampleRate:T})}createBufferSource(){return new r(this)}createChannelMerger(x=6){return new a(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new u(this,{numberOfOutputs:x})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(x=1){return new p(this,{maxDelayTime:x})}createDynamicsCompressor(){return new m(this)}createGain(){return new v(this)}createIIRFilter(x,k){return new _(this,{feedback:k,feedforward:x})}createOscillator(){return new E(this)}createPanner(){return new S(this)}createPeriodicWave(x,k,T={disableNormalization:!1}){return new P(this,{...T,imag:k,real:x})}createStereoPanner(){return new O(this)}createWaveShaper(){return new R(this)}decodeAudioData(x,k,T){return h(this._nativeContext,x).then(A=>(typeof k=="function"&&k(A),A),A=>{throw typeof T=="function"&&T(A),A})}},ND={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},AD=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const m=a(h),v={...ND,...p},_=s(m,v),w=u(m),E=w?t():null;super(h,!1,_,E),this._Q=e(this,w,_.Q,In,lr),this._detune=e(this,w,_.detune,1200*Math.log2(In),-1200*Math.log2(In)),this._frequency=e(this,w,_.frequency,h.sampleRate/2,0),this._gain=e(this,w,_.gain,40*Math.log10(In),lr),this._nativeBiquadFilterNode=_,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,p,m){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,p,m)}catch(v){throw v.code===11?r():v}if(h.length!==p.length||p.length!==m.length)throw r()}},kD=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=An(h,d);if(!p){const m={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(d,m)}return a.set(d,h),p?(await n(d,c.Q,h.Q),await n(d,c.detune,h.detune),await n(d,c.frequency,h.frequency),await n(d,c.gain,h.gain)):(await r(d,c.Q,h.Q),await r(d,c.detune,h.detune),await r(d,c.frequency,h.frequency),await r(d,c.gain,h.gain)),await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},OD=(n,e)=>(t,r)=>{const s=e.get(t);if(s!==void 0)return s;const a=n.get(t);if(a!==void 0)return a;try{const u=r();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},RD={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ID=(n,e,t,r,s)=>class extends n{constructor(u,c){const d=r(u),h={...RD,...c},p=t(d,h),m=s(d)?e():null;super(u,!1,p,m)}},DD=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!An(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,h)}return r.set(u,c),await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},jD={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},LD=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=r(c),p=a({...jD,...d}),m=t(h,p),v=s(h)?e():null;super(c,!1,m,v)}},FD=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!An(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,h)}return r.set(u,c),await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},$D=n=>(e,t,r)=>n(t,e,r),UD=n=>(e,t,r=0,s=0)=>{const a=e[r];if(a===void 0)throw n();return cd(t)?a.connect(t,0,s):a.connect(t,0)},BD=n=>(e,t)=>{const r=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},VD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},zD=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),m={...VD,...h},v=r(p,m),_=a(p),w=_?t():null;super(d,!1,v,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=v,this._offset=e(this,_,v.offset,In,lr),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const h=typeof d=="function"?u(this,d):null;this._nativeConstantSourceNode.onended=h;const p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===h?d:p}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){_a(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),$i(this)&&au(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},WD=(n,e,t,r,s)=>()=>{const a=new WeakMap;let u=null,c=null;const d=async(h,p)=>{let m=t(h);const v=An(m,p);if(!v){const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,offset:m.offset.value};m=e(p,_),u!==null&&m.start(u),c!==null&&m.stop(c)}return a.set(p,m),v?await n(p,h.offset,m.offset):await r(p,h.offset,m.offset),await s(h,p,m),m};return{set start(h){u=h},set stop(h){c=h},render(h,p){const m=a.get(p);return m!==void 0?Promise.resolve(m):d(h,p)}}},HD=n=>e=>(n[0]=e,n[0]),qD={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},GD=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=r(c),p={...qD,...d},m=t(h,p),_=s(h)?e():null;super(c,!1,m,_),this._isBufferNullified=!1,this._nativeConvolverNode=m,p.buffer!==null&&a(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},YD=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!An(c,u)){const h={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,h)}return r.set(u,c),La(c)?await t(a,u,c.inputs[0]):await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},KD=(n,e)=>(t,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,s)}catch(a){throw a.name==="SyntaxError"?n():a}},XD=()=>new DOMException("","DataCloneError"),cw=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const s=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>s();try{e.postMessage(n,[n])}catch{}finally{s()}})},QD=(n,e,t,r,s,a,u,c,d,h,p)=>(m,v)=>{const _=u(m)?m:a(m);if(s.has(v)){const w=t();return Promise.reject(w)}try{s.add(v)}catch{}return e(d,()=>d(_))?_.decodeAudioData(v).then(w=>(cw(v).catch(()=>{}),e(c,()=>c(w))||p(w),n.add(w),w)):new Promise((w,E)=>{const S=async()=>{try{await cw(v)}catch{}},P=O=>{E(O),S()};try{_.decodeAudioData(v,O=>{typeof O.copyFromChannel!="function"&&(h(O),ig(O)),n.add(O),S().then(()=>w(O))},O=>{P(O===null?r():O)})}catch(O){P(O)}})},ZD=(n,e,t,r,s,a,u,c)=>(d,h)=>{const p=e.get(d);if(p===void 0)throw new Error("Missing the expected cycle count.");const m=a(d.context),v=c(m);if(p===h){if(e.delete(d),!v&&u(d)){const _=r(d),{outputs:w}=t(d);for(const E of w)if(uu(E)){const S=r(E[0]);n(_,S,E[1],E[2])}else{const S=s(E[0]);_.connect(S,E[1])}}}else e.set(d,p-h)},JD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},e2=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),m={...JD,...h},v=r(p,m),_=a(p),w=_?t(m.maxDelayTime):null;super(d,!1,v,w),this._delayTime=e(this,_,v.delayTime),u(this,m.maxDelayTime)}get delayTime(){return this._delayTime}},t2=(n,e,t,r,s)=>a=>{const u=new WeakMap,c=async(d,h)=>{let p=t(d);const m=An(p,h);if(!m){const v={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:a};p=e(h,v)}return u.set(h,p),m?await n(h,d.delayTime,p.delayTime):await r(h,d.delayTime,p.delayTime),await s(d,h,p),p};return{render(d,h){const p=u.get(h);return p!==void 0?Promise.resolve(p):c(d,h)}}},n2=n=>(e,t,r,s)=>n(e[s],a=>a[0]===t&&a[1]===r),r2=n=>(e,t)=>{n(e).delete(t)},i2=n=>"delayTime"in n,s2=(n,e,t)=>function r(s,a){const u=ad(a)?a:t(n,a);if(i2(u))return[];if(s[0]===u)return[s];if(s.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(d=>r([...s,u],d[0])).reduce((d,h)=>d.concat(h),[])},Oc=(n,e,t)=>{const r=e[t];if(r===void 0)throw n();return r},o2=n=>(e,t=void 0,r=void 0,s=0)=>t===void 0?e.forEach(a=>a.disconnect()):typeof t=="number"?Oc(n,e,t).disconnect():cd(t)?r===void 0?e.forEach(a=>a.disconnect(t)):s===void 0?Oc(n,e,r).disconnect(t,0):Oc(n,e,r).disconnect(t,0,s):r===void 0?e.forEach(a=>a.disconnect(t)):Oc(n,e,r).disconnect(t,0),a2={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},l2=(n,e,t,r,s,a,u,c)=>class extends n{constructor(h,p){const m=a(h),v={...a2,...p},_=r(m,v),w=u(m),E=w?t():null;super(h,!1,_,E),this._attack=e(this,w,_.attack),this._knee=e(this,w,_.knee),this._nativeDynamicsCompressorNode=_,this._ratio=e(this,w,_.ratio),this._release=e(this,w,_.release),this._threshold=e(this,w,_.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=p,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},u2=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=An(h,d);if(!p){const m={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(d,m)}return a.set(d,h),p?(await n(d,c.attack,h.attack),await n(d,c.knee,h.knee),await n(d,c.ratio,h.ratio),await n(d,c.release,h.release),await n(d,c.threshold,h.threshold)):(await r(d,c.attack,h.attack),await r(d,c.knee,h.knee),await r(d,c.ratio,h.ratio),await r(d,c.release,h.release),await r(d,c.threshold,h.threshold)),await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},c2=()=>new DOMException("","EncodingError"),d2=n=>e=>new Promise((t,r)=>{if(n===null){r(new SyntaxError);return}const s=n.document.head;if(s===null)r(new SyntaxError);else{const a=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),d=n.onerror,h=()=>{n.onerror=d,URL.revokeObjectURL(c)};n.onerror=(p,m,v,_,w)=>{if(m===c||m===n.location.href&&v===1&&_===1)return h(),r(w),!1;if(d!==null)return d(p,m,v,_,w)},a.onerror=()=>{h(),r(new SyntaxError)},a.onload=()=>{h(),t()},a.src=c,a.type="module",s.appendChild(a)}}),f2=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,s){if(r!==null){let a=this._listeners.get(r);a===void 0&&(a=n(this,r),typeof r=="function"&&this._listeners.set(r,a)),this._nativeEventTarget.addEventListener(t,a,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,s){const a=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,a===void 0?null:a,s)}},h2=n=>(e,t,r)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},p2=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},m2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},g2=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=s(c),p={...m2,...d},m=r(h,p),v=a(h),_=v?t():null;super(c,!1,m,_),this._gain=e(this,v,m.gain,In,lr)}get gain(){return this._gain}},y2=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=An(h,d);if(!p){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(d,m)}return a.set(d,h),p?await n(d,c.gain,h.gain):await r(d,c.gain,h.gain),await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},v2=(n,e)=>t=>e(n,t),_2=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},w2=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},S2=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},E2=n=>e=>n.get(e),gn=()=>new DOMException("","InvalidStateError"),M2=n=>e=>{const t=n.get(e);if(t===void 0)throw gn();return t},b2=(n,e)=>t=>{let r=n.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),n.set(t,r),r},T2=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Vd=()=>new DOMException("","InvalidAccessError"),x2=n=>{n.getFrequencyResponse=(e=>(t,r,s)=>{if(t.length!==r.length||r.length!==s.length)throw Vd();return e.call(n,t,r,s)})(n.getFrequencyResponse)},C2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},P2=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=r(c),p=s(h),m={...C2,...d},v=e(h,p?null:c.baseLatency,m),_=p?t(m.feedback,m.feedforward):null;super(c,!1,v,_),x2(v),this._nativeIIRFilterNode=v,a(this,1)}getFrequencyResponse(c,d,h){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,h)}},FE=(n,e,t,r,s,a,u,c,d,h,p)=>{const m=h.length;let v=c;for(let _=0;_<m;_+=1){let w=t[0]*h[_];for(let E=1;E<s;E+=1){const S=v-E&d-1;w+=t[E]*a[S],w-=n[E]*u[S]}for(let E=s;E<r;E+=1)w+=t[E]*a[v-E&d-1];for(let E=s;E<e;E+=1)w-=n[E]*u[v-E&d-1];a[v]=h[_],u[v]=w,v=v+1&d-1,p[_]=w}return v},N2=(n,e,t,r)=>{const s=t instanceof Float64Array?t:new Float64Array(t),a=r instanceof Float64Array?r:new Float64Array(r),u=s.length,c=a.length,d=Math.min(u,c);if(s[0]!==1){for(let w=0;w<u;w+=1)a[w]/=s[0];for(let w=1;w<c;w+=1)s[w]/=s[0]}const h=32,p=new Float32Array(h),m=new Float32Array(h),v=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),_=n.numberOfChannels;for(let w=0;w<_;w+=1){const E=n.getChannelData(w),S=v.getChannelData(w);p.fill(0),m.fill(0),FE(s,u,a,c,d,p,m,0,h,E,S)}return v},A2=(n,e,t,r,s)=>(a,u)=>{const c=new WeakMap;let d=null;const h=async(p,m)=>{let v=null,_=e(p);const w=An(_,m);if(m.createIIRFilter===void 0?v=n(m,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(_=m.createIIRFilter(u,a)),c.set(m,v===null?_:v),v!==null){if(d===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new t(p.context.destination.channelCount,p.context.length,m.sampleRate);d=(async()=>{await r(p,S,S.destination);const P=await s(S);return N2(P,m,a,u)})()}const E=await d;return v.buffer=E,v.start(0),v}return await r(p,m,_),_};return{render(p,m){const v=c.get(m);return v!==void 0?Promise.resolve(v):h(p,m)}}},k2=(n,e,t,r,s,a)=>u=>(c,d)=>{const h=n.get(c);if(h===void 0){if(!u&&a(c)){const p=r(c),{outputs:m}=t(c);for(const v of m)if(uu(v)){const _=r(v[0]);e(p,_,v[1],v[2])}else{const _=s(v[0]);p.disconnect(_,v[1])}}n.set(c,d)}else n.set(c,h+d)},O2=(n,e)=>t=>{const r=n.get(t);return e(r)||e(t)},R2=(n,e)=>t=>n.has(t)||e(t),I2=(n,e)=>t=>n.has(t)||e(t),D2=(n,e)=>t=>{const r=n.get(t);return e(r)||e(t)},j2=n=>e=>n!==null&&e instanceof n,L2=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,F2=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,$2=(n,e)=>t=>n(t)||e(t),U2=n=>e=>n!==null&&e instanceof n,B2=n=>n!==null&&n.isSecureContext,V2=(n,e,t,r)=>class extends n{constructor(a,u){const c=t(a),d=e(c,u);if(r(c))throw TypeError();super(a,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},z2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},W2=(n,e,t,r)=>class extends n{constructor(a,u){const c=t(a);if(r(c))throw new TypeError;const d={...z2,...u},h=e(c,d);super(a,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},H2=(n,e,t,r)=>class extends n{constructor(a,u){const c=t(a),d=e(c,u);if(r(c))throw new TypeError;super(a,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},q2=(n,e,t)=>class extends n{constructor(s,a){const u=t(s),c=e(u,a);super(s,!0,c,null)}},G2=(n,e,t,r,s,a)=>class extends t{constructor(c,d){super(c),this._nativeContext=c,Ud.set(this,c),r(c)&&s.set(c,new Set),this._destination=new n(this,d),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?a(this,c):null;this._nativeContext.onstatechange=d;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===d?c:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Yl=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},Y2=(n,e)=>(t,r,s)=>{const a=new Set;return t.connect=(u=>(c,d=0,h=0)=>{const p=a.size===0;if(e(c))return u.call(t,c,d,h),n(a,[c,d,h],m=>m[0]===c&&m[1]===d&&m[2]===h,!0),p&&r(),c;u.call(t,c,d),n(a,[c,d],m=>m[0]===c&&m[1]===d,!0),p&&r()})(t.connect),t.disconnect=(u=>(c,d,h)=>{const p=a.size>0;if(c===void 0)u.apply(t),a.clear();else if(typeof c=="number"){u.call(t,c);for(const v of a)v[1]===c&&a.delete(v)}else{e(c)?u.call(t,c,d,h):u.call(t,c,d);for(const v of a)v[0]===c&&(d===void 0||v[1]===d)&&(h===void 0||v[2]===h)&&a.delete(v)}const m=a.size===0;p&&m&&s()})(t.disconnect),t},Bt=(n,e,t)=>{const r=e[t];r!==void 0&&r!==n[t]&&(n[t]=r)},fn=(n,e)=>{Bt(n,e,"channelCount"),Bt(n,e,"channelCountMode"),Bt(n,e,"channelInterpretation")},dw=n=>typeof n.getFloatTimeDomainData=="function",K2=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const r=Math.max(t.length,n.fftSize);for(let s=0;s<r;s+=1)e[s]=(t[s]-128)*.0078125;return e}},X2=(n,e)=>(t,r)=>{const s=t.createAnalyser();if(fn(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Bt(s,r,"fftSize"),Bt(s,r,"maxDecibels"),Bt(s,r,"minDecibels"),Bt(s,r,"smoothingTimeConstant"),n(dw,()=>dw(s))||K2(s),s},Q2=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,Xt=(n,e,t)=>{const r=e[t];r!==void 0&&r!==n[t].value&&(n[t].value=r)},Z2=n=>{n.start=(e=>{let t=!1;return(r=0,s=0,a)=>{if(t)throw gn();e.call(n,r,s,a),t=!0}})(n.start)},ag=n=>{n.start=(e=>(t=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,r,s)})(n.start)},lg=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},J2=(n,e,t,r,s,a,u,c,d,h,p)=>(m,v)=>{const _=m.createBufferSource();return fn(_,v),Xt(_,v,"playbackRate"),Bt(_,v,"buffer"),Bt(_,v,"loop"),Bt(_,v,"loopEnd"),Bt(_,v,"loopStart"),e(t,()=>t(m))||Z2(_),e(r,()=>r(m))||d(_),e(s,()=>s(m))||h(_,m),e(a,()=>a(m))||ag(_),e(u,()=>u(m))||p(_,m),e(c,()=>c(m))||lg(_),n(m,_),_},e3=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,t3=(n,e)=>(t,r,s)=>{const a=t.destination;if(a.channelCount!==r)try{a.channelCount=r}catch{}s&&a.channelCountMode!=="explicit"&&(a.channelCountMode="explicit"),a.maxChannelCount===0&&Object.defineProperty(a,"maxChannelCount",{value:r});const u=n(t,{channelCount:r,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>d=>{c.call(u,d);try{a.channelCount=d}catch(h){if(d>a.maxChannelCount)throw h}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>d=>{c.call(u,d),a.channelCountMode=d}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>d=>{c.call(u,d),a.channelInterpretation=d}),Object.defineProperty(u,"maxChannelCount",{get:()=>a.maxChannelCount}),u.connect(a),u},n3=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,r3=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},i3=(n,e,t,r,s)=>(a,u,c,d,h,p)=>{if(c!==null)try{const m=new c(a,d,p),v=new Map;let _=null;if(Object.defineProperties(m,{channelCount:{get:()=>p.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>_,set:w=>{typeof _=="function"&&m.removeEventListener("processorerror",_),_=typeof w=="function"?w:null,typeof _=="function"&&m.addEventListener("processorerror",_)}}}),m.addEventListener=(w=>(...E)=>{if(E[0]==="processorerror"){const S=typeof E[1]=="function"?E[1]:typeof E[1]=="object"&&E[1]!==null&&typeof E[1].handleEvent=="function"?E[1].handleEvent:null;if(S!==null){const P=v.get(E[1]);P!==void 0?E[1]=P:(E[1]=O=>{O.type==="error"?(Object.defineProperties(O,{type:{value:"processorerror"}}),S(O)):S(new ErrorEvent(E[0],{...O}))},v.set(S,E[1]))}}return w.call(m,"error",E[1],E[2]),w.call(m,...E)})(m.addEventListener),m.removeEventListener=(w=>(...E)=>{if(E[0]==="processorerror"){const S=v.get(E[1]);S!==void 0&&(v.delete(E[1]),E[1]=S)}return w.call(m,"error",E[1],E[2]),w.call(m,E[0],E[1],E[2])})(m.removeEventListener),p.numberOfOutputs!==0){const w=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return m.connect(w).connect(a.destination),s(m,()=>w.disconnect(),()=>w.connect(a.destination))}return m}catch(m){throw m.code===11?r():m}if(h===void 0)throw r();return r3(p),e(a,u,h,p)},$E=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),s3=n=>new Promise((e,t)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:a})=>{r.close(),s.close(),e(a)},r.onmessageerror=({data:a})=>{r.close(),s.close(),t(a)},s.postMessage(n)}),o3=async(n,e)=>{const t=await s3(e);return new n(t)},a3=(n,e,t,r)=>{let s=Zp.get(n);s===void 0&&(s=new WeakMap,Zp.set(n,s));const a=o3(t,r);return s.set(e,a),a},l3=(n,e,t,r,s,a,u,c,d,h,p,m,v)=>(_,w,E,S)=>{if(S.numberOfInputs===0&&S.numberOfOutputs===0)throw d();const P=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(P.some(de=>de<1))throw d();if(P.length!==S.numberOfOutputs)throw e();if(S.channelCountMode!=="explicit")throw d();const O=S.channelCount*S.numberOfInputs,R=P.reduce((de,Te)=>de+Te,0),N=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length;if(O+N>6||R>6)throw d();const x=new MessageChannel,k=[],T=[];for(let de=0;de<S.numberOfInputs;de+=1)k.push(u(_,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),T.push(s(_,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const A=[];if(E.parameterDescriptors!==void 0)for(const{defaultValue:de,maxValue:Te,minValue:st,name:lt}of E.parameterDescriptors){const Ge=a(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S.parameterData[lt]!==void 0?S.parameterData[lt]:de===void 0?0:de});Object.defineProperties(Ge.offset,{defaultValue:{get:()=>de===void 0?0:de},maxValue:{get:()=>Te===void 0?In:Te},minValue:{get:()=>st===void 0?lr:st}}),A.push(Ge)}const U=r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,O+N)}),j=$E(w,_.sampleRate),V=c(_,j,O+N,Math.max(1,R)),B=s(_,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),Z=[];for(let de=0;de<S.numberOfOutputs;de+=1)Z.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:P[de]}));for(let de=0;de<S.numberOfInputs;de+=1){k[de].connect(T[de]);for(let Te=0;Te<S.channelCount;Te+=1)T[de].connect(U,Te,de*S.channelCount+Te)}const ne=new jE(E.parameterDescriptors===void 0?[]:E.parameterDescriptors.map(({name:de},Te)=>{const st=A[Te];return st.connect(U,0,O+Te),st.start(0),[de,st.offset]}));U.connect(V);let he=S.channelInterpretation,se=null;const oe=S.numberOfOutputs===0?[V]:Z,q={get bufferSize(){return j},get channelCount(){return S.channelCount},set channelCount(de){throw t()},get channelCountMode(){return S.channelCountMode},set channelCountMode(de){throw t()},get channelInterpretation(){return he},set channelInterpretation(de){for(const Te of k)Te.channelInterpretation=de;he=de},get context(){return V.context},get inputs(){return k},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get onprocessorerror(){return se},set onprocessorerror(de){typeof se=="function"&&q.removeEventListener("processorerror",se),se=typeof de=="function"?de:null,typeof se=="function"&&q.addEventListener("processorerror",se)},get parameters(){return ne},get port(){return x.port2},addEventListener(...de){return V.addEventListener(de[0],de[1],de[2])},connect:n.bind(null,oe),disconnect:h.bind(null,oe),dispatchEvent(...de){return V.dispatchEvent(de[0])},removeEventListener(...de){return V.removeEventListener(de[0],de[1],de[2])}},te=new Map;x.port1.addEventListener=(de=>(...Te)=>{if(Te[0]==="message"){const st=typeof Te[1]=="function"?Te[1]:typeof Te[1]=="object"&&Te[1]!==null&&typeof Te[1].handleEvent=="function"?Te[1].handleEvent:null;if(st!==null){const lt=te.get(Te[1]);lt!==void 0?Te[1]=lt:(Te[1]=Ge=>{p(_.currentTime,_.sampleRate,()=>st(Ge))},te.set(st,Te[1]))}}return de.call(x.port1,Te[0],Te[1],Te[2])})(x.port1.addEventListener),x.port1.removeEventListener=(de=>(...Te)=>{if(Te[0]==="message"){const st=te.get(Te[1]);st!==void 0&&(te.delete(Te[1]),Te[1]=st)}return de.call(x.port1,Te[0],Te[1],Te[2])})(x.port1.removeEventListener);let Q=null;Object.defineProperty(x.port1,"onmessage",{get:()=>Q,set:de=>{typeof Q=="function"&&x.port1.removeEventListener("message",Q),Q=typeof de=="function"?de:null,typeof Q=="function"&&(x.port1.addEventListener("message",Q),x.port1.start())}}),E.prototype.port=x.port1;let D=null;a3(_,q,E,S).then(de=>D=de);const ee=fd(S.numberOfInputs,S.channelCount),ge=fd(S.numberOfOutputs,P),ue=E.parameterDescriptors===void 0?[]:E.parameterDescriptors.reduce((de,{name:Te})=>({...de,[Te]:new Float32Array(128)}),{});let me=!0;const Ie=()=>{S.numberOfOutputs>0&&V.disconnect(B);for(let de=0,Te=0;de<S.numberOfOutputs;de+=1){const st=Z[de];for(let lt=0;lt<P[de];lt+=1)B.disconnect(st,Te+lt,lt);Te+=P[de]}},ce=new Map;V.onaudioprocess=({inputBuffer:de,outputBuffer:Te})=>{if(D!==null){const st=m(q);for(let lt=0;lt<j;lt+=128){for(let Ge=0;Ge<S.numberOfInputs;Ge+=1)for(let Ye=0;Ye<S.channelCount;Ye+=1)dd(de,ee[Ge],Ye,Ye,lt);E.parameterDescriptors!==void 0&&E.parameterDescriptors.forEach(({name:Ge},Ye)=>{dd(de,ue,Ge,O+Ye,lt)});for(let Ge=0;Ge<S.numberOfInputs;Ge+=1)for(let Ye=0;Ye<P[Ge];Ye+=1)ge[Ge][Ye].byteLength===0&&(ge[Ge][Ye]=new Float32Array(128));try{const Ge=ee.map((yt,zt)=>{if(st[zt].size>0)return ce.set(zt,j/128),yt;const Wt=ce.get(zt);return Wt===void 0?[]:(yt.every(_n=>_n.every(Ke=>Ke===0))&&(Wt===1?ce.delete(zt):ce.set(zt,Wt-1)),yt)});me=p(_.currentTime+lt/_.sampleRate,_.sampleRate,()=>D.process(Ge,ge,ue));for(let yt=0,zt=0;yt<S.numberOfOutputs;yt+=1){for(let vn=0;vn<P[yt];vn+=1)LE(Te,ge[yt],vn,zt+vn,lt);zt+=P[yt]}}catch(Ge){me=!1,q.dispatchEvent(new ErrorEvent("processorerror",{colno:Ge.colno,filename:Ge.filename,lineno:Ge.lineno,message:Ge.message}))}if(!me){for(let Ge=0;Ge<S.numberOfInputs;Ge+=1){k[Ge].disconnect(T[Ge]);for(let Ye=0;Ye<S.channelCount;Ye+=1)T[lt].disconnect(U,Ye,Ge*S.channelCount+Ye)}if(E.parameterDescriptors!==void 0){const Ge=E.parameterDescriptors.length;for(let Ye=0;Ye<Ge;Ye+=1){const yt=A[Ye];yt.disconnect(U,0,O+Ye),yt.stop()}}U.disconnect(V),V.onaudioprocess=null,We?Ie():it();break}}}};let We=!1;const ct=u(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ft=()=>V.connect(ct).connect(_.destination),it=()=>{V.disconnect(ct),ct.disconnect()},bt=()=>{if(me){it(),S.numberOfOutputs>0&&V.connect(B);for(let de=0,Te=0;de<S.numberOfOutputs;de+=1){const st=Z[de];for(let lt=0;lt<P[de];lt+=1)B.connect(st,Te+lt,lt);Te+=P[de]}}We=!0},nn=()=>{me&&(ft(),Ie()),We=!1};return ft(),v(q,bt,nn)},UE=(n,e)=>{const t=n.createBiquadFilter();return fn(t,e),Xt(t,e,"Q"),Xt(t,e,"detune"),Xt(t,e,"frequency"),Xt(t,e,"gain"),Bt(t,e,"type"),t},u3=(n,e)=>(t,r)=>{const s=t.createChannelMerger(r.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,s),fn(s,r),s},c3=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw gn()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw gn()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw gn()}})},cu=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return fn(t,e),c3(t),t},d3=(n,e,t,r,s)=>(a,u)=>{if(a.createConstantSource===void 0)return t(a,u);const c=a.createConstantSource();return fn(c,u),Xt(c,u,"offset"),e(r,()=>r(a))||ag(c),e(s,()=>s(a))||lg(c),n(a,c),c},Fa=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),f3=(n,e,t,r)=>(s,{offset:a,...u})=>{const c=s.createBuffer(1,2,44100),d=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=t(s,{...u,gain:a}),p=c.getChannelData(0);p[0]=1,p[1]=1,d.buffer=c,d.loop=!0;const m={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(w){h.channelCount=w},get channelCountMode(){return h.channelCountMode},set channelCountMode(w){h.channelCountMode=w},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(w){h.channelInterpretation=w},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return d.onended},set onended(w){d.onended=w},addEventListener(...w){return d.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return d.dispatchEvent(w[0])},removeEventListener(...w){return d.removeEventListener(w[0],w[1],w[2])},start(w=0){d.start.call(d,w)},stop(w=0){d.stop.call(d,w)}},v=()=>d.connect(h),_=()=>d.disconnect(h);return n(s,d),r(Fa(m,h),v,_)},h3=(n,e)=>(t,r)=>{const s=t.createConvolver();if(fn(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Bt(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",a=>()=>a.call(s),a=>u=>{if(u>2)throw n();return a.call(s,u)}),r.channelCountMode==="max"))throw n();return e(s,"channelCountMode",a=>()=>a.call(s),a=>u=>{if(u==="max")throw n();return a.call(s,u)}),s},BE=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return fn(t,e),Xt(t,e,"delayTime"),t},p3=n=>(e,t)=>{const r=e.createDynamicsCompressor();if(fn(r,t),t.channelCount>2||t.channelCountMode==="max")throw n();return Xt(r,t,"attack"),Xt(r,t,"knee"),Xt(r,t,"ratio"),Xt(r,t,"release"),Xt(r,t,"threshold"),r},er=(n,e)=>{const t=n.createGain();return fn(t,e),Xt(t,e,"gain"),t},m3=n=>(e,t,r)=>{if(e.createIIRFilter===void 0)return n(e,t,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return fn(s,r),s};function g3(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function y3(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function fw(n,e){let t=[0,0];for(let r=n.length-1;r>=0;r-=1)t=y3(t,e),t[0]+=n[r];return t}const v3=(n,e,t,r)=>(s,a,{channelCount:u,channelCountMode:c,channelInterpretation:d,feedback:h,feedforward:p})=>{const m=$E(a,s.sampleRate),v=h instanceof Float64Array?h:new Float64Array(h),_=p instanceof Float64Array?p:new Float64Array(p),w=v.length,E=_.length,S=Math.min(w,E);if(w===0||w>20)throw r();if(v[0]===0)throw e();if(E===0||E>20)throw r();if(_[0]===0)throw e();if(v[0]!==1){for(let A=0;A<E;A+=1)_[A]/=v[0];for(let A=1;A<w;A+=1)v[A]/=v[0]}const P=t(s,m,u,u);P.channelCount=u,P.channelCountMode=c,P.channelInterpretation=d;const O=32,R=[],N=[],x=[];for(let A=0;A<u;A+=1){R.push(0);const U=new Float32Array(O),j=new Float32Array(O);U.fill(0),j.fill(0),N.push(U),x.push(j)}P.onaudioprocess=A=>{const U=A.inputBuffer,j=A.outputBuffer,V=U.numberOfChannels;for(let B=0;B<V;B+=1){const Z=U.getChannelData(B),ne=j.getChannelData(B);R[B]=FE(v,w,_,E,S,N[B],x[B],R[B],O,Z,ne)}};const k=s.sampleRate/2;return Fa({get bufferSize(){return m},get channelCount(){return P.channelCount},set channelCount(A){P.channelCount=A},get channelCountMode(){return P.channelCountMode},set channelCountMode(A){P.channelCountMode=A},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(A){P.channelInterpretation=A},get context(){return P.context},get inputs(){return[P]},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},addEventListener(...A){return P.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return P.dispatchEvent(A[0])},getFrequencyResponse(A,U,j){if(A.length!==U.length||U.length!==j.length)throw n();const V=A.length;for(let B=0;B<V;B+=1){const Z=-Math.PI*(A[B]/k),ne=[Math.cos(Z),Math.sin(Z)],he=fw(_,ne),se=fw(v,ne),oe=g3(he,se);U[B]=Math.sqrt(oe[0]*oe[0]+oe[1]*oe[1]),j[B]=Math.atan2(oe[1],oe[0])}},removeEventListener(...A){return P.removeEventListener(A[0],A[1],A[2])}},P)},_3=(n,e)=>n.createMediaElementSource(e.mediaElement),w3=(n,e)=>{const t=n.createMediaStreamDestination();return fn(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},S3=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((a,u)=>a.id<u.id?-1:a.id>u.id?1:0);const r=t.slice(0,1),s=n.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},E3=(n,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const s=new MediaStream([r]),a=t.createMediaStreamSource(s);if(r.kind!=="audio")throw n();if(e(t))throw new TypeError;return a},M3=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,b3=(n,e,t,r,s,a)=>(u,c)=>{const d=u.createOscillator();return fn(d,c),Xt(d,c,"detune"),Xt(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):Bt(d,c,"type"),e(t,()=>t(u))||ag(d),e(r,()=>r(u))||a(d,u),e(s,()=>s(u))||lg(d),n(u,d),d},T3=n=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?n(e,t):(fn(r,t),Xt(r,t,"orientationX"),Xt(r,t,"orientationY"),Xt(r,t,"orientationZ"),Xt(r,t,"positionX"),Xt(r,t,"positionY"),Xt(r,t,"positionZ"),Bt(r,t,"coneInnerAngle"),Bt(r,t,"coneOuterAngle"),Bt(r,t,"coneOuterGain"),Bt(r,t,"distanceModel"),Bt(r,t,"maxDistance"),Bt(r,t,"panningModel"),Bt(r,t,"refDistance"),Bt(r,t,"rolloffFactor"),r)},x3=(n,e,t,r,s,a,u,c,d,h)=>(p,{coneInnerAngle:m,coneOuterAngle:v,coneOuterGain:_,distanceModel:w,maxDistance:E,orientationX:S,orientationY:P,orientationZ:O,panningModel:R,positionX:N,positionY:x,positionZ:k,refDistance:T,rolloffFactor:A,...U})=>{const j=p.createPanner();if(U.channelCount>2||U.channelCountMode==="max")throw u();fn(j,U);const V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},B=t(p,{...V,channelInterpretation:"speakers",numberOfInputs:6}),Z=r(p,{...U,gain:1}),ne=r(p,{...V,gain:1}),he=r(p,{...V,gain:0}),se=r(p,{...V,gain:0}),oe=r(p,{...V,gain:0}),q=r(p,{...V,gain:0}),te=r(p,{...V,gain:0}),Q=s(p,256,6,1),D=a(p,{...V,curve:new Float32Array([1,1]),oversample:"none"});let G=[S,P,O],ee=[N,x,k];const ge=new Float32Array(1);Q.onaudioprocess=({inputBuffer:ce})=>{const We=[d(ce,ge,0),d(ce,ge,1),d(ce,ge,2)];We.some((ft,it)=>ft!==G[it])&&(j.setOrientation(...We),G=We);const ct=[d(ce,ge,3),d(ce,ge,4),d(ce,ge,5)];ct.some((ft,it)=>ft!==ee[it])&&(j.setPosition(...ct),ee=ct)},Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(oe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(te.gain,"defaultValue",{get:()=>0});const ue={get bufferSize(){},get channelCount(){return j.channelCount},set channelCount(ce){if(ce>2)throw u();Z.channelCount=ce,j.channelCount=ce},get channelCountMode(){return j.channelCountMode},set channelCountMode(ce){if(ce==="max")throw u();Z.channelCountMode=ce,j.channelCountMode=ce},get channelInterpretation(){return j.channelInterpretation},set channelInterpretation(ce){Z.channelInterpretation=ce,j.channelInterpretation=ce},get coneInnerAngle(){return j.coneInnerAngle},set coneInnerAngle(ce){j.coneInnerAngle=ce},get coneOuterAngle(){return j.coneOuterAngle},set coneOuterAngle(ce){j.coneOuterAngle=ce},get coneOuterGain(){return j.coneOuterGain},set coneOuterGain(ce){if(ce<0||ce>1)throw e();j.coneOuterGain=ce},get context(){return j.context},get distanceModel(){return j.distanceModel},set distanceModel(ce){j.distanceModel=ce},get inputs(){return[Z]},get maxDistance(){return j.maxDistance},set maxDistance(ce){if(ce<0)throw new RangeError;j.maxDistance=ce},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},get orientationX(){return ne.gain},get orientationY(){return he.gain},get orientationZ(){return se.gain},get panningModel(){return j.panningModel},set panningModel(ce){j.panningModel=ce},get positionX(){return oe.gain},get positionY(){return q.gain},get positionZ(){return te.gain},get refDistance(){return j.refDistance},set refDistance(ce){if(ce<0)throw new RangeError;j.refDistance=ce},get rolloffFactor(){return j.rolloffFactor},set rolloffFactor(ce){if(ce<0)throw new RangeError;j.rolloffFactor=ce},addEventListener(...ce){return Z.addEventListener(ce[0],ce[1],ce[2])},dispatchEvent(...ce){return Z.dispatchEvent(ce[0])},removeEventListener(...ce){return Z.removeEventListener(ce[0],ce[1],ce[2])}};m!==ue.coneInnerAngle&&(ue.coneInnerAngle=m),v!==ue.coneOuterAngle&&(ue.coneOuterAngle=v),_!==ue.coneOuterGain&&(ue.coneOuterGain=_),w!==ue.distanceModel&&(ue.distanceModel=w),E!==ue.maxDistance&&(ue.maxDistance=E),S!==ue.orientationX.value&&(ue.orientationX.value=S),P!==ue.orientationY.value&&(ue.orientationY.value=P),O!==ue.orientationZ.value&&(ue.orientationZ.value=O),R!==ue.panningModel&&(ue.panningModel=R),N!==ue.positionX.value&&(ue.positionX.value=N),x!==ue.positionY.value&&(ue.positionY.value=x),k!==ue.positionZ.value&&(ue.positionZ.value=k),T!==ue.refDistance&&(ue.refDistance=T),A!==ue.rolloffFactor&&(ue.rolloffFactor=A),(G[0]!==1||G[1]!==0||G[2]!==0)&&j.setOrientation(...G),(ee[0]!==0||ee[1]!==0||ee[2]!==0)&&j.setPosition(...ee);const me=()=>{Z.connect(j),n(Z,D,0,0),D.connect(ne).connect(B,0,0),D.connect(he).connect(B,0,1),D.connect(se).connect(B,0,2),D.connect(oe).connect(B,0,3),D.connect(q).connect(B,0,4),D.connect(te).connect(B,0,5),B.connect(Q).connect(p.destination)},Ie=()=>{Z.disconnect(j),c(Z,D,0,0),D.disconnect(ne),ne.disconnect(B),D.disconnect(he),he.disconnect(B),D.disconnect(se),se.disconnect(B),D.disconnect(oe),oe.disconnect(B),D.disconnect(q),q.disconnect(B),D.disconnect(te),te.disconnect(B),B.disconnect(Q),Q.disconnect(p.destination)};return h(Fa(ue,j),me,Ie)},C3=n=>(e,{disableNormalization:t,imag:r,real:s})=>{const a=r instanceof Float32Array?r:new Float32Array(r),u=s instanceof Float32Array?s:new Float32Array(s),c=e.createPeriodicWave(u,a,{disableNormalization:t});if(Array.from(r).length<2)throw n();return c},du=(n,e,t,r)=>n.createScriptProcessor(e,t,r),P3=(n,e)=>(t,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,r);const a=t.createStereoPanner();return fn(a,r),Xt(a,r,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>s,set:u=>{if(u!==s)throw e()}}),a},N3=(n,e,t,r,s,a)=>{const c=new Float32Array([1,1]),d=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...h,oversample:"none"},m=(w,E,S,P)=>{const O=new Float32Array(16385),R=new Float32Array(16385);for(let U=0;U<16385;U+=1){const j=U/16384*d;O[U]=Math.cos(j),R[U]=Math.sin(j)}const N=t(w,{...h,gain:0}),x=r(w,{...p,curve:O}),k=r(w,{...p,curve:c}),T=t(w,{...h,gain:0}),A=r(w,{...p,curve:R});return{connectGraph(){E.connect(N),E.connect(k.inputs===void 0?k:k.inputs[0]),E.connect(T),k.connect(S),S.connect(x.inputs===void 0?x:x.inputs[0]),S.connect(A.inputs===void 0?A:A.inputs[0]),x.connect(N.gain),A.connect(T.gain),N.connect(P,0,0),T.connect(P,0,1)},disconnectGraph(){E.disconnect(N),E.disconnect(k.inputs===void 0?k:k.inputs[0]),E.disconnect(T),k.disconnect(S),S.disconnect(x.inputs===void 0?x:x.inputs[0]),S.disconnect(A.inputs===void 0?A:A.inputs[0]),x.disconnect(N.gain),A.disconnect(T.gain),N.disconnect(P,0,0),T.disconnect(P,0,1)}}},v=(w,E,S,P)=>{const O=new Float32Array(16385),R=new Float32Array(16385),N=new Float32Array(16385),x=new Float32Array(16385),k=Math.floor(16385/2);for(let oe=0;oe<16385;oe+=1)if(oe>k){const q=(oe-k)/(16384-k)*d;O[oe]=Math.cos(q),R[oe]=Math.sin(q),N[oe]=0,x[oe]=1}else{const q=oe/(16384-k)*d;O[oe]=1,R[oe]=0,N[oe]=Math.cos(q),x[oe]=Math.sin(q)}const T=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=t(w,{...h,gain:0}),U=r(w,{...p,curve:O}),j=t(w,{...h,gain:0}),V=r(w,{...p,curve:R}),B=r(w,{...p,curve:c}),Z=t(w,{...h,gain:0}),ne=r(w,{...p,curve:N}),he=t(w,{...h,gain:0}),se=r(w,{...p,curve:x});return{connectGraph(){E.connect(T),E.connect(B.inputs===void 0?B:B.inputs[0]),T.connect(A,0),T.connect(j,0),T.connect(Z,1),T.connect(he,1),B.connect(S),S.connect(U.inputs===void 0?U:U.inputs[0]),S.connect(V.inputs===void 0?V:V.inputs[0]),S.connect(ne.inputs===void 0?ne:ne.inputs[0]),S.connect(se.inputs===void 0?se:se.inputs[0]),U.connect(A.gain),V.connect(j.gain),ne.connect(Z.gain),se.connect(he.gain),A.connect(P,0,0),Z.connect(P,0,0),j.connect(P,0,1),he.connect(P,0,1)},disconnectGraph(){E.disconnect(T),E.disconnect(B.inputs===void 0?B:B.inputs[0]),T.disconnect(A,0),T.disconnect(j,0),T.disconnect(Z,1),T.disconnect(he,1),B.disconnect(S),S.disconnect(U.inputs===void 0?U:U.inputs[0]),S.disconnect(V.inputs===void 0?V:V.inputs[0]),S.disconnect(ne.inputs===void 0?ne:ne.inputs[0]),S.disconnect(se.inputs===void 0?se:se.inputs[0]),U.disconnect(A.gain),V.disconnect(j.gain),ne.disconnect(Z.gain),se.disconnect(he.gain),A.disconnect(P,0,0),Z.disconnect(P,0,0),j.disconnect(P,0,1),he.disconnect(P,0,1)}}},_=(w,E,S,P,O)=>{if(E===1)return m(w,S,P,O);if(E===2)return v(w,S,P,O);throw s()};return(w,{channelCount:E,channelCountMode:S,pan:P,...O})=>{if(S==="max")throw s();const R=n(w,{...O,channelCount:1,channelCountMode:S,numberOfInputs:2}),N=t(w,{...O,channelCount:E,channelCountMode:S,gain:1}),x=t(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:P});let{connectGraph:k,disconnectGraph:T}=_(w,E,N,x,R);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(B){N.channelCount!==B&&(U&&T(),{connectGraph:k,disconnectGraph:T}=_(w,B,N,x,R),U&&k()),N.channelCount=B},get channelCountMode(){return N.channelCountMode},set channelCountMode(B){if(B==="clamped-max"||B==="max")throw s();N.channelCountMode=B},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(B){N.channelInterpretation=B},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get pan(){return x.gain},addEventListener(...B){return N.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return N.dispatchEvent(B[0])},removeEventListener(...B){return N.removeEventListener(B[0],B[1],B[2])}};let U=!1;const j=()=>{k(),U=!0},V=()=>{T(),U=!1};return a(Fa(A,R),j,V)}},A3=(n,e,t,r,s,a,u)=>(c,d)=>{const h=c.createWaveShaper();if(a!==null&&a.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,d);fn(h,d);const p=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(p!==null&&p.length<2)throw e();Bt(h,{curve:p},"curve"),Bt(h,d,"oversample");let m=null,v=!1;return u(h,"curve",E=>()=>E.call(h),E=>S=>(E.call(h,S),v&&(r(S)&&m===null?m=n(c,h):!r(S)&&m!==null&&(m(),m=null)),S)),s(h,()=>{v=!0,r(h.curve)&&(m=n(c,h))},()=>{v=!1,m!==null&&(m(),m=null)})},k3=(n,e,t,r,s)=>(a,{curve:u,oversample:c,...d})=>{const h=a.createWaveShaper(),p=a.createWaveShaper();fn(h,d),fn(p,d);const m=t(a,{...d,gain:1}),v=t(a,{...d,gain:-1}),_=t(a,{...d,gain:1}),w=t(a,{...d,gain:-1});let E=null,S=!1,P=null;const O={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(x){m.channelCount=x,v.channelCount=x,h.channelCount=x,_.channelCount=x,p.channelCount=x,w.channelCount=x},get channelCountMode(){return h.channelCountMode},set channelCountMode(x){m.channelCountMode=x,v.channelCountMode=x,h.channelCountMode=x,_.channelCountMode=x,p.channelCountMode=x,w.channelCountMode=x},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(x){m.channelInterpretation=x,v.channelInterpretation=x,h.channelInterpretation=x,_.channelInterpretation=x,p.channelInterpretation=x,w.channelInterpretation=x},get context(){return h.context},get curve(){return P},set curve(x){if(x!==null&&x.length<2)throw e();if(x===null)h.curve=x,p.curve=x;else{const k=x.length,T=new Float32Array(k+2-k%2),A=new Float32Array(k+2-k%2);T[0]=x[0],A[0]=-x[k-1];const U=Math.ceil((k+1)/2),j=(k+1)/2-1;for(let V=1;V<U;V+=1){const B=V/U*j,Z=Math.floor(B),ne=Math.ceil(B);T[V]=Z===ne?x[Z]:(1-(B-Z))*x[Z]+(1-(ne-B))*x[ne],A[V]=Z===ne?-x[k-1-Z]:-((1-(B-Z))*x[k-1-Z])-(1-(ne-B))*x[k-1-ne]}T[U]=k%2===1?x[U-1]:(x[U-2]+x[U-1])/2,h.curve=T,p.curve=A}P=x,S&&(r(P)&&E===null?E=n(a,m):E!==null&&(E(),E=null))},get inputs(){return[m]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(x){h.oversample=x,p.oversample=x},addEventListener(...x){return m.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return m.dispatchEvent(x[0])},removeEventListener(...x){return m.removeEventListener(x[0],x[1],x[2])}};u!==null&&(O.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==O.oversample&&(O.oversample=c);const R=()=>{m.connect(h).connect(_),m.connect(v).connect(p).connect(w).connect(_),S=!0,r(P)&&(E=n(a,m))},N=()=>{m.disconnect(h),h.disconnect(_),m.disconnect(v),v.disconnect(p),p.disconnect(w),w.disconnect(_),S=!1,E!==null&&(E(),E=null)};return s(Fa(O,_),R,N)},Ln=()=>new DOMException("","NotSupportedError"),O3={numberOfChannels:1},R3=(n,e,t,r,s)=>class extends n{constructor(u,c,d){let h;if(typeof u=="number"&&c!==void 0&&d!==void 0)h={length:c,numberOfChannels:u,sampleRate:d};else if(typeof u=="object")h=u;else throw new Error("The given parameters are not valid.");const{length:p,numberOfChannels:m,sampleRate:v}={...O3,...h},_=r(m,p,v);e(Yl,()=>Yl(_))||_.addEventListener("statechange",(()=>{let w=0;const E=S=>{this._state==="running"&&(w>0?(_.removeEventListener("statechange",E),S.stopImmediatePropagation(),this._waitForThePromiseToSettle(S)):w+=1)};return E})()),super(_,m),this._length=p,this._nativeOfflineAudioContext=_,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,OE(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},I3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},D3=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),m={...I3,...h},v=t(p,m),_=a(p),w=_?r():null,E=d.sampleRate/2;super(d,!1,v,w),this._detune=e(this,_,v.detune,153600,-153600),this._frequency=e(this,_,v.frequency,E,-E),this._nativeOscillatorNode=v,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&m.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=m.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const h=typeof d=="function"?u(this,d):null;this._nativeOscillatorNode.onended=h;const p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===h?d:p}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){_a(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),$i(this)&&au(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},j3=(n,e,t,r,s)=>()=>{const a=new WeakMap;let u=null,c=null,d=null;const h=async(p,m)=>{let v=t(p);const _=An(v,m);if(!_){const w={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,detune:v.detune.value,frequency:v.frequency.value,periodicWave:u===null?void 0:u,type:v.type};v=e(m,w),c!==null&&v.start(c),d!==null&&v.stop(d)}return a.set(m,v),_?(await n(m,p.detune,v.detune),await n(m,p.frequency,v.frequency)):(await r(m,p.detune,v.detune),await r(m,p.frequency,v.frequency)),await s(p,m,v),v};return{set periodicWave(p){u=p},set start(p){c=p},set stop(p){d=p},render(p,m){const v=a.get(m);return v!==void 0?Promise.resolve(v):h(p,m)}}},L3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},F3=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),m={...L3,...h},v=t(p,m),_=a(p),w=_?r():null;super(d,!1,v,w),this._nativePannerNode=v,this._orientationX=e(this,_,v.orientationX,In,lr),this._orientationY=e(this,_,v.orientationY,In,lr),this._orientationZ=e(this,_,v.orientationZ,In,lr),this._positionX=e(this,_,v.positionX,In,lr),this._positionY=e(this,_,v.positionY,In,lr),this._positionZ=e(this,_,v.positionZ,In,lr),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},$3=(n,e,t,r,s,a,u,c,d,h)=>()=>{const p=new WeakMap;let m=null;const v=async(_,w)=>{let E=null,S=a(_);const P={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation},O={...P,coneInnerAngle:S.coneInnerAngle,coneOuterAngle:S.coneOuterAngle,coneOuterGain:S.coneOuterGain,distanceModel:S.distanceModel,maxDistance:S.maxDistance,panningModel:S.panningModel,refDistance:S.refDistance,rolloffFactor:S.rolloffFactor},R=An(S,w);if("bufferSize"in S)E=r(w,{...P,gain:1});else if(!R){const N={...O,orientationX:S.orientationX.value,orientationY:S.orientationY.value,orientationZ:S.orientationZ.value,positionX:S.positionX.value,positionY:S.positionY.value,positionZ:S.positionZ.value};S=s(w,N)}if(p.set(w,E===null?S:E),E!==null){if(m===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=new u(6,_.context.length,w.sampleRate),B=e(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(V.destination),m=(async()=>{const Z=await Promise.all([_.orientationX,_.orientationY,_.orientationZ,_.positionX,_.positionY,_.positionZ].map(async(ne,he)=>{const se=t(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he===0?1:0});return await c(V,ne,se.offset),se}));for(let ne=0;ne<6;ne+=1)Z[ne].connect(B,0,ne),Z[ne].start(0);return h(V)})()}const N=await m,x=r(w,{...P,gain:1});await d(_,w,x);const k=[];for(let V=0;V<N.numberOfChannels;V+=1)k.push(N.getChannelData(V));let T=[k[0][0],k[1][0],k[2][0]],A=[k[3][0],k[4][0],k[5][0]],U=r(w,{...P,gain:1}),j=s(w,{...O,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:A[0],positionY:A[1],positionZ:A[2]});x.connect(U).connect(j.inputs[0]),j.connect(E);for(let V=128;V<N.length;V+=128){const B=[k[0][V],k[1][V],k[2][V]],Z=[k[3][V],k[4][V],k[5][V]];if(B.some((ne,he)=>ne!==T[he])||Z.some((ne,he)=>ne!==A[he])){T=B,A=Z;const ne=V/w.sampleRate;U.gain.setValueAtTime(0,ne),U=r(w,{...P,gain:0}),j=s(w,{...O,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),U.gain.setValueAtTime(1,ne),x.connect(U).connect(j.inputs[0]),j.connect(E)}}return E}return R?(await n(w,_.orientationX,S.orientationX),await n(w,_.orientationY,S.orientationY),await n(w,_.orientationZ,S.orientationZ),await n(w,_.positionX,S.positionX),await n(w,_.positionY,S.positionY),await n(w,_.positionZ,S.positionZ)):(await c(w,_.orientationX,S.orientationX),await c(w,_.orientationY,S.orientationY),await c(w,_.orientationZ,S.orientationZ),await c(w,_.positionX,S.positionX),await c(w,_.positionY,S.positionY),await c(w,_.positionZ,S.positionZ)),La(S)?await d(_,w,S.inputs[0]):await d(_,w,S),S};return{render(_,w){const E=p.get(w);return E!==void 0?Promise.resolve(E):v(_,w)}}},U3={disableNormalization:!1},B3=(n,e,t,r)=>class VE{constructor(a,u){const c=e(a),d=r({...U3,...u}),h=n(c,d);return t.add(h),h}static[Symbol.hasInstance](a){return a!==null&&typeof a=="object"&&Object.getPrototypeOf(a)===VE.prototype||t.has(a)}},V3=(n,e)=>(t,r,s)=>(n(r).replay(s),e(r,t,s)),z3=(n,e,t)=>async(r,s,a)=>{const u=n(r);await Promise.all(u.activeInputs.map((c,d)=>Array.from(c).map(async([h,p])=>{const v=await e(h).render(h,s),_=r.context.destination;!t(h)&&(r!==_||!t(r))&&v.connect(a,p,d)})).reduce((c,d)=>[...c,...d],[]))},W3=(n,e,t)=>async(r,s,a)=>{const u=e(r);await Promise.all(Array.from(u.activeInputs).map(async([c,d])=>{const p=await n(c).render(c,s);t(c)||p.connect(a,d)}))},H3=(n,e,t,r)=>s=>n(Yl,()=>Yl(s))?Promise.resolve(n(r,r)).then(a=>{if(!a){const u=t(s,512,0,1);s.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>s.currentTime,u.connect(s.destination)}return s.startRendering()}):new Promise(a=>{const u=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=c=>{u.disconnect(),a(c.renderedBuffer)},u.connect(s.destination),s.startRendering()}),q3=n=>(e,t)=>{n.set(e,t)},G3=n=>(e,t)=>n.set(e,t),Y3=(n,e,t,r,s,a,u,c)=>(d,h)=>t(d).render(d,h).then(()=>Promise.all(Array.from(r(h)).map(p=>t(p).render(p,h)))).then(()=>s(h)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),ig(p)):e(a,()=>a(p))||c(p),n.add(p),p)),K3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},X3=(n,e,t,r,s,a)=>class extends n{constructor(c,d){const h=s(c),p={...K3,...d},m=t(h,p),v=a(h),_=v?r():null;super(c,!1,m,_),this._pan=e(this,v,m.pan)}get pan(){return this._pan}},Q3=(n,e,t,r,s)=>()=>{const a=new WeakMap,u=async(c,d)=>{let h=t(c);const p=An(h,d);if(!p){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(d,m)}return a.set(d,h),p?await n(d,c.pan,h.pan):await r(d,c.pan,h.pan),La(h)?await s(c,d,h.inputs[0]):await s(c,d,h),h};return{render(c,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):u(c,d)}}},Z3=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},J3=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(t);let a=!1,u=!1;try{await r.audioWorklet.addModule(s);const c=new n(r,"a",{numberOfOutputs:0}),d=r.createOscillator();c.port.onmessage=()=>a=!0,c.onprocessorerror=()=>u=!0,d.connect(c),d.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(s)}return a&&!u},ej=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{t.oncomplete=()=>{r.disconnect(),s(t.currentTime!==0)},t.startRendering()})},tj=()=>new DOMException("","UnknownError"),nj={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},rj=(n,e,t,r,s,a,u)=>class extends n{constructor(d,h){const p=s(d),m={...nj,...h},v=t(p,m),w=a(p)?r():null;super(d,!0,v,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=v,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},ij=(n,e,t)=>()=>{const r=new WeakMap,s=async(a,u)=>{let c=e(a);if(!An(c,u)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,h)}return r.set(u,c),La(c)?await t(a,u,c.inputs[0]):await t(a,u,c),c};return{render(a,u){const c=r.get(u);return c!==void 0?Promise.resolve(c):s(a,u)}}},sj=()=>typeof window>"u"?null:window,oj=(n,e)=>t=>{t.copyFromChannel=(r,s,a=0)=>{const u=n(a),c=n(s);if(c>=t.numberOfChannels)throw e();const d=t.length,h=t.getChannelData(c),p=r.length;for(let m=u<0?-u:0;m+u<d&&m<p;m+=1)r[m]=h[m+u]},t.copyToChannel=(r,s,a=0)=>{const u=n(a),c=n(s);if(c>=t.numberOfChannels)throw e();const d=t.length,h=t.getChannelData(c),p=r.length;for(let m=u<0?-u:0;m+u<d&&m<p;m+=1)h[m+u]=r[m]}},aj=n=>e=>{e.copyFromChannel=(t=>(r,s,a=0)=>{const u=n(a),c=n(s);if(u<e.length)return t.call(e,r,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(r,s,a=0)=>{const u=n(a),c=n(s);if(u<e.length)return t.call(e,r,c,u)})(e.copyToChannel)},lj=n=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),n(e,"buffer",s=>()=>{const a=s.call(e);return a===r?null:a},s=>a=>s.call(e,a===null?r:a))},uj=(n,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const s=t.createBufferSource();e(r,()=>{const c=r.numberOfInputs;for(let d=0;d<c;d+=1)s.connect(r,0,d)},()=>s.disconnect(r))},zE=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),WE=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},fu=(n,e,t,r)=>{let s=n;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:a,set:u}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(n,e,{get:t(a),set:r(u)})},cj=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),dj=n=>({...n,channelCount:n.numberOfOutputs}),fj=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},HE=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;HE(n,e,t+1e-7)}},hj=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},pj=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},mj=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ug=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},qE=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},cg=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},gj=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},yj=n=>{n.start=(e=>(t=0,r=0,s)=>{const a=n.buffer,u=a===null?r:Math.min(a.duration,r);a!==null&&u>a.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,s)})(n.start)},GE=(n,e)=>{const t=e.createGain();n.connect(t);const r=(s=>()=>{s.call(n,t),n.removeEventListener("ended",r)})(n.disconnect);n.addEventListener("ended",r),Fa(n,t),n.stop=(s=>{let a=!1;return(u=0)=>{if(a)try{s.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else s.call(n,u),a=!0}})(n.stop)},$a=(n,e)=>t=>{const r={value:n};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},vj=FI(yo),_j=WI(yo),wj=n2(Bd),YE=new WeakMap,Sj=w2(YE),Jr=OD(new Map,new WeakMap),pi=sj(),KE=X2(Jr,yi),dg=_2(Dn),bn=z3(Dn,dg,fo),Ej=KI(KE,Ft,bn),Rt=M2(Ud),zi=M3(pi),Mt=U2(zi),XE=new WeakMap,QE=f2($a),hu=e3(pi),fg=j2(hu),hg=L2(pi),ZE=F2(pi),Kl=n3(pi),en=wD($I(TE),zI(vj,_j,ld,wj,ud,Dn,Sj,ou,Ft,yo,$i,fo,Wc),Jr,k2(Xp,ud,Dn,Ft,Gl,$i),yi,Vd,Ln,ZD(ld,Xp,Dn,Ft,Gl,Rt,$i,Mt),s2(XE,Dn,Kr),QE,Rt,fg,hg,ZE,Mt,Kl),Mj=YI(en,Ej,yi,KE,Rt,Mt),pg=new WeakSet,hw=Q2(pi),JE=HD(new Uint32Array(1)),mg=oj(JE,yi),gg=aj(JE),eM=QI(pg,Jr,Ln,hw,zi,Z3(hw),mg,gg),zd=HI(er),tM=W3(dg,lu,fo),vi=$D(tM),Ua=J2(zd,Jr,hj,pj,mj,ug,qE,cg,yj,lj(fu),GE),_i=V3(S2(lu),tM),bj=eD(vi,Ua,Ft,_i,bn),ei=SD(UI(xE),XE,rg,ED,OI,RI,II,DI,jI,Gp,ME,hu,HE),Tj=JI(en,bj,ei,gn,Ua,Rt,Mt,$a),xj=uD(en,cD,yi,gn,t3(er,fu),Rt,Mt,bn),Cj=kD(vi,UE,Ft,_i,bn),vo=G3(YE),Pj=AD(en,ei,Cj,Vd,UE,Rt,Mt,vo),Rs=Y2(yo,hg),Nj=uj(gn,Rs),Is=u3(hu,Nj),Aj=DD(Is,Ft,bn),kj=ID(en,Aj,Is,Rt,Mt),Oj=FD(cu,Ft,bn),Rj=LD(en,Oj,cu,Rt,Mt,dj),Ij=f3(zd,Ua,er,Rs),Ba=d3(zd,Jr,Ij,ug,cg),Dj=WD(vi,Ba,Ft,_i,bn),jj=zD(en,ei,Dj,Ba,Rt,Mt,$a),nM=h3(Ln,fu),Lj=YD(nM,Ft,bn),Fj=GD(en,Lj,nM,Rt,Mt,vo),$j=t2(vi,BE,Ft,_i,bn),Uj=e2(en,ei,$j,BE,Rt,Mt,vo),rM=p3(Ln),Bj=u2(vi,rM,Ft,_i,bn),Vj=l2(en,ei,Bj,rM,Ln,Rt,Mt,vo),zj=y2(vi,er,Ft,_i,bn),Wj=g2(en,ei,zj,er,Rt,Mt),Hj=v3(Vd,gn,du,Ln),Wd=H3(Jr,er,du,ej(er,zi)),qj=A2(Ua,Ft,zi,bn,Wd),Gj=m3(Hj),Yj=P2(en,Gj,qj,Rt,Mt,vo),Kj=dD(ei,Is,Ba,du,Ln,zE,Mt,fu),iM=new WeakMap,Xj=G2(xj,Kj,QE,Mt,iM,$a),sM=b3(zd,Jr,ug,qE,cg,GE),Qj=j3(vi,sM,Ft,_i,bn),Zj=D3(en,ei,sM,Qj,Rt,Mt,$a),oM=BD(Ua),Jj=k3(oM,gn,er,WE,Rs),Hd=A3(oM,gn,Jj,WE,Rs,hu,fu),eL=x3(ld,gn,Is,er,du,Hd,Ln,ud,zE,Rs),aM=T3(eL),tL=$3(vi,Is,Ba,er,aM,Ft,zi,_i,bn,Wd),nL=F3(en,ei,aM,tL,Rt,Mt,vo),rL=C3(yi),iL=B3(rL,Rt,new WeakSet,fj),sL=N3(Is,cu,er,Hd,Ln,Rs),lM=P3(sL,Ln),oL=Q3(vi,lM,Ft,_i,bn),aL=X3(en,ei,lM,oL,Rt,Mt),lL=ij(Hd,Ft,bn),uL=rj(en,gn,Hd,lL,Rt,Mt,vo),uM=B2(pi),yg=h2(pi),cM=new WeakMap,cL=b2(cM,zi),dL=uM?VI(Jr,Ln,d2(pi),yg,p2(LI),Rt,cL,Mt,Kl,new WeakMap,new WeakMap,J3(Kl,zi),pi):void 0,fL=$2(fg,Mt),hL=QD(pg,Jr,XD,c2,new WeakSet,Rt,fL,od,Yl,mg,gg),dM=PD(dL,Mj,eM,Tj,Pj,kj,Rj,jj,Fj,hL,Uj,Vj,Wj,Yj,Xj,Zj,nL,iL,aL,uL),pL=V2(en,_3,Rt,Mt),mL=W2(en,w3,Rt,Mt),gL=H2(en,S3,Rt,Mt),yL=E3(gn,Mt),vL=q2(en,yL,Rt),_L=lD(dM,gn,Ln,tj,pL,mL,gL,vL,hu),vg=T2(iM),wL=qI(vg),fM=UD(yi),SL=r2(vg),hM=o2(yi),pM=new WeakMap,EL=v2(pM,Kr),ML=l3(fM,yi,gn,Is,cu,Ba,er,du,Ln,hM,yg,EL,Rs),bL=i3(gn,ML,er,Ln,Rs),TL=CD(vi,fM,Ua,Is,cu,Ba,er,SL,hM,yg,Ft,Kl,zi,_i,bn,Wd),xL=E2(cM),CL=q3(pM),pw=uM?bD(wL,en,ei,TL,bL,Dn,xL,Rt,Mt,Kl,cj,CL,gj,$a):void 0,PL=KD(Ln,zi),NL=Y3(pg,Jr,dg,vg,Wd,od,mg,gg),AL=R3(dM,Jr,gn,PL,NL),kL=O2(Ud,fg),OL=R2(ng,hg),RL=I2(rg,ZE),IL=D2(Ud,Mt);function Tr(n){return n===void 0}function at(n){return n!==void 0}function DL(n){return typeof n=="function"}function ho(n){return typeof n=="number"}function oo(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function jL(n){return typeof n=="boolean"}function qr(n){return Array.isArray(n)}function Xr(n){return typeof n=="string"}function Rc(n){return Xr(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function nt(n,e){if(!n)throw new Error(e)}function Ps(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function mM(n){!n.isOffline&&n.state!=="running"&&_g('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let gM=!1,mw=!1;function gw(n){gM=n}function LL(n){Tr(n)&&gM&&!mw&&(mw=!0,_g("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let yM=console;function FL(...n){yM.log(...n)}function _g(...n){yM.warn(...n)}function $L(n){return new _L(n)}function UL(n,e,t){return new AL(n,e,t)}const ur=typeof self=="object"?self:null,BL=ur&&(ur.hasOwnProperty("AudioContext")||ur.hasOwnProperty("webkitAudioContext"));function VL(n,e,t){return nt(at(pw),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof(ur==null?void 0:ur.BaseAudioContext)?ur==null?void 0:ur.AudioWorkletNode:pw)(n,e,t)}function ti(n,e,t,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(a=(s<3?u(a):s>3?u(e,t,a):u(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function an(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(m){u(m)}}function d(p){try{h(r.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})}class zL{constructor(e,t,r,s){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function po(n){return RL(n)}function Ss(n){return OL(n)}function Hc(n){return IL(n)}function Zo(n){return kL(n)}function WL(n){return n instanceof eM}function HL(n,e){return n==="value"||po(e)||Ss(e)||WL(e)}function oa(n,...e){if(!e.length)return n;const t=e.shift();if(oo(n)&&oo(t))for(const r in t)HL(r,t[r])?n[r]=t[r]:oo(t[r])?(n[r]||Object.assign(n,{[r]:{}}),oa(n[r],t[r])):Object.assign(n,{[r]:t[r]});return oa(n,...e)}function qL(n,e){return n.length===e.length&&n.every((t,r)=>e[r]===t)}function Qe(n,e,t=[],r){const s={},a=Array.from(e);if(oo(a[0])&&r&&!Reflect.has(a[0],r)&&(Object.keys(a[0]).some(c=>Reflect.has(n,c))||(oa(s,{[r]:a[0]}),t.splice(t.indexOf(r),1),a.shift())),a.length===1&&oo(a[0]))oa(s,a[0]);else for(let u=0;u<t.length;u++)at(a[u])&&(s[t[u]]=a[u]);return oa(n,s)}function GL(n){return n.constructor.getDefaults()}function aa(n,e){return Tr(n)?e:n}function yw(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Wi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ur&&this.toString()===ur.TONE_DEBUG_CLASS)&&FL(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Wi.version=EE;const wg=1e-6;function wa(n,e){return n>e+wg}function tm(n,e){return wa(n,e)||zr(n,e)}function hd(n,e){return n+wg<e}function zr(n,e){return Math.abs(n-e)<wg}function YL(n,e,t){return Math.max(Math.min(n,t),e)}class xr extends Wi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Qe(xr.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(nt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];nt(tm(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(zr(this._timeline[t].time,e)){for(let r=t;r>=0&&zr(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&tm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let a=s;if(s>0&&this._timeline[s-1][t]<=e)return s-1;for(;r<a;){let u=Math.floor(r+(a-r)/2);const c=this._timeline[u],d=this._timeline[u+1];if(zr(c[t],e)){for(let h=u;h<this._timeline.length;h++){const p=this._timeline[h];if(zr(p[t],e))u=h;else break}return u}else{if(hd(c[t],e)&&wa(d[t],e))return u;wa(c[t],e)?a=u:r=u+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let s=this._search(e),a=this._search(t);return s!==-1&&a!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[a].time===t&&(a-=1),this._iterate(r,s,a)):s===-1&&this._iterate(r,0,a),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&zr(this._timeline[r].time,e)){let s=r;for(let a=r;a>=0&&zr(this._timeline[a].time,e);a--)s=a;this._iterate(a=>{t(a)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const vM=[];function qd(n){vM.push(n)}function KL(n){vM.forEach(e=>e(n))}const _M=[];function Gd(n){_M.push(n)}function XL(n){_M.forEach(e=>e(n))}class pu extends Wi{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(s=>{Tr(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(t)}),this}once(e,t){const r=(...s)=>{t(...s),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(s=>{if(Tr(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Tr(t))this._events[s]=[];else{const a=this._events[s];for(let u=a.length-1;u>=0;u--)a[u]===t&&a.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,a=r.length;s<a;s++)r[s].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(pu.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class wM extends pu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class mu extends wM{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new xr,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Qe(mu.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=$L({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new zL(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(KL(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return nt(Zo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return nt(Zo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return nt(Zo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){nt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){nt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){nt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){nt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return VL(this.rawContext,e,t)}addAudioWorkletModule(e){return an(this,void 0,void 0,function*(){nt(at(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return an(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Zo(this._context)?this._context.resume():Promise.resolve()}close(){return an(this,void 0,void 0,function*(){Zo(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&XL(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let a=0;a<r.length;a++)r[a]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=t,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,s=()=>{const a=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:a+t})};return s(),r}}class QL extends wM{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return an(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Qt(n,e){qr(e)?e.forEach(t=>Qt(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function SM(n,e){qr(e)?e.forEach(t=>SM(n,t)):Object.defineProperty(n,e,{writable:!0})}const Et=()=>{};class Lt extends Wi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Et;const e=Qe(Lt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Xr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Et,onload:Et,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:jn().sampleRate}set(e){return e instanceof Lt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return an(this,void 0,void 0,function*(){const t=Lt.load(e).then(r=>{this.set(r),this.onload(this)});Lt.downloads.push(t);try{yield t}finally{const r=Lt.downloads.indexOf(t);Lt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=qr(e)&&e[0].length>0,r=t?e.length:1,s=t?e[0].length:e.length,a=jn(),u=a.createBuffer(r,s,a.sampleRate),c=!t&&r===1?[e]:e;for(let d=0;d<r;d++)u.copyToChannel(c[d],d);return this._buffer=u,this}toMono(e){if(ho(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const a=this.toArray(s);for(let u=0;u<a.length;u++)t[u]+=a[u]}t=t.map(s=>s/r),this.fromArray(t)}return this}toArray(e){if(ho(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){nt(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(t*this.sampleRate);nt(r<s,"The start time must be less than the end time");const a=s-r,u=jn().createBuffer(this.numberOfChannels,a,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(r,s),c);return new Lt(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Lt().fromArray(e)}static fromUrl(e){return an(this,void 0,void 0,function*(){return yield new Lt().load(e)})}static load(e){return an(this,void 0,void 0,function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const d=t[1].split("|");let h=d[0];for(const p of d)if(Lt.supportsType(p)){h=p;break}e=e.replace(t[0],h)}const r=Lt.baseUrl===""||Lt.baseUrl.endsWith("/")?Lt.baseUrl:Lt.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const a=yield fetch(s.href);if(!a.ok)throw new Error(`could not load url: ${e}`);const u=yield a.arrayBuffer();return yield jn().decodeAudioData(u)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return an(this,void 0,void 0,function*(){for(yield Promise.resolve();Lt.downloads.length;)yield Lt.downloads[0]})}}Lt.baseUrl="";Lt.downloads=[];class Sg extends mu{constructor(){super({clockSource:"offline",context:Hc(arguments[0])?arguments[0]:UL(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Hc(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Hc(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return an(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return an(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Lt(t)})}close(){return Promise.resolve()}}const EM=new QL;let Js=EM;function jn(){return Js===EM&&BL&&ZL(new mu),Js}function ZL(n,e=!1){e&&Js.dispose(),Zo(n)?Js=new mu(n):Hc(n)?Js=new Sg(n):Js=n}function JL(){return Js.resume()}if(ur&&!ur.TONE_SILENCE_LOGGING){const e=` * Tone.js v${EE} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function e7(n){return Math.pow(10,n/20)}function t7(n){return 20*(Math.log(n)/Math.LN10)}function MM(n){return Math.pow(2,n/12)}let Yd=440;function n7(){return Yd}function r7(n){Yd=n}function eo(n){return Math.round(bM(n))}function bM(n){return 69+12*Math.log2(n/Yd)}function TM(n){return Yd*Math.pow(2,(n-69)/12)}class Eg extends Wi{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),s=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(s+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Eg&&this.fromType(this._val),Tr(this._val))return this._noArg();if(Xr(this._val)&&Tr(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(oo(this._val)){let e=0;for(const t in this._val)if(at(this._val[t])){const r=this._val[t],s=new this.constructor(this.context,t).valueOf()*r;e+=s}return e}if(at(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Xr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class br extends Eg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new br(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),c=Math.round(s/r)*r-s;return s+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let a=1;a<9;a++){const u=Math.pow(2,a);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let r=t[0],s=new br(this.context,t[0]).toSeconds();return t.forEach(a=>{const u=new br(this.context,a).toSeconds();Math.abs(u-e)<Math.abs(s-e)&&(r=a,s=u)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let s=t%1*4;t=Math.floor(t)%this._getTimeSignature();const a=s.toString();return a.length>3&&(s=parseFloat(parseFloat(a).toFixed(3))),[r,t,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return eo(this.toFrequency())}_now(){return this.context.now()}}function Dl(n,e){return new br(jn(),n,e)}class Gn extends br{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return n7()}static set A4(e){r7(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Gn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const s=i7[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?s:Gn.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(s*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Gn(this.context,this.valueOf()*MM(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return eo(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Gn.A4);let r=Math.round(12*t)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),s7[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return TM(e)}static ftom(e){return eo(e)}}const i7={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},s7=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function o7(n,e){return new Gn(jn(),n,e)}class $l extends br{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Qn extends Wi{constructor(){super();const e=Qe(Qn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:jn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return LL(e),new br(this.context,e).toSeconds()}toFrequency(e){return new Gn(this.context,e).toFrequency()}toTicks(e){return new $l(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{Tr(e[r])&&delete t[r]}),t}get(){const e=GL(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];at(r)&&at(r.value)&&at(r.setValueAtTime)?e[t]=r.value:r instanceof Qn?e[t]=r._getPartialProperties(e[t]):qr(r)||ho(r)||Xr(r)||jL(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&at(this[t])&&(this[t]&&at(this[t].value)&&at(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Qn?this[t].set(e[t]):this[t]=e[t])}),this}}class Mg extends xr{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return Ps(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let s=r;s>=0;s--){const a=this._timeline[s];if(a.state===e)return a}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const a=this._timeline[s];if(a.state===e)return a}}}class Yt extends Qn{constructor(){const e=Qe(Yt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,nt(at(e.param)&&(po(e.param)||e.param instanceof Yt),"param must be an AudioParam");!po(e.param);)e.param=e.param._param;this._swappable=at(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new xr(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,at(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Qn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return at(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return at(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return at(this.maxValue)&&at(this.minValue)&&Ps(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?e7(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?t7(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),s=this._fromType(e);return nt(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),s=this._events.get(t);let a=this._initialValue;if(s===null)a=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const u=this._events.getBefore(s.time);let c;u===null?c=this._initialValue:c=u.value,s.type==="setTargetAtTime"&&(a=this._exponentialApproach(s.time,c,s.value,s.constant,t))}else if(r===null)a=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let u=s.value;if(s.type==="setTargetAtTime"){const c=this._events.getBefore(s.time);c===null?u=this._initialValue:u=c.value}r.type==="linearRampToValueAtTime"?a=this._linearInterpolate(s.time,u,r.time,r.value,t):a=this._exponentialInterpolate(s.time,u,r.time,r.value,t)}else a=s.value;return this._toType(a)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),s=this.toSeconds(t);return nt(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=zr(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(t);return nt(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,s),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const s=this._fromType(e);nt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const a=this.toSeconds(t);return this._assertRange(s),nt(isFinite(s)&&isFinite(a),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:a,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,a,r),this._param.setTargetAtTime(s,a,r),this}setValueCurveAtTime(e,t,r,s=1){r=this.toSeconds(r),t=this.toSeconds(t);const a=this._fromType(e[0])*s;this.setValueAtTime(this._toType(a),t);const u=r/(e.length-1);for(let c=1;c<e.length;c++){const d=this._fromType(e[c])*s;this.linearRampToValueAtTime(this._toType(d),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return nt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));nt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const s=this._events.get(t),a=this._events.getAfter(t);return s&&zr(s.time,t)?a?(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):a&&(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time),a.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):a.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),a=s?s.time:t+2,u=(a-t)/10;for(let c=t;c<a;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){nt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,s,a){return r+(t-r)*Math.exp(-(a-e)/s)}_linearInterpolate(e,t,r,s,a){return t+(s-t)*((a-e)/(r-e))}_exponentialInterpolate(e,t,r,s,a){return t*Math.pow(s/t,(a-e)/(r-e))}}class et extends Qn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return at(this.input)?po(this.input)||this.input instanceof Yt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return at(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return at(e)&&(e instanceof et||Ss(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();nt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return Va(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return _g("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return a7(this,e,t,r),this}chain(...e){return nm(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),at(this.input)&&(this.input instanceof et?this.input.dispose():Ss(this.input)&&this.input.disconnect()),at(this.output)&&(this.output instanceof et?this.output.dispose():Ss(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function nm(...n){const e=n.shift();n.reduce((t,r)=>(t instanceof et?t.connect(r):Ss(t)&&Va(t,r),r),e)}function Va(n,e,t=0,r=0){for(nt(at(n),"Cannot connect from undefined node"),nt(at(e),"Cannot connect to undefined node"),(e instanceof et||Ss(e))&&nt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),nt(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof et||e instanceof Yt;)at(e.input)&&(e=e.input);for(;n instanceof et;)at(n.output)&&(n=n.output);po(e)?n.connect(e,t):n.connect(e,t,r)}function a7(n,e,t=0,r=0){if(at(e))for(;e instanceof et;)e=e.input;for(;!Ss(n);)at(n.output)&&(n=n.output);po(e)?n.disconnect(e,t):Ss(e)?n.disconnect(e,t,r):n.disconnect()}class Mn extends et{constructor(){const e=Qe(Mn.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Yt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Qt(this,"gain")}static getDefaults(){return Object.assign(et.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Sa extends et{constructor(e){super(e),this.onended=Et,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Mn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(et.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Et})}_startGain(e,t=1){nt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){nt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Et&&(this.onended(this),this.onended=Et,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),nt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Et,this}}class bg extends Sa{constructor(){const e=Qe(bg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Va(this._source,this._gainNode),this.offset=new Yt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Sa.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class yn extends et{constructor(){const e=Qe(yn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new bg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(et.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return Tg(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,s){return this._param.setValueCurveAtTime(e,t,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Tg(n,e,t,r){(e instanceof Yt||po(e)||e instanceof yn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof yn&&(e.overridden=!0)),Va(n,e,t,r)}class xg extends Yt{constructor(){const e=Qe(xg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new xr(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Yt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const s=this._fromType(e),a=this._events.get(t),u=Math.round(Math.max(1/r,1));for(let c=0;c<=u;c++){const d=r*c+t,h=this._exponentialApproach(a.time,a.value,s,r,d);this.linearRampToValueAtTime(this._toType(h),d)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const s=this._events.get(r),a=this._events.previousEvent(s),u=this._getTicksUntilEvent(a,r);return s.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const s=this._events.get(r),a=this._events.previousEvent(s),u=this._getTicksUntilEvent(a,r);return s.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),s=this._events.get(t),a=Math.round(Math.max((t-s.time)*10,1)),u=(t-s.time)/a;for(let c=0;c<=a;c++){const d=u*c+s.time,h=this._exponentialInterpolate(s.time,s.value,t,r,d);this.linearRampToValueAtTime(this._toType(h),d)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Tr(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(t));const a=this._events.get(t);return a&&a.time===t&&a.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),s=this.getTicksAtTime(t);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const s=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-t.time),c=Math.sqrt(Math.pow(s,2)-2*u*(t.ticks-e)),d=(-s+c)/u,h=(-s-c)/u;return(d>0?d:h)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),s=this.toSeconds(e),a=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-a}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Cg extends yn{constructor(){const e=Qe(Cg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new xg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(yn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Pg extends Qn{constructor(){const e=Qe(Pg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Mg,this._tickOffset=new xr,this._ticksAtTime=new xr,this._secondsAtTime=new xr,this.frequency=new Cg({context:this.context,units:e.units,value:e.frequency}),Qt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Qn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),at(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),s=this._ticksAtTime.get(t),a={state:"paused",time:t};this._state.add(a);let u=s||r,c=s?s.ticks:0,d=null;return this._state.forEachBetween(u.time,t+this.sampleTime,h=>{let p=u.time;const m=this._tickOffset.get(h.time);m&&m.time>=u.time&&(c=m.ticks,p=m.time),u.state==="started"&&h.state!=="started"&&(c+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(p),h.time!==a.time&&(d={state:h.state,time:h.time,ticks:c})),u=h}),this._state.remove(a),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let a=s||t,u=s?s.seconds:0,c=null;return this._state.forEachBetween(a.time,e+this.sampleTime,d=>{let h=a.time;const p=this._tickOffset.get(d.time);p&&p.time>=a.time&&(u=p.seconds,h=p.time),a.state==="started"&&d.state!=="started"&&(u+=d.time-h,d.time!==r.time&&(c={state:d.state,time:d.time,seconds:u})),a=d}),this._state.remove(r),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),s=this._state.get(t),a=Math.max(r.time,s.time),u=this.frequency.getTicksAtTime(a)+e-r.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,r){let s=this._state.get(e);this._state.forEachBetween(e,t,u=>{s&&s.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),u.time-this.sampleTime,r),s=u});let a=null;if(s&&s.state==="started"){const u=Math.max(s.time,e),c=this.frequency.getTicksAtTime(u),d=this.frequency.getTicksAtTime(s.time),h=c-d;let p=Math.ceil(h)-h;p=zr(p,1)?0:p;let m=this.frequency.getTimeOfTick(c+p);for(;m<t;){try{r(m,Math.round(this.getTicksAtTime(m)))}catch(v){a=v;break}m+=this.frequency.getDurationOfTicks(1,m)}}if(a)throw a;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Kd extends Qn{constructor(){const e=Qe(Kd.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Et,this._lastUpdate=0,this._state=new Mg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Pg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Qt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Qn.getDefaults(),{callback:Et,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){mM(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}pu.mixin(Kd);class _o extends et{constructor(){const e=Qe(_o.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Mn({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Qt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(et.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ng extends et{constructor(){const e=Qe(Ng.getDefaults(),arguments);super(e),this.name="Destination",this.input=new _o({context:this.context}),this.output=new Mn({context:this.context}),this.volume=this.input.volume,nm(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(et.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),nm(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}qd(n=>{n.destination=new Ng({context:n})});Gd(n=>{n.destination.dispose()});class l7 extends et{constructor(){super(...arguments),this.name="Listener",this.positionX=new Yt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Yt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Yt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Yt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Yt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Yt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Yt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Yt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Yt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(et.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}qd(n=>{n.listener=new l7({context:n})});Gd(n=>{n.listener.dispose()});class gu extends Wi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Qe(gu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Et,onload:Et,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return nt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=Et,s=Et){return Xr(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Lt(this.baseUrl+t,r,s))):this._buffers.set(e.toString(),new Lt(t,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ag extends Gn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return eo(super._frequencyToUnits(e))}_ticksToUnits(e){return eo(super._ticksToUnits(e))}_beatsToUnits(e){return eo(super._beatsToUnits(e))}_secondsToUnits(e){return eo(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return TM(this.toMidi())}transpose(e){return new Ag(this.context,this.toMidi()+e)}}function Xl(n,e){return new Ag(jn(),n,e)}class ea extends $l{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class u7 extends Qn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}qd(n=>{n.draw=new u7({context:n})});Gd(n=>{n.draw.dispose()});class c7 extends Wi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){nt(at(e.time),"Events must have a time property"),nt(at(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new d7(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,s=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),t!==null?r?t.left=s:t.right=s:this._setRoot(s)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),t!==null?r?t.left=s:t.right=s:this._setRoot(s)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let s=1;s<t.length;s++)t[s].low>r.low&&(r=t[s]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&t(s.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&t(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class d7{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class f7 extends Wi{constructor(e){super(),this.name="TimelineValue",this._timeline=new xr({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Ea extends et{constructor(){super(Qe(Ea.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return Tg(this,e,t,r),this}}class yu extends Ea{constructor(){const e=Qe(yu.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,qr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):DL(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(yn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let s=0,a=t;s<a;s++){const u=s/(a-1)*2-1;r[s]=e(u,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));nt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class kg extends Ea{constructor(){const e=Qe(kg.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new yu({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ea.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ns{constructor(e,t){this.id=Ns._eventId++,this._remainderTime=0;const r=Object.assign(Ns.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Et,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ns._eventId=0;class Og extends Ns{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Og.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ns.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return hd(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ea(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){hd(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ea(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);wa(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Xd extends Qn{constructor(){const e=Qe(Xd.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new f7(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xr,this._repeatedEvents=new c7,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Kd({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Qt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Qn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new ea(this.context,this._swingTicks*2/3).toSeconds()*s}gw(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),gw(!1)}schedule(e,t){const r=new Ns(this,{callback:e,time:new $l(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,s=1/0){const a=new Og(this,{callback:e,duration:new br(this.context,s).toTicks(),interval:new br(this.context,t).toTicks(),time:new $l(this.context,r).toTicks()});return this._addEvent(a,this._repeatedEvents)}scheduleOnce(e,t){const r=new Ns(this,{callback:e,once:!0,time:new $l(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new ea(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return at(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){qr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new br(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new br(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ea(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new ea(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),a=t+s;this.emit("stop",a),this._clock.setTicksAtTime(e,a),this.emit("start",a,this._clock.getSecondsAtTime(a))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),s=e-r%e;return this._clock.nextTickTime(s,t)}}syncSignal(e,t){const r=this.now();let s=this.bpm,a=1/(60/s.getValueAtTime(r)/this.PPQ),u=[];if(e.units==="time"){const d=.015625/a,h=new Mn(d),p=new kg(-1),m=new Mn(d);s.chain(h,p,m),s=m,a=1/a,u=[h,p,m]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/a:t=0);const c=new Mn(t);return s.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),SM(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}pu.mixin(Xd);qd(n=>{n.transport=new Xd({context:n})});Gd(n=>{n.transport.dispose()});class dr extends et{constructor(e){super(e),this.input=void 0,this._state=new Mg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Et,this._syncedStop=Et,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new _o({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Qt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(et.getDefaults(),{mute:!1,onstop:Et,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let s=Tr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")nt(wa(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,t,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const a=this._state.get(s);a&&(a.offset=this.toSeconds(aa(t,0)),a.duration=r?this.toSeconds(r):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,r)},s);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else mM(this.context),this._start(s,t,r);return this}stop(e){let t=Tr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||at(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(wa(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const s=t-this.toSeconds(r.time);let a;r.duration&&(a=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,a)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Et,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class za extends Sa{constructor(){const e=Qe(za.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Va(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Yt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Lt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Sa.getDefaults(),{url:new Lt,loop:!1,loopEnd:0,loopStart:0,onload:Et,onerror:Et,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,s=1){nt(this.buffer.loaded,"buffer is either not set or not loaded");const a=this.toSeconds(e);this._startGain(a,s),this.loop?t=aa(t,this.loopStart):t=aa(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),h=c-d;tm(u,c)&&(u=(u-d)%h+d),zr(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,hd(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(a,u)),at(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(a+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function wo(n,e){return an(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,r=new Sg(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Rg extends Sa{constructor(){const e=Qe(Rg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Va(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Yt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Yt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Qt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Sa.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class on extends dr{constructor(){const e=Qe(on.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new yn({context:this.context,units:"frequency",value:e.frequency}),Qt(this,"frequency"),this.detune=new yn({context:this.context,units:"cents",value:e.detune}),Qt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(dr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new Rg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return on._periodicWaveCache.find(t=>t.phase===this._phase&&qL(t.partials,this._partials));{const e=on._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(at(r)){const{partials:s,wave:a}=r;this._wave=a,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,a]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(s,a);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),on._periodicWaveCache.push({imag:a,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),on._periodicWaveCache.length>100&&on._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ps(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const s=new Float32Array(e);this._partials.forEach((a,u)=>s[u]=a),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,t){let s=2048;const a=new Float32Array(s),u=new Float32Array(s);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,s=c,this._partials.length===0)return[a,u]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],c=Math.max(c,2),s=c):this._partialCount=0,this._partials=[]}for(let d=1;d<s;++d){const h=2/(d*Math.PI);let p;switch(e){case"sine":p=d<=c?1:0,this._partials[d-1]=p;break;case"square":p=d&1?2*h:0,this._partials[d-1]=p;break;case"sawtooth":p=h*(d&1?1:-1),this._partials[d-1]=p;break;case"triangle":d&1?p=2*(h*h)*(d-1>>1&1?-1:1):p=0,this._partials[d-1]=p;break;case"custom":p=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}p!==0?(a[d]=-p*Math.sin(t*d),u[d]=p*Math.cos(t*d)):(a[d]=0,u[d]=0)}return[a,u]}_inverseFFT(e,t,r){let s=0;const a=e.length;for(let u=0;u<a;u++)s+=e[u]*Math.cos(u*r)+t[u]*Math.sin(u*r);return s}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,a=32;for(let u=0;u<a;u++)r=Math.max(this._inverseFFT(e,t,u/a*s),r);return YL(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}on._periodicWaveCache=[];class h7 extends Ea{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new yu({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ma extends yn{constructor(){const e=Qe(Ma.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Mn({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(yn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Qd extends dr{constructor(){const e=Qe(Qd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new h7({context:this.context}),this._modulationNode=new Mn({context:this.context}),this._carrier=new on({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new on({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ma({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Qt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(on.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Zd extends dr{constructor(){const e=Qe(Zd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Mn({context:this.context,gain:0}),this._carrier=new on({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new yn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new on({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ma({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ma({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Qt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(on.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class vu extends dr{constructor(){const e=Qe(vu.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Mn({context:this.context,gain:0}),this._thresh=new yu({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new yn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new on({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Qt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(dr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Jd extends dr{constructor(){const e=Qe(Jd.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new yn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new yn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Qt(this,["frequency","detune"])}static getDefaults(){return Object.assign(on.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,a)=>s.detune.value=t+r*a)}}get count(){return this._oscillators.length}set count(e){if(Ps(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new on({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Et});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class ef extends dr{constructor(){const e=Qe(ef.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ma({context:this.context,value:2}),this._pulse=new vu({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new on({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Qt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(dr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const vw={am:Qd,fat:Jd,fm:Zd,oscillator:on,pulse:vu,pwm:ef};class pd extends dr{constructor(){const e=Qe(pd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new yn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new yn({context:this.context,units:"cents",value:e.detune}),Qt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(on.getDefaults(),Zd.getDefaults(),Qd.getDefaults(),Jd.getDefaults(),vu.getDefaults(),ef.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=vw[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof vw[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&ho(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&ho(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Xr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return an(this,arguments,void 0,function*(e=1024){return wo(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function xM(n,e=1/0){const t=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(a){Ps(a,n,e),t.set(this,a)}})}}function Hi(n,e=1/0){const t=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(a){Ps(this.toSeconds(a),n,e),t.set(this,a)}})}}class tf extends dr{constructor(){const e=Qe(tf.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Lt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Et,onerror:Et,playbackRate:1,reverse:!1})}load(e){return an(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Et){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=aa(t,this._loopStart):t=aa(t,0);const s=this.toSeconds(t),a=r;r=aa(r,Math.max(this._buffer.duration-s,0));let u=this.toSeconds(r);u=u/this._playbackRate,e=this.toSeconds(e);const c=new za({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Tr(a)?c.start(e,s):c.start(e,s,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ps(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ps(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}ti([Hi(0)],tf.prototype,"fadeIn",void 0);ti([Hi(0)],tf.prototype,"fadeOut",void 0);class Ds extends et{constructor(){const e=Qe(Ds.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new yn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(et.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Xr(e))return e;{let r;for(r in Ic)if(Ic[r][t]===e)return r;return e}}_setCurve(e,t,r){if(Xr(r)&&Reflect.has(Ic,r)){const s=Ic[r];oo(s)?e!=="_decayCurve"&&(this[e]=s[t]):this[e]=s}else if(qr(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const a=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/s;s=(1-u)/c}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,s,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=u&&u<=c[d]){c=this._attackCurve.slice(d),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,s,t)}if(a&&this.sustain<1){const c=t*this.sustain,d=e+s;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,a+d):this._sig.exponentialApproachValueAtTime(c,d,a)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(nt(qr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return Tg(this,e,t,r),this}asArray(){return an(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new Sg(1,t,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),a=s+this.toSeconds(this.release),u=a*.1,c=a+u,d=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:r}));return d._sig.toDestination(),d.triggerAttackRelease(t*(s+u)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ti([Hi(0)],Ds.prototype,"attack",void 0);ti([Hi(0)],Ds.prototype,"decay",void 0);ti([xM(0,1)],Ds.prototype,"sustain",void 0);ti([Hi(0)],Ds.prototype,"release",void 0);const Ic=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],a=6.4;for(e=0;e<127;e++){t=e/127;const v=Math.sin(t*(Math.PI*2)*a-Math.PI/2)+1;s[e]=v/10+t*.83}s[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const d=[];for(e=0;e<128;e++)t=e/127,d[e]=.5*(1-Math.cos(Math.PI*t));const h=[];for(e=0;e<128;e++){t=e/127;const v=Math.pow(t,3)*4+.2,_=Math.cos(v*Math.PI*2*t);h[e]=Math.abs(_*(1-t))}function p(v){const _=new Array(v.length);for(let w=0;w<v.length;w++)_[w]=1-v[w];return _}function m(v){return v.slice(0).reverse()}return{bounce:{In:p(h),Out:h},cosine:{In:r,Out:m(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:p(s)},sine:{In:d,Out:p(d)},step:{In:u,Out:p(u)}}})();class ba extends et{constructor(){const e=Qe(ba.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new _o({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Qt(this,"volume")}static getDefaults(){return Object.assign(et.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const a=s[t],u=this.context.transport.schedule(c=>{s[t]=c,r.apply(this,s)},a);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,s){const a=this.toSeconds(r),u=this.toSeconds(t);return this.triggerAttack(e,a,s),this.triggerRelease(a+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ta extends ba{constructor(){const e=Qe(Ta.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(ba.getDefaults(),{detune:0,onsilence:Et,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const s=this.toSeconds(t);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),s=e instanceof Gn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const a=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,a,r)}else this.frequency.setValueAtTime(s,r);return this}}ti([Hi(0)],Ta.prototype,"portamento",void 0);class Ig extends Ds{constructor(){super(Qe(Ig.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Mn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class md extends Ta{constructor(){const e=Qe(md.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new pd(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ig(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Qt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ta.getDefaults(),{envelope:Object.assign(yw(Ds.getDefaults(),Object.keys(et.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(yw(pd.getDefaults(),[...Object.keys(dr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class nf extends md{constructor(){const e=Qe(nf.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Qt(this,["oscillator","envelope"])}static getDefaults(){return oa(Ta.getDefaults(),md.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),s=this.toFrequency(e instanceof Gn?e.toFrequency():e),a=s*this.octaves;return this.oscillator.frequency.setValueAtTime(a,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ti([xM(0)],nf.prototype,"octaves",void 0);ti([Hi(0)],nf.prototype,"pitchDecay",void 0);const CM=new Set;function Dg(n){CM.add(n)}function PM(n,e){const t=`registerProcessor("${n}", ${e})`;CM.add(t)}const p7=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Dg(p7);const m7=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Dg(m7);const g7=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Dg(g7);const y7="feedback-comb-filter",v7=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;PM(y7,v7);class Wa extends ba{constructor(){const e=Qe(Wa.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(nt(Rc(r)||ho(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),Rc(r)){const a=new Gn(this.context,r).toMidi();t[a]=e.urls[r]}else ho(s)&&isFinite(s)&&(t[s]=e.urls[s])}),this._buffers=new gu({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(ba.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Et,onerror:Et,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=bM(new Gn(this.context,s).toFrequency()),u=Math.round(a),c=a-u,d=this._findClosest(u),h=u-d,p=this._buffers.get(h),m=MM(d+c),v=new za({url:p,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:m}).connect(this.output);v.start(t,0,p.duration/m,r),qr(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(v),v.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const _=this._activeSources.get(u),w=_.indexOf(v);w!==-1&&_.splice(w,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Gn(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const a=this._activeSources.get(s);t=this.toSeconds(t),a.forEach(u=>{u.stop(t)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,s=1){const a=this.toSeconds(r);return this.triggerAttack(e,a,s),qr(t)?(nt(qr(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const d=t[Math.min(c,t.length-1)];this.triggerRelease(u,a+this.toSeconds(d))})):this.triggerRelease(e,a+this.toSeconds(t)),this}add(e,t,r){if(nt(Rc(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Rc(e)){const s=new Gn(this.context,e).toMidi();this._buffers.add(s,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}ti([Hi(0)],Wa.prototype,"attack",void 0);ti([Hi(0)],Wa.prototype,"release",void 0);class jg extends et{constructor(){const e=Qe(jg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Yt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Qt(this,"pan")}static getDefaults(){return Object.assign(et.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const _7="bit-crusher",w7=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;PM(_7,w7);class sn extends et{constructor(){const e=Qe(sn.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Mn({context:this.context}),sn._allSolos.has(this.context)||sn._allSolos.set(this.context,new Set),sn._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(et.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),sn._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){sn._soloed.has(this.context)||sn._soloed.set(this.context,new Set),sn._soloed.get(this.context).add(this)}_removeSolo(){sn._soloed.has(this.context)&&sn._soloed.get(this.context).delete(this)}_isSoloed(){return sn._soloed.has(this.context)&&sn._soloed.get(this.context).has(this)}_noSolos(){return!sn._soloed.has(this.context)||sn._soloed.has(this.context)&&sn._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),sn._allSolos.get(this.context).delete(this),this._removeSolo(),this}}sn._allSolos=new Map;sn._soloed=new Map;class Lg extends et{constructor(){const e=Qe(Lg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new jg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new _o({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Qt(this,["pan","volume"])}static getDefaults(){return Object.assign(et.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ta extends et{constructor(){const e=Qe(ta.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new sn({solo:e.solo,context:this.context}),this._panVol=this.output=new Lg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Qt(this,["pan","volume"])}static getDefaults(){return Object.assign(et.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return ta.buses.has(e)||ta.buses.set(e,new Mn({context:this.context})),ta.buses.get(e)}send(e,t=0){const r=this._getBus(e),s=new Mn({context:this.context,units:"decibels",gain:t});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ta.buses=new Map;function rm(){return jn().now()}jn().transport;jn().destination;jn().destination;jn().listener;jn().draw;jn();var S7=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(m){u(m)}}function d(p){try{h(r.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class rf extends et{constructor(e){super(e),this.name="PianoComponent",this.input=void 0,this.output=new _o({context:this.context}),this._enabled=!1,this.volume=this.output.volume,this._loaded=!1,this.volume.value=e.volume,this._enabled=e.enabled,this.samples=e.samples}get loaded(){return this._loaded}load(){return S7(this,void 0,void 0,function*(){if(this._enabled)yield this._internalLoad(),this._loaded=!0;else return Promise.resolve()})}}function NM(n){return o7(n,"midi").toNote()}function gd(n,e){return Math.random()*(e-n)+n}function E7(n){return`rel${n-20}.[mp3|ogg]`}function M7(n){return`harmS${NM(n).replace("#","s")}.[mp3|ogg]`}function b7(n,e){return`${NM(n).replace("#","s")}v${e}.[mp3|ogg]`}const T7={1:[8],2:[6,12],3:[1,7,15],4:[1,5,10,15],5:[1,4,8,12,16],6:[1,3,7,10,13,16],7:[1,3,6,9,11,13,16],8:[1,3,5,7,9,11,13,16],9:[1,3,5,7,9,11,13,15,16],10:[1,2,3,5,7,9,11,13,15,16],11:[1,2,3,5,7,9,11,13,14,15,16],12:[1,2,3,4,5,7,9,11,13,14,15,16],13:[1,2,3,4,5,7,9,11,12,13,14,15,16],14:[1,2,3,4,5,6,7,9,11,12,13,14,15,16],15:[1,2,3,4,5,6,7,9,10,11,12,13,14,15,16],16:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]},x7=[21,24,27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87,90,93,96,99,102,105,108];function C7(n,e){return x7.filter(t=>n<=t&&t<=e)}const qc=[21,24,27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87];function P7(n,e){return qc.filter(t=>n<=t&&t<=e)}function N7(n){return qc[0]<=n&&n<=qc[qc.length-1]}class A7 extends rf{constructor(e){super(e),this._urls={};const t=P7(e.minNote,e.maxNote);for(const r of t)this._urls[r]=M7(r)}triggerAttack(e,t,r){this._enabled&&N7(e)&&this._sampler.triggerAttack(Xl(e).toNote(),t,r*gd(.5,1))}_internalLoad(){return new Promise(e=>{this._sampler=new Wa({baseUrl:this.samples,onload:e,urls:this._urls}).connect(this.output)})}}class k7 extends rf{constructor(e){super(e),this._urls={};for(let t=e.minNote;t<=e.maxNote;t++)this._urls[t]=E7(t)}_internalLoad(){return new Promise(e=>{this._buffers=new gu(this._urls,e,this.samples)})}start(e,t,r){this._enabled&&this._buffers.has(e)&&new za({url:this._buffers.get(e),context:this.context}).connect(this.output).start(t,0,void 0,.015*r*gd(.5,1))}}class O7 extends rf{constructor(e){super(e),this._downTime=1/0,this._currentSound=null,this._downTime=1/0}_internalLoad(){return new Promise(e=>{this._buffers=new gu({down1:"pedalD1.mp3",down2:"pedalD2.mp3",up1:"pedalU1.mp3",up2:"pedalU2.mp3"},e,this.samples)})}_squash(e){this._currentSound&&this._currentSound.state!=="stopped"&&this._currentSound.stop(e),this._currentSound=null}_playSample(e,t){this._enabled&&(this._currentSound=new za({url:this._buffers.get(`${t}${Math.random()>.5?1:2}`),context:this.context,curve:"exponential",fadeIn:.05,fadeOut:.1}).connect(this.output),this._currentSound.start(e,gd(0,.01),void 0,.1*gd(.5,1)))}down(e){this._squash(e),this._downTime=e,this._playSample(e,"down")}up(e){this._squash(e),this._downTime=1/0,this._playSample(e,"up")}isDown(e){return e>this._downTime}}class R7 extends et{constructor(e){super(e),this.name="PianoString",this._urls={},e.notes.forEach(t=>this._urls[t]=b7(t,e.velocity)),this.samples=e.samples}load(){return new Promise(e=>{this._sampler=this.output=new Wa({attack:0,baseUrl:this.samples,curve:"exponential",onload:e,release:.4,urls:this._urls,volume:3})})}triggerAttack(e,t,r){this._sampler.triggerAttack(e,t,r)}triggerRelease(e,t){this._sampler.triggerRelease(e,t)}}var _w=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(m){u(m)}}function d(p){try{h(r.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class I7 extends rf{constructor(e){super(e);const t=C7(e.minNote,e.maxNote),r=T7[e.velocities].slice();this._strings=r.map(s=>new R7(Object.assign(e,{notes:t,velocity:s}))),this._activeNotes=new Map}scale(e,t,r,s,a){return(e-t)/(r-t)*(a-s)+s}triggerAttack(e,t,r){const s=this.scale(r,0,1,-.5,this._strings.length-.51),a=Math.max(Math.round(s),0);let u=1+s-a;this._strings.length===1&&(u=r);const c=this._strings[a];this._activeNotes.has(e)&&this.triggerRelease(e,t),this._activeNotes.set(e,c),c.triggerAttack(Xl(e).toNote(),t,u)}triggerRelease(e,t){this._activeNotes.has(e)&&(this._activeNotes.get(e).triggerRelease(Xl(e).toNote(),t),this._activeNotes.delete(e))}_internalLoad(){return _w(this,void 0,void 0,function*(){yield Promise.all(this._strings.map(e=>_w(this,void 0,void 0,function*(){yield e.load(),e.connect(this.output)})))})}}var D7=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(m){u(m)}}function d(p){try{h(r.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class yd extends et{constructor(){super(Qe(yd.getDefaults(),arguments)),this.name="Piano",this.input=void 0,this.output=new Mn({context:this.context}),this._heldNotes=new Map,this._loaded=!1;const e=Qe(yd.getDefaults(),arguments);e.url.endsWith("/")||(e.url+="/"),this.maxPolyphony=e.maxPolyphony,this._heldNotes=new Map,this._sustainedNotes=new Map,this._strings=new I7(Object.assign({},e,{enabled:!0,samples:e.url,volume:e.volume.strings})).connect(this.output),this.strings=this._strings.volume,this._pedal=new O7(Object.assign({},e,{enabled:e.pedal,samples:e.url,volume:e.volume.pedal})).connect(this.output),this.pedal=this._pedal.volume,this._keybed=new k7(Object.assign({},e,{enabled:e.release,samples:e.url,volume:e.volume.keybed})).connect(this.output),this.keybed=this._keybed.volume,this._harmonics=new A7(Object.assign({},e,{enabled:e.release,samples:e.url,volume:e.volume.harmonics})).connect(this.output),this.harmonics=this._harmonics.volume}static getDefaults(){return Object.assign(et.getDefaults(),{maxNote:108,minNote:21,pedal:!0,release:!1,url:"https://tambien.github.io/Piano/audio/",velocities:1,maxPolyphony:32,volume:{harmonics:0,keybed:0,pedal:0,strings:0}})}load(){return D7(this,void 0,void 0,function*(){yield Promise.all([this._strings.load(),this._pedal.load(),this._keybed.load(),this._harmonics.load()]),this._loaded=!0})}get loaded(){return this._loaded}pedalDown({time:e=this.immediate()}={}){return this.loaded&&(e=this.toSeconds(e),this._pedal.isDown(e)||this._pedal.down(e)),this}pedalUp({time:e=this.immediate()}={}){if(this.loaded){const t=this.toSeconds(e);this._pedal.isDown(t)&&(this._pedal.up(t),this._sustainedNotes.forEach((r,s)=>{this._heldNotes.has(s)||this._strings.triggerRelease(s,t)}),this._sustainedNotes.clear())}return this}keyDown({note:e,midi:t,time:r=this.immediate(),velocity:s=.8}){return this.loaded&&this.maxPolyphony>this._heldNotes.size+this._sustainedNotes.size?(r=this.toSeconds(r),Xr(e)&&(t=Math.round(Xl(e).toMidi())),this._heldNotes.has(t)||(this._heldNotes.set(t,{time:r,velocity:s}),this._strings.triggerAttack(t,r,s))):console.warn("samples not loaded"),this}keyUp({note:e,midi:t,time:r=this.immediate(),velocity:s=.8}){if(this.loaded&&(r=this.toSeconds(r),Xr(e)&&(t=Math.round(Xl(e).toMidi())),this._heldNotes.has(t))){const a=this._heldNotes.get(t);this._heldNotes.delete(t);const u=Math.pow(Math.max(r-a.time,.1),.7),c=a.velocity;let d=3/u*c*s;d=Math.max(d,.4),d=Math.min(d,4),this._pedal.isDown(r)?this._sustainedNotes.has(t)||this._sustainedNotes.set(t,r):(this._strings.triggerRelease(t,r),this._harmonics.triggerAttack(t,r,d)),this._keybed.start(t,r,s)}return this}stopAll(){return this.pedalUp(),this._heldNotes.forEach((e,t)=>{this.keyUp({midi:t})}),this}}var Dc={exports:{}},ww;function j7(){if(ww)return Dc.exports;ww=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(x,k,T){return Function.prototype.apply.call(x,k,T)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:t=function(x){return Object.getOwnPropertyNames(x)};function r(N){console&&console.warn&&console.warn(N)}var s=Number.isNaN||function(x){return x!==x};function a(){a.init.call(this)}Dc.exports=a,Dc.exports.once=P,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");u=N}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||s(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function d(N){return N._maxListeners===void 0?a.defaultMaxListeners:N._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(x){for(var k=[],T=1;T<arguments.length;T++)k.push(arguments[T]);var A=x==="error",U=this._events;if(U!==void 0)A=A&&U.error===void 0;else if(!A)return!1;if(A){var j;if(k.length>0&&(j=k[0]),j instanceof Error)throw j;var V=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw V.context=j,V}var B=U[x];if(B===void 0)return!1;if(typeof B=="function")e(B,this,k);else for(var Z=B.length,ne=w(B,Z),T=0;T<Z;++T)e(ne[T],this,k);return!0};function h(N,x,k,T){var A,U,j;if(c(k),U=N._events,U===void 0?(U=N._events=Object.create(null),N._eventsCount=0):(U.newListener!==void 0&&(N.emit("newListener",x,k.listener?k.listener:k),U=N._events),j=U[x]),j===void 0)j=U[x]=k,++N._eventsCount;else if(typeof j=="function"?j=U[x]=T?[k,j]:[j,k]:T?j.unshift(k):j.push(k),A=d(N),A>0&&j.length>A&&!j.warned){j.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=N,V.type=x,V.count=j.length,r(V)}return N}a.prototype.addListener=function(x,k){return h(this,x,k,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(x,k){return h(this,x,k,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(N,x,k){var T={fired:!1,wrapFn:void 0,target:N,type:x,listener:k},A=p.bind(T);return A.listener=k,T.wrapFn=A,A}a.prototype.once=function(x,k){return c(k),this.on(x,m(this,x,k)),this},a.prototype.prependOnceListener=function(x,k){return c(k),this.prependListener(x,m(this,x,k)),this},a.prototype.removeListener=function(x,k){var T,A,U,j,V;if(c(k),A=this._events,A===void 0)return this;if(T=A[x],T===void 0)return this;if(T===k||T.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete A[x],A.removeListener&&this.emit("removeListener",x,T.listener||k));else if(typeof T!="function"){for(U=-1,j=T.length-1;j>=0;j--)if(T[j]===k||T[j].listener===k){V=T[j].listener,U=j;break}if(U<0)return this;U===0?T.shift():E(T,U),T.length===1&&(A[x]=T[0]),A.removeListener!==void 0&&this.emit("removeListener",x,V||k)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(x){var k,T,A;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[x]),this;if(arguments.length===0){var U=Object.keys(T),j;for(A=0;A<U.length;++A)j=U[A],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=T[x],typeof k=="function")this.removeListener(x,k);else if(k!==void 0)for(A=k.length-1;A>=0;A--)this.removeListener(x,k[A]);return this};function v(N,x,k){var T=N._events;if(T===void 0)return[];var A=T[x];return A===void 0?[]:typeof A=="function"?k?[A.listener||A]:[A]:k?S(A):w(A,A.length)}a.prototype.listeners=function(x){return v(this,x,!0)},a.prototype.rawListeners=function(x){return v(this,x,!1)},a.listenerCount=function(N,x){return typeof N.listenerCount=="function"?N.listenerCount(x):_.call(N,x)},a.prototype.listenerCount=_;function _(N){var x=this._events;if(x!==void 0){var k=x[N];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function w(N,x){for(var k=new Array(x),T=0;T<x;++T)k[T]=N[T];return k}function E(N,x){for(;x+1<N.length;x++)N[x]=N[x+1];N.pop()}function S(N){for(var x=new Array(N.length),k=0;k<x.length;++k)x[k]=N[k].listener||N[k];return x}function P(N,x){return new Promise(function(k,T){function A(j){N.removeListener(x,U),T(j)}function U(){typeof N.removeListener=="function"&&N.removeListener("error",A),k([].slice.call(arguments))}R(N,x,U,{once:!0}),x!=="error"&&O(N,A,{once:!0})})}function O(N,x,k){typeof N.on=="function"&&R(N,"error",x,k)}function R(N,x,k,T){if(typeof N.on=="function")T.once?N.once(x,k):N.on(x,k);else if(typeof N.addEventListener=="function")N.addEventListener(x,function A(U){T.once&&N.removeEventListener(x,A),k(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return Dc.exports}var L7=j7();function F7(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var AM={exports:{}},tn=AM.exports={},li,ui;function im(){throw new Error("setTimeout has not been defined")}function sm(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?li=setTimeout:li=im}catch{li=im}try{typeof clearTimeout=="function"?ui=clearTimeout:ui=sm}catch{ui=sm}})();function kM(n){if(li===setTimeout)return setTimeout(n,0);if((li===im||!li)&&setTimeout)return li=setTimeout,setTimeout(n,0);try{return li(n,0)}catch{try{return li.call(null,n,0)}catch{return li.call(this,n,0)}}}function $7(n){if(ui===clearTimeout)return clearTimeout(n);if((ui===sm||!ui)&&clearTimeout)return ui=clearTimeout,clearTimeout(n);try{return ui(n)}catch{try{return ui.call(null,n)}catch{return ui.call(this,n)}}}var Di=[],la=!1,to,Gc=-1;function U7(){!la||!to||(la=!1,to.length?Di=to.concat(Di):Gc=-1,Di.length&&OM())}function OM(){if(!la){var n=kM(U7);la=!0;for(var e=Di.length;e;){for(to=Di,Di=[];++Gc<e;)to&&to[Gc].run();Gc=-1,e=Di.length}to=null,la=!1,$7(n)}}tn.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Di.push(new RM(n,e)),Di.length===1&&!la&&kM(OM)};function RM(n,e){this.fun=n,this.array=e}RM.prototype.run=function(){this.fun.apply(null,this.array)};tn.title="browser";tn.browser=!0;tn.env={};tn.argv=[];tn.version="";tn.versions={};function qi(){}tn.on=qi;tn.addListener=qi;tn.once=qi;tn.off=qi;tn.removeListener=qi;tn.removeAllListeners=qi;tn.emit=qi;tn.prependListener=qi;tn.prependOnceListener=qi;tn.listeners=function(n){return[]};tn.binding=function(n){throw new Error("process.binding is not supported")};tn.cwd=function(){return"/"};tn.chdir=function(n){throw new Error("process.chdir is not supported")};tn.umask=function(){return 0};var B7=AM.exports;const _p=F7(B7);class Hr{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,t,r={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==Hr.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof t!="function")throw new TypeError("The callback must be a function.");const s=new Sw(e,this,t,r);return this.eventMap[e]||(this.eventMap[e]=[]),r.prepend?this.eventMap[e].unshift(s):this.eventMap[e].push(s),s}addOneTimeListener(e,t,r={}){r.remaining=1,this.addListener(e,t,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,t){return e===void 0?this.eventMap[Hr.ANY_EVENT]&&this.eventMap[Hr.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[e]&&this.eventMap[e].length>0?t instanceof Sw?this.eventMap[e].filter(s=>s===t).length>0:typeof t=="function"?this.eventMap[e].filter(s=>s.callback===t).length>0:t==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(t=>{t.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(t=>{t.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...t){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],s=this.eventMap[Hr.ANY_EVENT]||[];return this.eventMap[e]&&(s=s.concat(this.eventMap[e])),s.forEach(a=>{if(a.suspended)return;let u=[...t];Array.isArray(a.arguments)&&(u=u.concat(a.arguments)),a.remaining>0&&(r.push(a.callback.apply(a.context,u)),a.count++),--a.remaining<1&&a.remove()}),r}removeListener(e,t,r={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let s=this.eventMap[e].filter(a=>t&&a.callback!==t||r.remaining&&r.remaining!==a.remaining||r.context&&r.context!==a.context);s.length?this.eventMap[e]=s:delete this.eventMap[e]}async waitFor(e,t={}){return t.duration=parseInt(t.duration),(isNaN(t.duration)||t.duration<=0)&&(t.duration=1/0),new Promise((r,s)=>{let a,u=this.addListener(e,()=>{clearTimeout(a),r()},{remaining:1});t.duration!==1/0&&(a=setTimeout(()=>{u.remove(),s("The duration expired before the event was emitted.")},t.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Sw{constructor(e,t,r,s={}){if(typeof e!="string"&&!(e instanceof String)&&e!==Hr.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!t)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");s.arguments!==void 0&&!Array.isArray(s.arguments)&&(s.arguments=[s.arguments]),s=Object.assign({context:t,remaining:1/0,arguments:void 0,duration:1/0},s),s.duration!==1/0&&setTimeout(()=>this.remove(),s.duration),this.arguments=s.arguments,this.callback=r,this.context=s.context,this.count=0,this.event=e,this.remaining=parseInt(s.remaining)>=1?parseInt(s.remaining):1/0,this.suspended=!1,this.target=t}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class ie{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),ie.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),ie.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),ie.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),ie.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */let na=class{constructor(e,t={}){this.duration=ve.defaults.note.duration,this.attack=ve.defaults.note.attack,this.release=ve.defaults.note.release,t.duration!=null&&(this.duration=t.duration),t.attack!=null&&(this.attack=t.attack),t.rawAttack!=null&&(this.attack=_e.from7bitToFloat(t.rawAttack)),t.release!=null&&(this.release=t.release),t.rawRelease!=null&&(this.release=_e.from7bitToFloat(t.rawRelease)),Number.isInteger(e)?this.identifier=_e.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const t=_e.getNoteDetails(e);if(ve.validation&&!e)throw new Error("Invalid note identifier");this._name=t.name,this._accidental=t.accidental,this._octave=t.octave}get name(){return this._name}set name(e){if(ve.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(ve.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(ve.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(ve.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(ve.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(ve.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return _e.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=_e.from7bitToFloat(e)}get rawRelease(){return _e.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=_e.from7bitToFloat(e)}get number(){return _e.toNoteNumber(this.identifier)}getOffsetNumber(e=0,t=0){return ve.validation&&(e=parseInt(e)||0,t=parseInt(t)||0),Math.min(Math.max(this.number+e*12+t,0),127)}};/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class _e{static toNoteNumber(e,t=0){if(t=t==null?0:parseInt(t),isNaN(t))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const r=this.getNoteDetails(e);if(!r)throw new TypeError("Invalid note identifier");const s={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let a=(r.octave+1+t)*12;if(a+=s[r.name],r.accidental&&(r.accidental.startsWith("b")?a-=r.accidental.length:a+=r.accidental.length),a<0||a>127)throw new RangeError("Invalid octaveOffset value");return a}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const t=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!t)throw new TypeError("Invalid note identifier");const r=t[1].toUpperCase(),s=parseInt(t[3]);let a=t[2].toLowerCase();return a=a===""?void 0:a,{accidental:a,identifier:r+(a||"")+s,name:r,octave:s}}static sanitizeChannels(e){let t;if(ve.validation){if(e==="all")t=["all"];else if(e==="none")return[]}return Array.isArray(e)?t=e:t=[e],t.indexOf("all")>-1&&(t=ie.MIDI_CHANNEL_NUMBERS),t.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(e){let t=!1;const r=parseFloat(e);return isNaN(r)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?r>=0&&(t=ve.time+r):r>=0&&(t=r),t)}static guessNoteNumber(e,t){t=parseInt(t)||0;let r=!1;if(Number.isInteger(e)&&e>=0&&e<=127)r=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)r=parseInt(e);else if(typeof e=="string"||e instanceof String)try{r=this.toNoteNumber(e.trim(),t)}catch{return!1}return r}static toNoteIdentifier(e,t){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(t=t==null?0:parseInt(t),isNaN(t))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s=Math.floor(e/12-1)+t;return r[e%12]+s.toString()}static buildNote(e,t={}){if(t.octaveOffset=parseInt(t.octaveOffset)||0,e instanceof na)return e;let r=this.guessNoteNumber(e,t.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return t.octaveOffset=void 0,new na(r,t)}static buildNoteArray(e,t={}){let r=[];return Array.isArray(e)||(e=[e]),e.forEach(s=>{r.push(this.buildNote(s,t))}),r}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,t=0){ve.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),t=Math.min(Math.max(parseInt(t)||0,0),127));const r=((e<<7)+t)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(e){ve.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const t=Math.round(e*16383);return{msb:t>>7,lsb:t&127}}static offsetNumber(e,t=0,r=0){if(ve.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");t=parseInt(t)||0,r=parseInt(r)||0}return Math.min(Math.max(e+t*12+r,0),127)}static getPropertyByValue(e,t){return Object.keys(e).find(r=>e[r]===t)}static getCcNameByNumber(e){if(!(ve.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return ie.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let t=ie.CONTROL_CHANGE_MESSAGES.find(r=>r.name===e);return t?t.number:ie.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let t in ie.CHANNEL_MODE_MESSAGES)if(ie.CHANNEL_MODE_MESSAGES.hasOwnProperty(t)&&e===ie.CHANNEL_MODE_MESSAGES[t])return t;return!1}static get isNode(){return typeof _p<"u"&&_p.versions!=null&&_p.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class V7 extends Hr{constructor(e,t){super(),this._output=e,this._number=t,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,t={time:0}){return this.output.send(e,t),this}sendKeyAftertouch(e,t,r={}){if(ve.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(t)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(t=_e.fromFloatTo7Bit(t));const s=ve.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),_e.buildNoteArray(e).forEach(a=>{this.send([(ie.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),a.getOffsetNumber(s),t],{time:_e.toTimestamp(r.time)})}),this}sendControlChange(e,t,r={}){if(typeof e=="string"&&(e=_e.getCcNumberByName(e)),Array.isArray(t)||(t=[t]),ve.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(t=t.map(s=>{const a=Math.min(Math.max(parseInt(s),0),127);if(isNaN(a))throw new TypeError("Values must be integers between 0 and 127");return a}),t.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return t.forEach((s,a)=>{this.send([(ie.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+a*32,t[a]],{time:_e.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(e,t={}){return this.sendControlChange(99,e[0],t),this.sendControlChange(98,e[1],t),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,t={}){return this.sendControlChange(101,e[0],t),this.sendControlChange(100,e[1],t),this}_setCurrentParameter(e,t={}){return e=[].concat(e),this.sendControlChange(6,e[0],t),e.length<2?this:(this.sendControlChange(38,e[1],t),this)}sendRpnDecrement(e,t={}){if(Array.isArray(e)||(e=ie.REGISTERED_PARAMETERS[e]),ve.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(ie.REGISTERED_PARAMETERS).forEach(s=>{ie.REGISTERED_PARAMETERS[s][0]===e[0]&&ie.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,t),this.sendControlChange(97,0,t),this._deselectRegisteredParameter(t),this}sendRpnIncrement(e,t={}){if(Array.isArray(e)||(e=ie.REGISTERED_PARAMETERS[e]),ve.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(ie.REGISTERED_PARAMETERS).forEach(s=>{ie.REGISTERED_PARAMETERS[s][0]===e[0]&&ie.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,t),this.sendControlChange(96,0,t),this._deselectRegisteredParameter(t),this}playNote(e,t={}){this.sendNoteOn(e,t);const r=Array.isArray(e)?e:[e];for(let s of r)if(parseInt(s.duration)>0){const a={time:(_e.toTimestamp(t.time)||ve.time)+parseInt(s.duration),release:s.release,rawRelease:s.rawRelease};this.sendNoteOff(s,a)}else if(parseInt(t.duration)>0){const a={time:(_e.toTimestamp(t.time)||ve.time)+parseInt(t.duration),release:t.release,rawRelease:t.rawRelease};this.sendNoteOff(s,a)}return this}sendNoteOff(e,t={}){if(ve.validation){if(t.rawRelease!=null&&!(t.rawRelease>=0&&t.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(t.release!=null&&!(t.release>=0&&t.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");t.rawVelocity&&(t.rawRelease=t.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),t.velocity&&(t.release=t.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;t.rawRelease!=null?r=t.rawRelease:isNaN(t.release)||(r=Math.round(t.release*127));const s=ve.octaveOffset+this.output.octaveOffset+this.octaveOffset;return _e.buildNoteArray(e,{rawRelease:parseInt(r)}).forEach(a=>{this.send([(ie.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),a.getOffsetNumber(s),a.rawRelease],{time:_e.toTimestamp(t.time)})}),this}stopNote(e,t={}){return this.sendNoteOff(e,t)}sendNoteOn(e,t={}){if(ve.validation){if(t.rawAttack!=null&&!(t.rawAttack>=0&&t.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(t.attack!=null&&!(t.attack>=0&&t.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");t.rawVelocity&&(t.rawAttack=t.velocity,t.rawRelease=t.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),t.velocity&&(t.attack=t.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;t.rawAttack!=null?r=t.rawAttack:isNaN(t.attack)||(r=Math.round(t.attack*127));const s=ve.octaveOffset+this.output.octaveOffset+this.octaveOffset;return _e.buildNoteArray(e,{rawAttack:r}).forEach(a=>{this.send([(ie.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),a.getOffsetNumber(s),a.rawAttack],{time:_e.toTimestamp(t.time)})}),this}sendChannelMode(e,t=0,r={}){if(typeof e=="string"&&(e=ie.CHANNEL_MODE_MESSAGES[e]),ve.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(t))||t<0||t>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(ie.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,t],{time:_e.toTimestamp(r.time)}),this}sendOmniMode(e,t={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,t):this.sendChannelMode("omnimodeoff",0,t),this}sendChannelAftertouch(e,t={}){if(ve.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(t.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return t.rawValue||(e=_e.fromFloatTo7Bit(e)),this.send([(ie.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e)],{time:_e.toTimestamp(t.time)}),this}sendMasterTuning(e,t={}){if(e=parseFloat(e)||0,ve.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(e)+64,s=e-Math.floor(e);s=Math.round((s+1)/2*16383);let a=s>>7&127,u=s&127;return this.sendRpnValue("channelcoarsetuning",r,t),this.sendRpnValue("channelfinetuning",[a,u],t),this}sendModulationRange(e,t,r={}){if(ve.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(t!=null&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return t>=0&&t<=127||(t=0),this.sendRpnValue("modulationrange",[e,t],r),this}sendNrpnValue(e,t,r={}){if(t=[].concat(t),ve.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");t.forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,r),this._setCurrentParameter(t,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(e,t={}){if(ve.validation)if(t.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(t.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,s=0;if(t.rawValue&&Array.isArray(e))r=e[0],s=e[1];else if(t.rawValue&&!Array.isArray(e))r=e;else{const a=_e.fromFloatToMsbLsb((e+1)/2);r=a.msb,s=a.lsb}return this.send([(ie.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),s,r],{time:_e.toTimestamp(t.time)}),this}sendPitchBendRange(e,t,r={}){if(ve.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,t],r),this}sendProgramChange(e,t={}){if(e=parseInt(e)||0,ve.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(ie.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:_e.toTimestamp(t.time)}),this}sendRpnValue(e,t,r={}){if(Array.isArray(e)||(e=ie.REGISTERED_PARAMETERS[e]),ve.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(t).forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,r),this._setCurrentParameter(t,r),this._deselectRegisteredParameter(r),this}sendTuningBank(e,t={}){if(ve.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,t),this}sendTuningProgram(e,t={}){if(ve.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,t),this}sendLocalControl(e,t={}){return e?this.sendChannelMode("localcontrol",127,t):this.sendChannelMode("localcontrol",0,t)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,t={}){return e==="mono"?this.sendChannelMode("monomodeon",0,t):this.sendChannelMode("polymodeon",0,t)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class om extends Hr{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let t=1;t<=16;t++)this.channels[t]=new V7(this,t);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let t={timestamp:ve.time};e.port.connection==="open"?(t.type="opened",t.target=this,t.port=t.target,this.emit("opened",t)):e.port.connection==="closed"&&e.port.state==="connected"?(t.type="closed",t.target=this,t.port=t.target,this.emit("closed",t)):e.port.connection==="closed"&&e.port.state==="disconnected"?(t.type="disconnected",t.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",t)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,t={time:0},r=0){if(e instanceof IM&&(e=_e.isNode?e.data:e.rawData),e instanceof Uint8Array&&_e.isNode&&(e=Array.from(e)),ve.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(t)&&(e=e.concat(t)),t=isNaN(r)?{time:0}:{time:r}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(s=>{if(s=parseInt(s),!(s>=0&&s<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),t||(t={time:0})}return this._midiOutput.send(e,_e.toTimestamp(t.time)),this}sendSysex(e,t=[],r={}){if(e=[].concat(e),t instanceof Uint8Array){const s=new Uint8Array(1+e.length+t.length+1);s[0]=ie.SYSTEM_MESSAGES.sysex,s.set(Uint8Array.from(e),1),s.set(t,1+e.length),s[s.length-1]=ie.SYSTEM_MESSAGES.sysexend,this.send(s,{time:r.time})}else{const s=e.concat(t,ie.SYSTEM_MESSAGES.sysexend);this.send([ie.SYSTEM_MESSAGES.sysex].concat(s),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():ve.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,t={}){if(ve.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([ie.SYSTEM_MESSAGES.timecode,e],{time:t.time}),this}sendSongPosition(e=0,t={}){e=Math.floor(e)||0;var r=e>>7&127,s=e&127;return this.send([ie.SYSTEM_MESSAGES.songposition,r,s],{time:t.time}),this}sendSongSelect(e=0,t={}){if(ve.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([ie.SYSTEM_MESSAGES.songselect,e],{time:t.time}),this}sendTuneRequest(e={}){return this.send([ie.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([ie.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([ie.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([ie.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([ie.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([ie.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([ie.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return ve.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendKeyAftertouch(e,t,r)}),this}sendControlChange(e,t,r={},s={}){if(ve.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const a=r;r=s,r.channels=a,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(a=>{this.channels[a].sendControlChange(e,t,r)}),this}sendPitchBendRange(e=0,t=0,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendPitchBendRange(e,t,r)}),this}setPitchBendRange(e=0,t=0,r="all",s={}){return ve.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,t,s)}sendRpnValue(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendRpnValue(e,t,r)}),this}setRegisteredParameter(e,t=[],r="all",s={}){return ve.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,t,s)}sendChannelAftertouch(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendChannelAftertouch(e,t)}),this}sendPitchBend(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendPitchBend(e,t)}),this}sendProgramChange(e=0,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendProgramChange(e,t)}),this}sendModulationRange(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendModulationRange(e,t,r)}),this}setModulationRange(e=0,t=0,r="all",s={}){return ve.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,t,s)}sendMasterTuning(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendMasterTuning(e,t)}),this}setMasterTuning(e,t={},r={}){return ve.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,r)}sendTuningProgram(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendTuningProgram(e,t)}),this}setTuningProgram(e,t="all",r={}){return ve.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,r)}sendTuningBank(e=0,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendTuningBank(e,t)}),this}setTuningBank(e,t="all",r={}){return ve.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,r)}sendChannelMode(e,t=0,r={},s={}){if(ve.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const a=r;r=s,r.channels=a,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(a=>{this.channels[a].sendChannelMode(e,t,r)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(e.channels).forEach(t=>{this.channels[t].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(e.channels).forEach(t=>{this.channels[t].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},t={}){if(ve.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const r=e;e=t,e.channels=r,e.channels==="all"&&(e.channels=ie.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(e.channels).forEach(r=>{this.channels[r].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendPolyphonicMode(e,t)}),this}sendLocalControl(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendLocalControl(e,t)}),this}sendOmniMode(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendOmniMode(e,t)}),this}sendNrpnValue(e,t,r={}){return r.channels==null&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendNrpnValue(e,t,r)}),this}setNonRegisteredParameter(e,t=[],r="all",s={}){return ve.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,t,s)}sendRpnIncrement(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendRpnIncrement(e,t)}),this}incrementRegisteredParameter(e,t="all",r={}){return ve.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,r)}sendRpnDecrement(e,t={}){return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendRpnDecrement(e,t)}),this}decrementRegisteredParameter(e,t="all",r={}){return ve.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=t,r.channels==="all"&&(r.channels=ie.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,r)}sendNoteOff(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendNoteOff(e,t)}),this}stopNote(e,t){return this.sendNoteOff(e,t)}playNote(e,t={},r={}){if(ve.validation&&(t.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),t.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].playNote(e,t)}),this}sendNoteOn(e,t={},r={}){if(ve.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const s=t;t=r,t.channels=s,t.channels==="all"&&(t.channels=ie.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(t.channels).forEach(s=>{this.channels[s].sendNoteOn(e,t)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Ew{constructor(e=[],t={}){this.destinations=[],this.types=[...Object.keys(ie.SYSTEM_MESSAGES),...Object.keys(ie.CHANNEL_MESSAGES)],this.channels=ie.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),t.types&&!Array.isArray(t.types)&&(t.types=[t.types]),t.channels&&!Array.isArray(t.channels)&&(t.channels=[t.channels]),ve.validation&&(e.forEach(r=>{if(!(r instanceof om))throw new TypeError("Destinations must be of type 'Output'.")}),t.types!==void 0&&t.types.forEach(r=>{if(!ie.SYSTEM_MESSAGES.hasOwnProperty(r)&&!ie.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),t.channels!==void 0&&t.channels.forEach(r=>{if(!ie.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,t.types&&(this.types=t.types),t.channels&&(this.channels=t.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(t=>{ve.validation&&!(t instanceof om)||t.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class z7 extends Hr{constructor(e,t){super(),this._input=e,this._number=t,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const t=Object.assign({},e);t.port=this.input,t.target=this,t.type="midimessage",this.emit(t.type,t),this._parseEventForStandardMessages(t)}_parseEventForStandardMessages(e){const t=Object.assign({},e);t.type=t.message.type||"unknownmessage";const r=e.message.dataBytes[0],s=e.message.dataBytes[1];if(t.type==="noteoff"||t.type==="noteon"&&s===0)this.notesState[r]=!1,t.type="noteoff",t.note=new na(_e.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ve.octaveOffset),{rawAttack:0,rawRelease:s}),t.value=_e.from7bitToFloat(s),t.rawValue=s,t.velocity=t.note.release,t.rawVelocity=t.note.rawRelease;else if(t.type==="noteon")this.notesState[r]=!0,t.note=new na(_e.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ve.octaveOffset),{rawAttack:s}),t.value=_e.from7bitToFloat(s),t.rawValue=s,t.velocity=t.note.attack,t.rawVelocity=t.note.rawAttack;else if(t.type==="keyaftertouch")t.note=new na(_e.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ve.octaveOffset)),t.value=_e.from7bitToFloat(s),t.rawValue=s,t.identifier=t.note.identifier,t.key=t.note.number,t.rawKey=r;else if(t.type==="controlchange"){t.controller={number:r,name:ie.CONTROL_CHANGE_MESSAGES[r].name,description:ie.CONTROL_CHANGE_MESSAGES[r].description,position:ie.CONTROL_CHANGE_MESSAGES[r].position},t.subtype=t.controller.name||"controller"+r,t.value=_e.from7bitToFloat(s),t.rawValue=s;const a=Object.assign({},t);a.type=`${t.type}-controller${r}`,delete a.subtype,this.emit(a.type,a);const u=Object.assign({},t);u.type=`${t.type}-`+ie.CONTROL_CHANGE_MESSAGES[r].name,delete u.subtype,u.type.indexOf("controller")!==0&&this.emit(u.type,u),t.message.dataBytes[0]>=120&&this._parseChannelModeMessage(t),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(t.message.dataBytes[0])&&this._parseEventForParameterNumber(t)}else t.type==="programchange"?(t.value=r,t.rawValue=t.value):t.type==="channelaftertouch"?(t.value=_e.from7bitToFloat(r),t.rawValue=r):t.type==="pitchbend"?(t.value=((s<<7)+r-8192)/8192,t.rawValue=(s<<7)+r):t.type="unknownmessage";this.emit(t.type,t)}_parseChannelModeMessage(e){const t=Object.assign({},e);t.type=t.controller.name,t.type==="localcontrol"&&(t.value=t.message.data[2]===127,t.rawValue=t.message.data[2]),t.type==="omnimodeon"?(t.type="omnimode",t.value=!0,t.rawValue=t.message.data[2]):t.type==="omnimodeoff"&&(t.type="omnimode",t.value=!1,t.rawValue=t.message.data[2]),t.type==="monomodeon"?(t.type="monomode",t.value=!0,t.rawValue=t.message.data[2]):t.type==="polymodeon"&&(t.type="monomode",t.value=!1,t.rawValue=t.message.data[2]),this.emit(t.type,t)}_parseEventForParameterNumber(e){const t=e.message.dataBytes[0],r=e.message.dataBytes[1];t===99||t===101?(this._nrpnBuffer=[],this._rpnBuffer=[],t===99?this._nrpnBuffer=[e.message]:r!==127&&(this._rpnBuffer=[e.message])):t===98||t===100?t===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(t===6||t===38||t===96||t===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,t,r,s){e=e==="nrpn"?"nrpn":"rpn";const a={target:s.target,timestamp:s.timestamp,message:s.message,parameterMsb:t,parameterLsb:r,value:_e.from7bitToFloat(s.message.dataBytes[1]),rawValue:s.message.dataBytes[1]};e==="rpn"?a.parameter=Object.keys(ie.REGISTERED_PARAMETERS).find(d=>ie.REGISTERED_PARAMETERS[d][0]===t&&ie.REGISTERED_PARAMETERS[d][1]===r):a.parameter=(t<<7)+r;const u=ie.CONTROL_CHANGE_MESSAGES[s.message.dataBytes[0]].name;a.type=`${e}-${u}`,this.emit(a.type,a);const c=Object.assign({},a);c.type==="nrpn-dataincrement"?c.type="nrpn-databuttonincrement":c.type==="nrpn-datadecrement"?c.type="nrpn-databuttondecrement":c.type==="rpn-dataincrement"?c.type="rpn-databuttonincrement":c.type==="rpn-datadecrement"&&(c.type="rpn-databuttondecrement"),this.emit(c.type,c),a.type=e,a.subtype=u,this.emit(a.type,a)}getChannelModeByNumber(e){return ve.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),_e.getChannelModeByNumber(e)}getCcNameByNumber(e){if(ve.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return _e.getCcNameByNumber(e)}getNoteState(e){e instanceof na&&(e=e.identifier);const t=_e.guessNoteNumber(e,ve.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[t]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class IM{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=_e.getPropertyByValue(ie.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=_e.getPropertyByValue(ie.SYSTEM_MESSAGES,this.command)),this.statusByte===ie.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class W7 extends Hr{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let t=1;t<=16;t++)this.channels[t]=new z7(this,t);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let t={timestamp:ve.time,target:this,port:this};e.port.connection==="open"?(t.type="opened",this.emit("opened",t)):e.port.connection==="closed"&&e.port.state==="connected"?(t.type="closed",this.emit("closed",t)):e.port.connection==="closed"&&e.port.state==="disconnected"?(t.type="disconnected",t.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",t)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const t=new IM(e.data),r={port:this,target:this,message:t,timestamp:e.timeStamp,type:"midimessage",data:t.data,rawData:t.data,statusByte:t.data[0],dataBytes:t.dataBytes};this.emit("midimessage",r),t.isSystemMessage?this._parseEvent(r):t.isChannelMessage&&this.channels[t.channel]._processMidiMessageEvent(r),this._forwarders.forEach(s=>s.forward(t))}_parseEvent(e){const t=Object.assign({},e);t.type=t.message.type||"unknownmidimessage",t.type==="songselect"&&(t.song=e.data[1]+1,t.value=e.data[1],t.rawValue=t.value),this.emit(t.type,t)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){ve.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,t,r={}){if(ve.validation&&typeof r=="function"){let s=t!=null?[].concat(t):void 0;t=r,r={channels:s}}if(ie.CHANNEL_EVENTS.includes(e)){r.channels===void 0&&(r.channels=ie.MIDI_CHANNEL_NUMBERS);let s=[];return _e.sanitizeChannels(r.channels).forEach(a=>{s.push(this.channels[a].addListener(e,t,r))}),s}else return super.addListener(e,t,r)}addOneTimeListener(e,t,r={}){return r.remaining=1,this.addListener(e,t,r)}on(e,t,r,s){return this.addListener(e,t,r,s)}hasListener(e,t,r={}){if(ve.validation&&typeof r=="function"){let s=[].concat(t);t=r,r={channels:s}}return ie.CHANNEL_EVENTS.includes(e)?(r.channels===void 0&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),_e.sanitizeChannels(r.channels).every(s=>this.channels[s].hasListener(e,t))):super.hasListener(e,t)}removeListener(e,t,r={}){if(ve.validation&&typeof r=="function"){let s=[].concat(t);t=r,r={channels:s}}if(r.channels===void 0&&(r.channels=ie.MIDI_CHANNEL_NUMBERS),e==null)return _e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s]&&this.channels[s].removeListener()}),super.removeListener();ie.CHANNEL_EVENTS.includes(e)?_e.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].removeListener(e,t,r)}):super.removeListener(e,t,r)}addForwarder(e,t={}){let r;return e instanceof Ew?r=e:r=new Ew(e,t),this._forwarders.push(r),r}removeForwarder(e){this._forwarders=this._forwarders.filter(t=>t!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return ve.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class H7 extends Hr{constructor(){super(),this.defaults={note:{attack:_e.from7bitToFloat(64),release:_e.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},t=!1){if(_e.isNode)try{window.navigator}catch{let c=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();ji.navigator||(ji.navigator={}),Object.assign(ji.navigator,c)}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:t}),t&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},s={timestamp:this.time,target:this,type:"midiaccessgranted"},a={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(u){return r.error=u,this.emit("error",r),typeof e.callback=="function"&&e.callback(u),Promise.reject(u)}this.emit("midiaccessgranted",s),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(u){return r.error=u,this.emit("error",r),typeof e.callback=="function"&&e.callback(u),Promise.reject(u)}return this.emit("enabled",a),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(t.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===e.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===e.toString())return this.inputs[r]}getInputByName(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(t.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(e))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(e))return this.inputs[r]}getOutputByName(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(t.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(e))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(e))return this.outputs[r]}getOutputById(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(t.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===e.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===e.toString())return this.outputs[r]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),_e.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?_e.getNoteDetails(_e.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),_e.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),_e.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),_e.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,t={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),_e.buildNoteArray(e,t)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),_e.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(t=>e.push(t.destroy())),this.outputs.forEach(t=>e.push(t.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let t={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?t.port=this.getOutputById(e.port.id):e.port.type==="input"&&(t.port=this.getInputById(e.port.id)),this.emit(e.port.state,t);const r=Object.assign({},t);r.type="portschanged",this.emit(r.type,r)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?t.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(t.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,t);const r=Object.assign({},t);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let t=this._inputs.length-1;t>=0;t--){const r=this._inputs[t];Array.from(this.interface.inputs.values()).find(a=>a===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(t,1))}let e=[];return this.interface.inputs.forEach(t=>{if(!this._inputs.find(r=>r._midiInput===t)){let r=this._disconnectedInputs.find(s=>s._midiInput===t);r||(r=new W7(t)),this._inputs.push(r),e.push(r.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let t=this._outputs.length-1;t>=0;t--){const r=this._outputs[t];Array.from(this.interface.outputs.values()).find(a=>a===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(t,1))}let e=[];return this.interface.outputs.forEach(t=>{if(!this._outputs.find(r=>r._midiOutput===t)){let r=this._disconnectedOutputs.find(s=>s._midiOutput===t);r||(r=new om(t)),this._outputs.push(r),e.push(r.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),_e.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),_e.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.12"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),ie.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),ie.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),ie.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),ie.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),ie.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const ve=new H7;ve.constructor=null;var Mw=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function c(p){try{h(r.next(p))}catch(m){u(m)}}function d(p){try{h(r.throw(p))}catch(m){u(m)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class Er extends L7.EventEmitter{constructor(e="all"){super(),this.deviceId=e,Er.enabled().then(()=>{ve.addListener("connected",t=>{t.port.type==="input"&&this._addListeners(t.port)}),ve.addListener("disconnected",t=>{this._removeListeners(t.port)}),ve.inputs.forEach(t=>this._addListeners(t))})}_addListeners(e){Er.connectedDevices.has(e.id)||(Er.connectedDevices.set(e.id,e),this.emit("connect",this._inputToDevice(e)),e.addListener("noteon",t=>{(this.deviceId==="all"||this.deviceId===e.id)&&this.emit("keyDown",{note:`${t.note.name}${t.note.octave}`,midi:t.note.number,velocity:t.note.attack,device:this._inputToDevice(e)})}),e.addListener("noteoff",t=>{(this.deviceId==="all"||this.deviceId===e.id)&&this.emit("keyUp",{note:`${t.note.name}${t.note.octave}`,midi:t.note.number,velocity:t.note.attack,device:this._inputToDevice(e)})}),e.addListener("controlchange",t=>{(this.deviceId==="all"||this.deviceId===e.id)&&t.controller.name==="holdpedal"&&this.emit(t.value?"pedalDown":"pedalUp",{device:this._inputToDevice(e)})}))}_inputToDevice(e){return{name:e.name,id:e.id,manufacturer:e.manufacturer}}_removeListeners(e){if(Er.connectedDevices.has(e.id)){const t=Er.connectedDevices.get(e.id);this.emit("disconnect",this._inputToDevice(t)),Er.connectedDevices.delete(e.id),t.removeListener("noteon"),t.removeListener("noteoff"),t.removeListener("controlchange")}}emit(e,t){return super.emit(e,t)}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}off(e,t){return super.off(e,t),this}static enabled(){return Mw(this,void 0,void 0,function*(){Er._isEnabled||(yield ve.enable(),Er._isEnabled=!0)})}static getDevices(){return Mw(this,void 0,void 0,function*(){return yield Er.enabled(),ve.inputs})}}Er.connectedDevices=new Map;Er._isEnabled=!1;class Fg{constructor(){Fr(this,"initialized");Fr(this,"piano");this.initialized=!1,this.piano=new yd,this.piano.toDestination()}async initialize(){this.initialized||(await JL(),await this.piano.load(),this.initialized=!0)}playNote(e,t="8n",r=rm()){this.piano.keyDown({note:e,time:r}),this.piano.keyUp({note:e,time:r+(typeof t=="number"?t:Dl(t).toSeconds())})}playChord(e,t){let r=e.map((a,u,c)=>Dl("2n").toSeconds()+(t===void 0?0:Dl(t).toSeconds()*(e.length-u))),s=rm();for(let a=0;a<e.length;a++)this.playNote(sa.simplify(e[a]),r[a],s),s+=t===void 0?0:Dl(t).toSeconds()}}var wp,bw;function q7(){return bw||(bw=1,wp=function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var r=e%10;return r===1?"st":r===2?"nd":r===3?"rd":"th"}),wp}var Sp,Tw;function G7(){if(Tw)return Sp;Tw=1;var n=q7();function e(t){if(typeof t!="number")throw new TypeError("Expected Number, got "+typeof t+" "+t);return Number.isFinite(t)?t+n(t):t}return e.indicator=n,Sp=e,Sp}var Y7=G7();const K7=gi(Y7),Br=n=>{if(n=n.toLowerCase(),isNaN(+n.slice(-1))||(n=n.slice(0,-1)),n.length>1){if(n.slice(-1)==="#")return n[0].toUpperCase()+" sharp";if(n.slice(-1)==="b")return n[0].toUpperCase()+" flat"}return n[0].toUpperCase()},ws=n=>{if(n=n.toLowerCase(),isNaN(+n.slice(-1))||(n=n.slice(0,-1)),n.length>1){if(n.slice(-1)==="#")return n[0]+"-sharp";if(n.slice(-1)==="b")return n[0]+"-flat"}return n[0]},$g=n=>{let e=n.charAt(0).toLowerCase();return n.match(/[a-g]-sharp/i)?e+="#":n.match(/[a-g]#-flat/i)&&(e+="b"),e},Ug=n=>/^[a-g](-(sharp|flat))?$/i.test(n),X7=n=>{let e="";switch(n.slice(-1)){case"P":e+="Perfect ";break;case"m":e+="Minor ";break;case"M":e+="Major ";break}return e+=K7(parseInt(n.slice(0,-1),10)),e};function sf(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Page Not Found"}),C.jsx("p",{children:"The page you're looking for cannot be found."})]})}function Q7(){const n=M.useMemo(()=>new Fg,[]);let{note:e,chord:t}=Ed();e===void 0&&(e="c");let[r,s]=M.useState(e);return M.useEffect(()=>{(async()=>await n.initialize())()},[n]),t===void 0||!Wp.names().includes(t)||!Ug(e)?C.jsx(sf,{}):(e=$g(e),C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:or(sr.getChord(unescape(t),r).name+" chord")}),C.jsx("h3",{children:or(sr.getChord(unescape(t)).name+" chord")}),"Select the current chord:",C.jsx(ya,{title:"Selected chord: "+or(sr.getChord(unescape(t)).name),children:Wp.names().sort().map(a=>C.jsx(co.LinkContainer,{to:"/chords/"+escape(a)+"/"+ws(r),children:C.jsx(Mr.Item,{children:or(a)})}))}),"Select the tonic note for this chord:",C.jsx(ya,{title:"Tonic note: "+Br(r),children:["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"].map(a=>C.jsx(co.LinkContainer,{replace:!0,to:"/chords/"+escape(t)+"/"+ws(a),children:C.jsx(Mr.Item,{onClick:()=>s(a),children:Br(a)})}))}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{as:"h4",children:or(sr.getChord(unescape(t),r).name+" chord")}),C.jsxs(Xe.Text,{children:["The following notes are included in this chord:"," ",sr.getChord(unescape(t),r).notes.map(a=>C.jsx(Rn,{to:"/notes/"+ws(sa.simplify(a)),children:Br(sa.simplify(a))}))]}),C.jsx(Xe.Link,{onClick:()=>{n.playChord(sr.getChord(unescape(t),r+"4").notes,"4n")},children:"Listen to the slowly arpeggiated chord"}),C.jsx(Xe.Link,{onClick:()=>{n.playChord(sr.getChord(unescape(t),r+"4").notes,"32n")},children:"Listen to the quickly arpeggiated chord"}),C.jsx(Xe.Link,{onClick:()=>{n.playChord(sr.getChord(unescape(t),r+"4").notes)},children:"Listen to the full chord"})]})})]}))}const DM=M.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:s,variant:a,action:u,as:c,...d},h)=>{n=Je(n,"list-group-item");const[p,m]=Mm({key:fa(r,d.href),active:e,...d}),v=bs(w=>{if(t){w.preventDefault(),w.stopPropagation();return}p.onClick(w)});t&&d.tabIndex===void 0&&(d.tabIndex=-1,d["aria-disabled"]=!0);const _=c||(u?d.href?"a":"button":"div");return C.jsx(_,{ref:h,...d,...p,onClick:v,className:ze(s,n,m.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,u&&`${n}-action`)})});DM.displayName="ListGroupItem";const jM=M.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:s,horizontal:a,numbered:u,as:c="div",...d}=xd(n,{activeKey:"onSelect"}),h=Je(r,"list-group");let p;return a&&(p=a===!0?"horizontal":`horizontal-${a}`),C.jsx(I0,{ref:e,...d,as:c,className:ze(t,h,s&&`${h}-${s}`,p&&`${h}-${p}`,u&&`${h}-numbered`)})});jM.displayName="ListGroup";const xa=Object.assign(jM,{Item:DM});function Z7(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Chords"}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{as:"h3",children:"Chords"}),C.jsx(Xe.Text,{children:"You will find the alphabetically sorted list of all common chords below. Follow the links to find more information about the chords, including audio examples."})]})}),C.jsx("h3",{children:"Chords List"}),C.jsx(xa,{children:Wp.names().sort().map(n=>C.jsx(co.LinkContainer,{to:"/chords/"+escape(n),children:C.jsx(xa.Item,{action:!0,children:n})}))})]})}const Bg=M.forwardRef(({title:n},e)=>{let[t,r]=M.useState(!1);return C.jsx("h3",{tabIndex:-1,ref:s=>{typeof e=="function"?e(s):e&&(e.current=s),s&&!t&&(s.focus(),r(!0))},children:n})});var jc;function xw(n){if((!jc&&jc!==0||n)&&Ra){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),jc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return jc}function J7(){return M.useState(null)}function e5(n){const e=M.useRef(n);return e.current=n,e}function t5(n){const e=e5(n);M.useEffect(()=>()=>e.current(),[])}const LM=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"modal-body"),C.jsx(t,{ref:s,className:ze(n,e),...r})));LM.displayName="ModalBody";const Vg=M.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:s,fullscreen:a,children:u,scrollable:c,...d},h)=>{n=Je(n,"modal");const p=`${n}-dialog`,m=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return C.jsx("div",{...d,ref:h,className:ze(p,e,s&&`${n}-${s}`,r&&`${p}-centered`,c&&`${p}-scrollable`,a&&m),children:C.jsx("div",{className:ze(`${n}-content`,t),children:u})})});Vg.displayName="ModalDialog";const FM=M.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Je(e,"modal-footer"),C.jsx(t,{ref:s,className:ze(n,e),...r})));FM.displayName="ModalFooter";const $M=M.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Je(n,"modal-header"),C.jsx(Z0,{ref:a,...s,className:ze(e,n),closeLabel:t,closeButton:r})));$M.displayName="ModalHeader";const n5=Od("h4"),UM=M.forwardRef(({className:n,bsPrefix:e,as:t=n5,...r},s)=>(e=Je(e,"modal-title"),C.jsx(t,{ref:s,className:ze(n,e),...r})));UM.displayName="ModalTitle";function r5(n){return C.jsx(kd,{...n,timeout:null})}function i5(n){return C.jsx(kd,{...n,timeout:null})}const BM=M.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:s,children:a,dialogAs:u=Vg,"data-bs-theme":c,"aria-labelledby":d,"aria-describedby":h,"aria-label":p,show:m=!1,animation:v=!0,backdrop:_=!0,keyboard:w=!0,onEscapeKeyDown:E,onShow:S,onHide:P,container:O,autoFocus:R=!0,enforceFocus:N=!0,restoreFocus:x=!0,restoreFocusOptions:k,onEntered:T,onExit:A,onExiting:U,onEnter:j,onEntering:V,onExited:B,backdropClassName:Z,manager:ne,...he},se)=>{const[oe,q]=M.useState({}),[te,Q]=M.useState(!1),D=M.useRef(!1),G=M.useRef(!1),ee=M.useRef(null),[ge,ue]=J7(),me=Nd(se,ue),Ie=bs(P),ce=C0();n=Je(n,"modal");const We=M.useMemo(()=>({onHide:Ie}),[Ie]);function ct(){return ne||nS({isRTL:ce})}function ft(Ke){if(!Ra)return;const Ht=ct().getScrollbarWidth()>0,Zt=Ke.scrollHeight>tu(Ke).documentElement.clientHeight;q({paddingRight:Ht&&!Zt?xw():void 0,paddingLeft:!Ht&&Zt?xw():void 0})}const it=bs(()=>{ge&&ft(ge.dialog)});t5(()=>{jp(window,"resize",it),ee.current==null||ee.current()});const bt=()=>{D.current=!0},nn=Ke=>{D.current&&ge&&Ke.target===ge.dialog&&(G.current=!0),D.current=!1},de=()=>{Q(!0),ee.current=V0(ge.dialog,()=>{Q(!1)})},Te=Ke=>{Ke.target===Ke.currentTarget&&de()},st=Ke=>{if(_==="static"){Te(Ke);return}if(G.current||Ke.target!==Ke.currentTarget){G.current=!1;return}P==null||P()},lt=Ke=>{w?E==null||E(Ke):(Ke.preventDefault(),_==="static"&&de())},Ge=(Ke,Ht)=>{Ke&&ft(Ke),j==null||j(Ke,Ht)},Ye=Ke=>{ee.current==null||ee.current(),A==null||A(Ke)},yt=(Ke,Ht)=>{V==null||V(Ke,Ht),Cm(window,"resize",it)},zt=Ke=>{Ke&&(Ke.style.display=""),B==null||B(Ke),jp(window,"resize",it)},vn=M.useCallback(Ke=>C.jsx("div",{...Ke,className:ze(`${n}-backdrop`,Z,!v&&"show")}),[v,Z,n]),Wt={...t,...oe};Wt.display="block";const _n=Ke=>C.jsx("div",{role:"dialog",...Ke,style:Wt,className:ze(e,n,te&&`${n}-static`,!v&&"show"),onClick:_?st:void 0,onMouseUp:nn,"data-bs-theme":c,"aria-label":p,"aria-labelledby":d,"aria-describedby":h,children:C.jsx(u,{...he,onMouseDown:bt,className:r,contentClassName:s,children:a})});return C.jsx(km.Provider,{value:We,children:C.jsx(K0,{show:m,ref:me,backdrop:_,container:O,keyboard:!0,autoFocus:R,enforceFocus:N,restoreFocus:x,restoreFocusOptions:k,onEscapeKeyDown:lt,onShow:S,onHide:P,onEnter:Ge,onEntering:yt,onEntered:T,onExit:Ye,onExiting:U,onExited:zt,manager:ct(),transition:v?r5:void 0,backdropTransition:v?i5:void 0,renderBackdrop:vn,renderDialog:_n})})});BM.displayName="Modal";const Lc=Object.assign(BM,{Body:LM,Header:$M,Title:UM,Footer:FM,Dialog:Vg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function s5({children:n}){const[e,t]=M.useState(!1);return C.jsxs(C.Fragment,{children:[C.jsxs(Lc,{show:e,onHide:()=>t(!1),children:[C.jsx(Lc.Header,{closeButton:!1,children:C.jsx(Lc.Title,{})}),C.jsxs(Lc.Body,{children:[C.jsx("section",{children:n}),C.jsx(Fi,{onClick:()=>t(!1),children:"End training"})]})]}),C.jsx(Fi,{onClick:()=>t(!0),children:"Start training"})]})}function o5(n){const e=M.useRef(null);return M.useInsertionEffect(()=>{e.current=n},[n]),M.useCallback((...t)=>{const r=e.current;return r(...t)},[])}const a5="Music by Jean-Philippe Rykiel (https://jeanphilipperykiel.com/)",Ep="Music by Ondrosik, available at https://audio.com/ondrosik",Cw=[{url:new URL("/musicalsight/assets/Jean-Philippe%20Rykiel%20-%20Ode%20to%20Vangelis-B4L-PLVz.opus",import.meta.url).href,credits:a5},{url:new URL("/musicalsight/assets/Ondrosik%20-%20Dobr%C3%BA%20noc%20M%C3%A1%20mil%C3%A1-2-mT8be1.opus",import.meta.url).href,credits:Ep},{url:new URL("/musicalsight/assets/Ondrosik%20-%20Fairitale-CKjJZwhM.opus",import.meta.url).href,credits:Ep},{url:new URL("/musicalsight/assets/Ondrosik%20-%20Procrastination-BcX42-qX.opus",import.meta.url).href,credits:Ep}],Mp=new Map([[1,[150,800,3e3,8e3]],[2,[100,200,400,800,2500,6e3,12e3]],[3,[750,3500]]]),Pw=6;function l5({level:n}){const e=M.useMemo(()=>new AudioContext,[]),[t,r]=M.useState(void 0),s=M.useRef(null),a=M.useRef(null),u=M.useRef(null),[c,d]=M.useState(0),[h,p]=M.useState(0),[m,v]=M.useState(0),_=M.useRef(null),w=o5(E=>{var R;let S=5;(R=_.current)==null||R.focus();let P=t;for(;P===t;)P=Cw[Math.floor(Math.random()*Cw.length)];r(P),p(0),v(S);const O=setInterval(()=>{if(S-=1,v(S),S===0){const N=E[Math.floor(Math.random()*E.length)];d(N),u.current.frequency.value=Math.round(N),clearInterval(O),p(Pw)}},1e3)});return M.useEffect(()=>{a.current||(a.current=e.createMediaElementSource(s.current),u.current=e.createBiquadFilter(),u.current.type="peaking",u.current.gain.value=h,a.current.connect(u.current).connect(e.destination),e.state==="suspended"&&e.resume(),w(Mp.get(n)))},[e,a,u,n,w]),M.useEffect(()=>{u.current&&(u.current.gain.value=h)},[u,h]),C.jsxs(C.Fragment,{children:[C.jsx("audio",{ref:s,autoPlay:!0,loop:!0,controls:!1,src:t==null?void 0:t.url}),C.jsx(Bg,{ref:_,title:m===0?"Choose the frequency that got boosted":`The original tune will player for another ${m} seconds.`}),C.jsx("ul",{style:{listStyleType:"none"},"aria-label":"Choose the frequency that got boosted",children:Mp.get(n).map(E=>C.jsx("li",{children:C.jsx(Fi,{"aria-pressed":!1,disabled:m>0,onClick:()=>{u.current.frequency.value===E&&w(Mp.get(n))},children:`${E} Hz`})}))}),C.jsx(Fi,{"aria-pressed":h===0,disabled:m>0,onClick:()=>{p(h===0?Pw:0)},children:"Toggle original"})]})}function u5(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Frequency Identifier - Ear Training"}),C.jsx(Bg,{title:"Frequency Identifier - Ear Training"}),C.jsx("p",{children:"In this ear training exercise, you'll listen to a song for a few seconds, after which the song will be played back again, but with a certain frequency being bosted or attenuated. Your task is to guess which frequency got boosted or cut. If you guessed correctly, you'll get a different song with a different frequency and so on, until you end the game."}),C.jsx(s5,{children:C.jsx(l5,{level:1})})]})}function c5(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Home"}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{as:"h3",children:"Welcome!"}),C.jsx(Xe.Text,{children:"Musical Sight aims to provide useful information about music theory, notes, scales and alot more. Most of the stuff shown here is common knowledge to sighted people who are able to communicate knowledge via slides, video material and more, while blind people often have to stick with learning through their ears only. To help them understand things a bit better, Musical Sight will try to organize information in a way that is more useful for blind people, including note and scale sound previews. Keep in mind however that this is still a fan website. Neither do I guarantee the correctness of all the information that is shown here, nor can I be made responsible for any potential damage that is caused to you by using this website."})]})})]})}function d5(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Imprint"}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{children:"Imprint and related information"}),C.jsx(Xe.Text,{children:"Find all the relevant information here!"})]})})]})}function f5(){let n=M.useMemo(()=>new Fg,[]),{note:e}=Ed();if(M.useEffect(()=>{(async()=>await n.initialize())()},[n]),e===void 0||!Ug(e))return C.jsx(sf,{});e=$g(e);let t=()=>e[0].toUpperCase()+e.substr(1);return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:t()}),C.jsx("h3",{children:t()}),C.jsx("button",{onClick:()=>{n.playNote(e+"4")},children:"Listen now"})]})}function h5(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Notes"}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{as:"h3",children:"Notes"}),C.jsx(Xe.Text,{children:"All melodies and chords consist of the same 12 notes distributed over multiple octaves, starting from octave 0 up to octave 7. Notes are usually written with their corresponding octave number appended to them, the note C in octave 4 being written as C4. C4 is also known as the middle C."}),C.jsx(Xe.Text,{children:"This page lists all 12 notes in ascending order, with all the sharp/flat notes being known as the black keys on a keyboard and every other note being a white key. The highest note (B) is followed by a C again, but within the next octave and vice versa. You can click on any note listed here to open its corresponding page, where you will find listening example and more information on the note, its keys and so on."})]})}),C.jsx("h3",{children:"Notes List"}),C.jsx(xa,{children:["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"].map(n=>C.jsx(co.LinkContainer,{to:"/notes/"+ws(n),children:C.jsx(xa.Item,{action:!0,children:Br(n)})}))})]})}function p5(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Privacy Policy"}),C.jsx(Bg,{title:"Privacy Policy for Musical Sight"}),C.jsxs("p",{children:["At Musical Sight, accessible from"," ",C.jsx("a",{href:"https://timtam.github.io/musicalsight",children:"https://timtam.github.io/musicalsight"}),", one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by Musical Sight and how we use it."]}),C.jsx("p",{children:"If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us."}),C.jsxs("p",{children:["This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in Musical Sight. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the"," ",C.jsx("a",{href:"https://www.privacypolicygenerator.info/",children:"Free Privacy Policy Generator"}),"."]}),C.jsx("h4",{children:"Consent"}),C.jsx("p",{children:"By using our website, you hereby consent to our Privacy Policy and agree to its terms."}),C.jsx("h4",{children:"Information we collect"}),C.jsx("p",{children:"The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information."}),C.jsx("p",{children:"If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide."}),C.jsx("p",{children:"When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number."}),C.jsx("h4",{children:"How we use your information"}),C.jsx("p",{children:"We use the information we collect in various ways, including to:"}),C.jsxs("ul",{children:[C.jsx("li",{children:"Provide, operate, and maintain our website"}),C.jsx("li",{children:"Improve, personalize, and expand our website"}),C.jsx("li",{children:"Understand and analyze how you use our website"}),C.jsx("li",{children:"Develop new products, services, features, and functionality"}),C.jsx("li",{children:"Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes"}),C.jsx("li",{children:"Send you emails"}),C.jsx("li",{children:"Find and prevent fraud"})]}),C.jsx("h4",{children:"Log Files"}),C.jsx("p",{children:"Musical Sight follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information."}),C.jsx("h4",{children:"Advertising Partners Privacy Policies"}),C.jsx("p",{children:"You may consult this list to find the Privacy Policy for each of the advertising partners of Musical Sight."}),C.jsx("p",{children:"Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on Musical Sight, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit."}),C.jsx("p",{children:"Note that Musical Sight has no access to or control over these cookies that are used by third-party advertisers."}),C.jsx("h4",{children:"Third Party Privacy Policies"}),C.jsx("p",{children:"Musical Sight's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options."}),C.jsx("p",{children:"You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites."}),C.jsx("h4",{children:"CCPA Privacy Rights (Do Not Sell My Personal Information)"}),C.jsx("p",{children:"Under the CCPA, among other rights, California consumers have the right to:"}),C.jsxs("ul",{children:[C.jsx("li",{children:"Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers."}),C.jsx("li",{children:"Request that a business delete any personal data about the consumer that a business has collected."}),C.jsx("li",{children:"Request that a business that sells a consumer's personal data, not sell the consumer's personal data."}),C.jsx("li",{children:"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."})]}),C.jsx("h4",{children:"GDPR Data Protection Rights"}),C.jsx("p",{children:"We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:"}),C.jsxs("ul",{children:[C.jsx("li",{children:"The right to access  You have the right to request copies of your personal data. We may charge you a small fee for this service."}),C.jsx("li",{children:"The right to rectification  You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete."}),C.jsx("li",{children:"The right to erasure  You have the right to request that we erase your personal data, under certain conditions."}),C.jsx("li",{children:"The right to restrict processing  You have the right to request that we restrict the processing of your personal data, under certain conditions."}),C.jsx("li",{children:"The right to object to processing  You have the right to object to our processing of your personal data, under certain conditions."}),C.jsx("li",{children:"The right to data portability  You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions."}),C.jsx("li",{children:"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."})]}),C.jsx("h4",{children:"Children's Information"}),C.jsx("p",{children:"Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity."}),C.jsx("p",{children:"Musical Sight does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records."})]})}var m5=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],g5=m5;({...xs});var zg=[],Yc={};function y5(){return zg.slice()}function v5(n,e,t){const r=w5(n),s={...hi(n),name:t||"",quality:r,intervals:n,aliases:e};zg.push(s),s.name&&(Yc[s.name]=s),Yc[s.setNum]=s,Yc[s.chroma]=s,s.aliases.forEach(a=>_5(s,a))}function _5(n,e){Yc[e]=n}function w5(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}g5.forEach(([n,e,t])=>v5(n.split(" "),t.split(" "),e));zg.sort((n,e)=>n.setNum-e.setNum);var S5={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function VM(n){if(typeof n!="string")return["",""];const e=n.indexOf(" "),t=Vt(n.substring(0,e));if(t.empty){const s=Vt(n);return s.empty?["",n]:[s.name,""]}const r=n.substring(t.name.length+1).toLowerCase();return[t.name,r.length?r:""]}var E5=eE;function mi(n){const e=Array.isArray(n)?n:VM(n),t=Vt(e[0]).name,r=Qm(e[1]);if(r.empty)return S5;const s=r.name,a=t?r.intervals.map(c=>ql(t,c)):[],u=t?t+" "+s:s;return{...r,name:u,type:s,tonic:t,notes:a}}var M5=mi;function b5(n,e={}){const t=OO(n),r=Vt(e.tonic??n[0]??""),s=r.chroma;if(s===void 0)return[];const a=t.split("");a[s]="1";const u=Dd(s,a).join(""),c=Da().find(h=>h.chroma===u),d=[];return c&&d.push(r.name+" "+c.name),e.match==="exact"||zM(u).forEach(h=>{d.push(r.name+" "+h)}),d}function T5(n){const e=mi(n),t=qm(e.chroma);return y5().filter(r=>t(r.chroma)).map(r=>r.aliases[0])}function zM(n){const e=Hm(n)?n:mi(n).chroma,t=Gm(e);return Da().filter(r=>t(r.chroma)).map(r=>r.name)}function x5(n){const e=qm(mi(n).chroma);return Da().filter(t=>e(t.chroma)).map(t=>t.name)}function WM(n){const e=n.map(s=>Vt(s).pc).filter(s=>s),t=e[0],r=cE(e);return Dd(r.indexOf(t),r)}function C5(n){const e=mi(n);if(e.empty)return[];const t=e.tonic?e.notes:e.intervals;return VS(e.chroma).map((r,s)=>{const a=mi(r).name;return a?[t[s],a]:["",""]}).filter(r=>r[0])}function P5(n){const e=Array.isArray(n)?WM(n):mi(n).notes,t=e.map(r=>Vt(r).chroma);return r=>{const s=Vt(typeof r=="number"?sE(r):r),a=s.height;if(a===void 0)return;const u=a%12,c=t.indexOf(u);if(c!==-1)return dE(s.name,e[c])}}function N5(n){const e=P5(n);return(t,r)=>{const s=Vt(t).height,a=Vt(r).height;return s===void 0||a===void 0?[]:Fk(s,a).map(e).filter(u=>u)}}function A5(n){const{intervals:e,tonic:t}=mi(n),r=FS(e,t);return s=>s?r(s>0?s-1:s):""}function k5(n){const{intervals:e,tonic:t}=mi(n);return FS(e,t)}var Ol={degrees:A5,detect:b5,extended:zM,get:mi,modeNames:C5,names:E5,rangeOf:N5,reduced:x5,scaleChords:T5,scaleNotes:WM,steps:k5,tokenize:VM,scale:M5};const O5=M.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:r,borderless:s,hover:a,size:u,variant:c,responsive:d,...h},p)=>{const m=Je(n,"table"),v=ze(e,m,c&&`${m}-${c}`,u&&`${m}-${u}`,t&&`${m}-${typeof t=="string"?`striped-${t}`:"striped"}`,r&&`${m}-bordered`,s&&`${m}-borderless`,a&&`${m}-hover`),_=C.jsx("table",{...h,className:v,ref:p});if(d){let w=`${m}-responsive`;return typeof d=="string"&&(w=`${w}-${d}`),C.jsx("div",{className:w,children:_})}return _});function R5(){let n=M.useMemo(()=>new Fg,[]),{note:e,scale:t}=Ed();e===void 0&&(e="c"),M.useEffect(()=>{(async()=>await n.initialize())()},[n]);let r=!0;t===void 0||!Hp.names().includes(t)||!Ug(e)?r=!1:e=$g(e);let[s,a]=M.useState(e);if(!r)return C.jsx(sf,{});let u=()=>or(unescape(t)+" scale"),c=async()=>{let p=[...Ol.get(s+"4 "+unescape(t)).notes,s+"5",...Ol.get(s+"4 "+unescape(t)).notes.reverse()],m=p.map((_,w,E)=>w===E.length-1?"2n":"4n"),v=rm();for(let _=0;_<p.length;_++){let w=sa.simplify(p[_]),E=m[_];n.playNote(w,E,v),v+=Dl(E).toSeconds()}},d=()=>C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsxs(Xe.Title,{as:"h4",children:["Key of"," ",Br(s)+" "+or(unescape(t))]}),C.jsxs(Xe.Text,{children:["The following notes are included in this scale by applying the above intervals to the selected root note:"," ",Ol.get(s+"4 "+unescape(t)).notes.map(p=>C.jsx(Rn,{to:"/notes/"+ws(sa.simplify(p.slice(0,-1))),children:Br(sa.simplify(p.slice(0,-1)))}))]}),C.jsx(Xe.Link,{onClick:c,children:"Listen to the notes"})]})}),h=()=>C.jsxs(C.Fragment,{children:[C.jsxs(Xe,{className:"text-center",children:[C.jsx(Xe.Body,{children:C.jsxs(Xe.Title,{as:"h4",children:["Chords rooted at ",Br(s)," within the ",or(unescape(t))," scale"," "]})}),C.jsxs(Xe.Text,{children:["The following chords can be built by using"," ",Br(s)," as your root note within the ",or(unescape(t))," scale. You can follow the links to get more information on the specific chords or use the preview buttons to preview them from scratch."]})]}),C.jsxs(O5,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Name"}),C.jsx("th",{children:"Preview slowly arpeggiated"}),C.jsx("th",{children:"Preview quickly arpeggiated"}),C.jsx("th",{children:"Preview full chord"})]})}),C.jsx("tbody",{children:Ol.scaleChords(s+" "+unescape(t)).map(p=>C.jsxs("tr",{children:[C.jsx("td",{children:C.jsx(Rn,{to:"/chords/"+escape(sr.getChord(p).name)+"/"+ws(s),children:or(sr.getChord(p,s).name)})}),C.jsx("td",{children:C.jsx(Fi,{onClick:()=>{n.playChord(sr.getChord(p,s+"4").notes,"4n")},children:"Preview"})}),C.jsx("td",{children:C.jsx(Fi,{onClick:()=>{n.playChord(sr.getChord(p,s+"4").notes,"32n")},children:"Preview"})}),C.jsx("td",{children:C.jsx(Fi,{onClick:()=>{n.playChord(sr.getChord(p,s+"4").notes)},children:"Preview"})})]}))})]})]});return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:Br(s)+" "+u()}),C.jsx("h3",{children:u()}),"Select the current scale:",C.jsx(ya,{title:"Selected scale: "+or(unescape(t)),children:Hp.names().sort().map(p=>C.jsx(co.LinkContainer,{to:"/scales/"+escape(p)+"/"+ws(s),children:C.jsx(Mr.Item,{children:or(p)})}))}),C.jsx("h3",{children:"General information about the "+or(unescape(t))+" scale"}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{children:"Intervals"}),C.jsx(Xe.Text,{children:"A scale consists of a root note and a certain amount of intervals applied to the root note to find the next note of the scale."}),C.jsxs(Xe.Text,{children:["The following intervals determine this scale:"," ",C.jsx("ul",{children:Ol.get(unescape(t)).intervals.map(p=>C.jsx("li",{children:X7(p)}))})]})]})}),"Select the root note to apply the scale to:",C.jsx(ya,{title:"Selected note: "+Br(s),children:["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"].map(p=>C.jsx(co.LinkContainer,{replace:!0,to:"/scales/"+t+"/"+ws(p),children:C.jsx(Mr.Item,{onClick:()=>a(p),children:Br(p)})}))}),d(),h()]})}function I5(){return C.jsxs(C.Fragment,{children:[C.jsx(Zr,{title:"Scales"}),C.jsx(Xe,{className:"text-center",children:C.jsxs(Xe.Body,{children:[C.jsx(Xe.Title,{as:"h3",children:"Scales"}),C.jsxs(Xe.Text,{children:["Musical theory describes scales to be a set of intervals that can be applied to any given note to find other notes that can be used together to create a musically appealing melody. There are alot different scales, but the most common ones in western music are probably the"," ",C.jsx(Rn,{to:"/scales/major",children:"major"})," and the"," ",C.jsx(Rn,{to:"/scales/aeolian",children:"natural minor (also known as aeolian)"})," ","scales."]}),C.jsx(Xe.Text,{children:"You will find the alphabetically sorted list of all common scales below. Follow the links to find more information about the scales, find the keys associated with them and audio examples as well."})]})}),C.jsx("h3",{children:"Scales List"}),C.jsx(xa,{children:Hp.names().sort().map(n=>C.jsx(co.LinkContainer,{to:"/scales/"+escape(n),children:C.jsx(xa.Item,{action:!0,children:n})}))})]})}const D5=v0([{element:C.jsx(Dk,{}),errorElement:C.jsx(sf,{}),children:[{lazy:()=>Mc(()=>import("./Catalog-_nYcuCUA.js"),__vite__mapDeps([0,1,2,3,4])),path:"/catalog"},{lazy:()=>Mc(()=>import("./CatalogProduct-CL7qkhTA.js"),__vite__mapDeps([5,2,1,6])),path:"/catalog/product/:productId"},{lazy:()=>Mc(()=>import("./CatalogSubmit-CAnnScTG.js"),__vite__mapDeps([7,1,4,3])),path:"/catalog/submit"},{lazy:()=>Mc(()=>import("./CatalogVendor-DMNpYl-b.js"),__vite__mapDeps([8,1,2,3,6])),path:"/catalog/vendor/:vendorId"},{element:C.jsx(Z7,{}),path:"/chords"},{element:C.jsx(Q7,{}),path:"/chords/:chord/:note?"},{element:C.jsx(c5,{}),path:"/"},{element:C.jsx(u5,{}),path:"/frequency-identifier"},{element:C.jsx(d5,{}),path:"/imprint"},{element:C.jsx(h5,{}),path:"/notes"},{element:C.jsx(f5,{}),path:"/notes/:note"},{element:C.jsx(p5,{}),path:"/privacy-policy"},{element:C.jsx(I5,{}),path:"/scales"},{element:C.jsx(R5,{}),path:"/scales/:scale/:note?"}]}]);$T.createRoot(document.getElementById("root")).render(C.jsx(Ot.StrictMode,{children:C.jsx(Lw,{children:C.jsx(w0,{router:D5})})}));export{Tm as A,Fi as B,_N as C,Bg as F,Zr as H,Rn as L,Lc as M,sf as N,Ut as P,Mc as _,AT as a,ze as b,p1 as c,hP as d,Ed as e,Sd as f,gi as g,$5 as h,U5 as i,C as j,xd as k,vd as l,U0 as m,UT as n,Xe as o,_p as p,xa as q,M as r,ji as s,Je as u};
